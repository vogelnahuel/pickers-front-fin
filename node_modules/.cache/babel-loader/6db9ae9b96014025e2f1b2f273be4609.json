{"ast":null,"code":"var _jsxFileName = \"/home/nahuel/pickers-admin-front/src/pages/preliquidation/DetailPreliquidation/invoice/Invoice.tsx\",\n    _s = $RefreshSig$();\n\nimport { Input } from \"component/inputs/Input\";\nimport React, { useRef } from \"react\";\nimport \"pages/preliquidation/DetailPreliquidation/invoice/detailPreliquidationInvoice.scss\";\nimport { Field, Form, FormSpy } from \"react-final-form\";\nimport { Tooltip, ToolTipPosition } from \"@pickit/pickit-components\";\nimport { PdfViewer } from \"component/pdf-viewer/PdfViewer\";\nimport { ReactComponent as DeleteIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../../../assets/admin/file-delete.svg\";\nimport { ReactComponent as DownloadIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../../../assets/admin/file-download.svg\";\nimport { ReactComponent as ReplaceIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../../../assets/admin/file-replace.svg\";\nimport { DatePicker } from \"@pickit/pickit-components\";\nimport Select from \"component/inputs/Select\";\nimport i18next from \"i18next\";\nimport useValidationSchema from \"hooks/useValidationSchema\";\nimport PdfController from \"component/pdfController/PdfController\"; // import TabControler from \"component/admin/TabControler/TabControler\";\n// import { statusList } from \"utils/constants\";\n\nimport { TabControler } from \"component/admin/TabControler/TabControler\";\nimport calckBlack from \"./../../../../assets/preli/calcBlack.svg\";\nimport calckBlue from \"./../../../../assets/preli/calcBlue.svg\";\nimport invoiceBlack from \"./../../../../assets/preli/invoiceBlack.svg\";\nimport invoiceBlue from \"./../../../../assets/preli/invoiceBlue.svg\";\nimport Back from \"component/back/Back\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Invoice = _ref => {\n  _s();\n\n  let {\n    isFetching,\n    invoiceFileStatus,\n    presettementId,\n    invoiceDetail,\n    detailPreliquidations,\n    validationSchema,\n    invoiceTypes,\n    initialValues,\n    isFormEnabled,\n    setDirty,\n    getInvoiceDetailSave,\n    getInvoiceDetailApprove,\n    getInvoiceDetailDelete,\n    fileHandler,\n    deleteFile,\n    downloadFile,\n    goToPreviousFile,\n    handleClickBack,\n    changePage\n  } = _ref;\n  const tabs = [{\n    title: \"Preliquidación\",\n    id: \"preliquidation\",\n    icons: {\n      active: calckBlue,\n      disable: calckBlack\n    }\n  }, {\n    title: \"Factura\",\n    id: \"invoice\",\n    icons: {\n      active: invoiceBlue,\n      disable: invoiceBlack\n    }\n  }];\n  const pdfControllerRef = useRef();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: value => value,\n      initialValues: initialValues,\n      mutators: {\n        setValue: (_ref2, state, _ref3) => {\n          let [field, value] = _ref2;\n          let {\n            changeValue\n          } = _ref3;\n          delete value.label;\n          changeValue(state, field, () => value);\n        }\n      },\n      validate: useValidationSchema(validationSchema),\n      children: _ref4 => {\n        var _invoiceDetail$invoic, _invoiceDetail$invoic2, _invoiceDetail$invoic3, _invoiceDetail$invoic4, _invoiceDetail$invoic5, _invoiceDetail$invoic6, _invoiceDetail$invoic7;\n\n        let {\n          invalid,\n          handleSubmit,\n          form,\n          values,\n          dirty\n        } = _ref4;\n        return /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"form-filter-transaction\",\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"header-container\",\n            children: [/*#__PURE__*/_jsxDEV(TabControler, {\n              tabs: tabs,\n              changePage: page => {\n                changePage(page, dirty);\n              },\n              actualPage: \"invoice\",\n              clickable: false\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Back, {\n              onClick: () => handleClickBack(dirty)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mainContainerFlex\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"detail-preliquidation-h2\",\n              children: i18next.t(\"detailPreliquidation:label.subtitle.preliquidationNumber\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"detail-preliquidation-number\",\n              children: presettementId\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormSpy, {\n            subscription: {\n              dirty: true\n            },\n            onChange: pro => {\n              setDirty(pro.dirty);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"container-detail-preliquidation form-detail-preliquidation\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"subTitle-pending-data detail-preliquidation-margin-top\",\n              children: i18next.t(\"invoice:label.invoice.subTitleInvoice\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"container-detail-preliquidation-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"container-detail-preliquidation-col-sm-1 form-part-1-admin-pickers\",\n                children: [/*#__PURE__*/_jsxDEV(Field, {\n                  type: \"text\",\n                  name: \"emisionDate\",\n                  disabled: !isFormEnabled,\n                  className: \"Admin-Pickers-input\",\n                  placeholder: i18next.t(\"invoice:placeholder.form.broadcastDate\"),\n                  language: \"es\",\n                  children: props => {\n                    return /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        className: props.disabled ? \"label-Admin-Pickers disabled\" : props.meta.error && props.meta.touched ? \"label-Admin-Pickers color-red\" : \"label-Admin-Pickers\",\n                        children: i18next.t(\"invoice:label.label.dateOfIssue\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 129,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(DatePicker, {\n                        singleSelection: true,\n                        ...props,\n                        t: i18next.t\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 140,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 128,\n                      columnNumber: 25\n                    }, this);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 116,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(Field, {\n                    label: i18next.t(\"invoice:label.form.voucherType\"),\n                    disabled: !isFormEnabled,\n                    type: \"text\",\n                    placeholder: i18next.t(\"invoice:placeholder.form.voucherType\"),\n                    name: \"invoiceType\",\n                    onChange: form.mutators.setValue,\n                    options: invoiceTypes.map(o => ({ ...o,\n                      label: o.name\n                    })),\n                    children: props => /*#__PURE__*/_jsxDEV(Select, { ...props\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 165,\n                      columnNumber: 40\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 151,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Field, {\n                  disabled: !isFormEnabled,\n                  type: \"text\",\n                  name: \"salePoint\",\n                  label: i18next.t(\"invoice:label.form.pointOfSale\"),\n                  component: Input,\n                  className: \"Admin-Pickers-input\",\n                  placeholder: i18next.t(\"invoice:placeholder.form.enterNumber\"),\n                  maxLength: 5\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 168,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Field, {\n                  disabled: !isFormEnabled,\n                  type: \"text\",\n                  name: \"invoiceNumber\",\n                  label: i18next.t(\"invoice:label.form.voucherNumber\"),\n                  component: Input,\n                  className: \"Admin-Pickers-input\",\n                  placeholder: i18next.t(\"invoice:placeholder.form.enterNumber\"),\n                  maxLength: 8\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Field, {\n                  disabled: !isFormEnabled,\n                  type: \"text\",\n                  name: \"caeNumber\",\n                  label: i18next.t(\"invoice:label.form.numberCAE\"),\n                  component: Input,\n                  className: \"Admin-Pickers-input\",\n                  placeholder: i18next.t(\"invoice:placeholder.form.enterNumber\"),\n                  maxLength: 14\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"container-detail-preliquidation-col-sm-2 detail-preliquidation-adjust\",\n                children: /*#__PURE__*/_jsxDEV(PdfController, {\n                  ref: pdfControllerRef,\n                  title: i18next.t(\"invoice:label.title.invoice\"),\n                  buttonText: (_invoiceDetail$invoic = invoiceDetail.invoiceFile) !== null && _invoiceDetail$invoic !== void 0 && _invoiceDetail$invoic.upload && invoiceFileStatus.error ? i18next.t(\"invoice:label.button.previousInvoice\") : i18next.t(\"invoice:label.button.uploadInvoice\"),\n                  fileUploaded: (_invoiceDetail$invoic2 = invoiceDetail.invoiceFile) === null || _invoiceDetail$invoic2 === void 0 ? void 0 : _invoiceDetail$invoic2.upload,\n                  showError: invoiceFileStatus.error,\n                  errorMessage: i18next.t(invoiceFileStatus.message || \"\"),\n                  loading: invoiceFileStatus.loading,\n                  fileHandler: fileHandler,\n                  disabled: !isFormEnabled,\n                  goToPreviousFile: goToPreviousFile,\n                  children: /*#__PURE__*/_jsxDEV(PdfViewer, {\n                    src: ((_invoiceDetail$invoic3 = invoiceDetail.invoiceFile) === null || _invoiceDetail$invoic3 === void 0 ? void 0 : _invoiceDetail$invoic3.url) || \"\",\n                    children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n                      disabled: !isFormEnabled && detailPreliquidations.status.tag !== \"invoice_rejected\",\n                      message: i18next.t(\"component:label.tooltip.delete\"),\n                      position: ToolTipPosition.top,\n                      children: /*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"icon-container-primary\",\n                        type: \"button\",\n                        disabled: !isFormEnabled && detailPreliquidations.status.tag !== \"invoice_rejected\",\n                        onClick: deleteFile,\n                        children: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 236,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 230,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 225,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                      disabled: !isFormEnabled && detailPreliquidations.status.tag !== \"invoice_rejected\",\n                      message: i18next.t(\"component:label.tooltip.replace\"),\n                      position: ToolTipPosition.top,\n                      children: /*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"icon-container-primary\",\n                        type: \"button\",\n                        disabled: !isFormEnabled && detailPreliquidations.status.tag !== \"invoice_rejected\",\n                        onClick: () => {\n                          var _pdfControllerRef$cur;\n\n                          return pdfControllerRef === null || pdfControllerRef === void 0 ? void 0 : (_pdfControllerRef$cur = pdfControllerRef.current) === null || _pdfControllerRef$cur === void 0 ? void 0 : _pdfControllerRef$cur.triggerOnChange();\n                        },\n                        children: /*#__PURE__*/_jsxDEV(ReplaceIcon, {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 252,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 244,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 239,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                      disabled: !((_invoiceDetail$invoic4 = invoiceDetail.invoiceFile) !== null && _invoiceDetail$invoic4 !== void 0 && _invoiceDetail$invoic4.upload),\n                      message: i18next.t(\"component:label.tooltip.download\"),\n                      position: ToolTipPosition.top,\n                      children: /*#__PURE__*/_jsxDEV(\"button\", {\n                        disabled: !((_invoiceDetail$invoic5 = invoiceDetail.invoiceFile) !== null && _invoiceDetail$invoic5 !== void 0 && _invoiceDetail$invoic5.upload),\n                        type: \"button\",\n                        className: \"icon-container-secondary\",\n                        onClick: downloadFile,\n                        children: /*#__PURE__*/_jsxDEV(DownloadIcon, {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 266,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 260,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 255,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 224,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"subTitle-pending-data detail-preliquidation-margin-top\",\n              children: i18next.t(\"invoice:label.form.subTitleGeneralInformation\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-part-1-admin-pickers detail-preliquidation-margin-top\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"container-detail-preliquidation-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"container-detail-preliquidation-col-sm-1\",\n                  children: /*#__PURE__*/_jsxDEV(Field, {\n                    type: \"text\",\n                    name: \"fiscalData.fiscalNumber\",\n                    label: i18next.t(\"invoice:label.form.fiscalNumber\"),\n                    disabled: true,\n                    component: Input,\n                    className: \"Admin-Pickers-input\",\n                    placeholder: i18next.t(\"invoice:placeholder.form.fiscalNumber\"),\n                    maxLength: 8\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 280,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 279,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"container-detail-preliquidation-col-sm-1\",\n                  children: /*#__PURE__*/_jsxDEV(Field, {\n                    type: \"text\",\n                    name: \"fiscalData.companyName\",\n                    label: i18next.t(\"invoice:label.form.businessName\"),\n                    component: Input,\n                    className: \"Admin-Pickers-input\",\n                    placeholder: i18next.t(\"invoice:placeholder.form.businessName\"),\n                    maxLength: 8,\n                    disabled: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 294,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"container-detail-preliquidation-col-sm-1\",\n                  children: /*#__PURE__*/_jsxDEV(Field, {\n                    type: \"text\",\n                    name: \"fiscalData.taxPayerType\",\n                    label: i18next.t(\"invoice:label.form.typeOfTaxpayer\"),\n                    component: Input,\n                    className: \"Admin-Pickers-input\",\n                    placeholder: i18next.t(\"invoice:placeholder.form.typeOfTaxpayer\"),\n                    maxLength: 8,\n                    disabled: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 308,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 307,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"container-detail-preliquidation-col-sm-1 \",\n                  children: /*#__PURE__*/_jsxDEV(Field, {\n                    type: \"text\",\n                    name: \"fiscalData.total\",\n                    label: i18next.t(\"invoice:label.form.totalToPay\"),\n                    component: Input,\n                    className: \"Admin-Pickers-input\",\n                    placeholder: i18next.t(\"invoice:placeholder.form.totalToPay\"),\n                    maxLength: 8,\n                    disabled: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 322,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 278,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-preliquidation-buttons\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              disabled: !isFormEnabled,\n              className: \"button-submit-subtype\",\n              onClick: () => getInvoiceDetailSave({ ...values,\n                presettementId\n              }),\n              children: i18next.t(\"invoice:label.buttons.save\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-preliquidation-fondo\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                disabled: invalid || !((_invoiceDetail$invoic6 = invoiceDetail.invoiceFile) !== null && _invoiceDetail$invoic6 !== void 0 && _invoiceDetail$invoic6.upload) || invoiceFileStatus.error || dirty || detailPreliquidations.status.tag !== \"in_approvement\" && detailPreliquidations.status.tag !== \"approved\",\n                className: \"detail-preliquidation-invoice-p reject-invoice\",\n                onClick: () => getInvoiceDetailDelete({\n                  presettlementId: presettementId\n                }),\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: i18next.t(\"invoice:label.buttons.refuse\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 370,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                disabled: invalid || !((_invoiceDetail$invoic7 = invoiceDetail.invoiceFile) !== null && _invoiceDetail$invoic7 !== void 0 && _invoiceDetail$invoic7.upload) || invoiceFileStatus.error || dirty || detailPreliquidations.status.tag !== \"in_approvement\",\n                className: \"button-submit-active\",\n                onClick: () => getInvoiceDetailApprove({ ...values,\n                  presettementId\n                }),\n                children: i18next.t(\"invoice:label.buttons.approve\")\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 373,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Invoice, \"0Wz/qTMBkhlvgivnzpvMPRGCFZY=\", false, function () {\n  return [useValidationSchema];\n});\n\n_c = Invoice;\nexport default Invoice;\n\nvar _c;\n\n$RefreshReg$(_c, \"Invoice\");","map":{"version":3,"sources":["/home/nahuel/pickers-admin-front/src/pages/preliquidation/DetailPreliquidation/invoice/Invoice.tsx"],"names":["Input","React","useRef","Field","Form","FormSpy","Tooltip","ToolTipPosition","PdfViewer","DatePicker","Select","i18next","useValidationSchema","PdfController","TabControler","Back","Invoice","isFetching","invoiceFileStatus","presettementId","invoiceDetail","detailPreliquidations","validationSchema","invoiceTypes","initialValues","isFormEnabled","setDirty","getInvoiceDetailSave","getInvoiceDetailApprove","getInvoiceDetailDelete","fileHandler","deleteFile","downloadFile","goToPreviousFile","handleClickBack","changePage","tabs","title","id","icons","active","calckBlue","disable","calckBlack","invoiceBlue","invoiceBlack","pdfControllerRef","value","setValue","state","field","changeValue","label","invalid","handleSubmit","form","values","dirty","page","t","pro","props","disabled","meta","error","touched","mutators","map","o","name","invoiceFile","upload","message","loading","url","status","tag","top","current","triggerOnChange","presettlementId"],"mappings":"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","sourcesContent":["import { Input } from \"component/inputs/Input\";\nimport React, { useRef } from \"react\";\nimport \"pages/preliquidation/DetailPreliquidation/invoice/detailPreliquidationInvoice.scss\";\nimport { Field, Form, FormSpy } from \"react-final-form\";\nimport { Tooltip, ToolTipPosition } from \"@pickit/pickit-components\";\nimport { PdfViewer } from \"component/pdf-viewer/PdfViewer\";\nimport { ReactComponent as DeleteIcon } from \"../../../../assets/admin/file-delete.svg\";\nimport { ReactComponent as DownloadIcon } from \"../../../../assets/admin/file-download.svg\";\nimport { ReactComponent as ReplaceIcon } from \"../../../../assets/admin/file-replace.svg\";\nimport { DatePicker } from \"@pickit/pickit-components\";\n\nimport Select from \"component/inputs/Select\";\nimport {\n  detailPreliquidationDatePicker,\n  detailPreliquidationInvoicePropsType,\n} from \"./types\";\nimport i18next from \"i18next\";\nimport useValidationSchema from \"hooks/useValidationSchema\";\nimport { InvoiceTypes } from \"sagas/types/preliquidation\";\nimport PdfController from \"component/pdfController/PdfController\";\n// import TabControler from \"component/admin/TabControler/TabControler\";\n// import { statusList } from \"utils/constants\";\nimport {TabControler} from \"component/admin/TabControler/TabControler\";\nimport calckBlack from \"./../../../../assets/preli/calcBlack.svg\";\nimport calckBlue from \"./../../../../assets/preli/calcBlue.svg\";\nimport invoiceBlack from \"./../../../../assets/preli/invoiceBlack.svg\";\nimport invoiceBlue from \"./../../../../assets/preli/invoiceBlue.svg\";\nimport Back from \"component/back/Back\";\nimport { PagesPreliquidationTypes } from \"../types\";\nimport { TabType } from \"component/admin/TabControler/types\";\nexport const Invoice: React.FC<detailPreliquidationInvoicePropsType> = ({\n  isFetching,\n  invoiceFileStatus,\n  presettementId,\n  invoiceDetail,\n  detailPreliquidations,\n  validationSchema,\n  invoiceTypes,\n  initialValues,\n  isFormEnabled,\n  setDirty,\n  getInvoiceDetailSave,\n  getInvoiceDetailApprove,\n  getInvoiceDetailDelete,\n  fileHandler,\n  deleteFile,\n  downloadFile,\n  goToPreviousFile,\n  handleClickBack,\n  changePage,\n}): JSX.Element => {\n\n  const tabs:TabType<PagesPreliquidationTypes>[] = [\n    {\n      title: \"Preliquidación\",\n      id: \"preliquidation\",\n      icons: { active: calckBlue, disable: calckBlack },\n    },\n    {\n      title: \"Factura\",\n      id: \"invoice\",\n      icons: { active: invoiceBlue, disable: invoiceBlack },\n    },\n  ];\n\n  const pdfControllerRef = useRef<any>();\n  return (\n    <div>\n      <Form\n        onSubmit={(value) => value}\n        initialValues={initialValues}\n        mutators={{\n          setValue: ([field, value], state, { changeValue }) => {\n            delete value.label;\n            changeValue(state, field, () => value);\n          },\n        }}\n        validate={useValidationSchema(validationSchema)}\n      >\n        {({ invalid, handleSubmit, form, values, dirty }) => (\n          <form className=\"form-filter-transaction\" onSubmit={handleSubmit}>\n            <div className=\"header-container\">\n              <TabControler<PagesPreliquidationTypes>\n                tabs={tabs}\n                changePage={(page) => {\n                  changePage(page, dirty);\n                }}\n                actualPage={\"invoice\"}\n                clickable={false}\n              />\n              <Back onClick={() => handleClickBack(dirty)} />\n            </div>\n            <div className=\"mainContainerFlex\">\n              <h2 className=\"detail-preliquidation-h2\">\n                {i18next.t(\n                  \"detailPreliquidation:label.subtitle.preliquidationNumber\"\n                )}\n              </h2>\n              <p className=\"detail-preliquidation-number\">{presettementId}</p>\n            </div>\n\n            <FormSpy\n              subscription={{\n                dirty: true,\n              }}\n              onChange={(pro) => {\n                setDirty(pro.dirty);\n              }}\n            />\n            <div className=\"container-detail-preliquidation form-detail-preliquidation\">\n              <h3 className=\"subTitle-pending-data detail-preliquidation-margin-top\">\n                {i18next.t(\"invoice:label.invoice.subTitleInvoice\")}\n              </h3>\n              <div className=\"container-detail-preliquidation-row\">\n                <div className=\"container-detail-preliquidation-col-sm-1 form-part-1-admin-pickers\">\n                  <Field\n                    type=\"text\"\n                    name=\"emisionDate\"\n                    disabled={!isFormEnabled}\n                    className=\"Admin-Pickers-input\"\n                    placeholder={i18next.t(\n                      \"invoice:placeholder.form.broadcastDate\"\n                    )}\n                    language=\"es\"\n                  >\n                    {(props: any) => {\n                      return (\n                        <div>\n                          <label\n                            className={\n                              props.disabled\n                                ? \"label-Admin-Pickers disabled\"\n                                : props.meta.error && props.meta.touched\n                                ? \"label-Admin-Pickers color-red\"\n                                : \"label-Admin-Pickers\"\n                            }\n                          >\n                            {i18next.t(\"invoice:label.label.dateOfIssue\")}\n                          </label>\n                          <DatePicker\n                            singleSelection\n                            {...props}\n                            t={i18next.t}\n                          />\n                        </div>\n                      );\n                    }}\n                  </Field>\n\n                  <div>\n                    <Field\n                      label={i18next.t(\"invoice:label.form.voucherType\")}\n                      disabled={!isFormEnabled}\n                      type=\"text\"\n                      placeholder={i18next.t(\n                        \"invoice:placeholder.form.voucherType\"\n                      )}\n                      name=\"invoiceType\"\n                      onChange={form.mutators.setValue}\n                      options={invoiceTypes.map((o: InvoiceTypes) => ({\n                        ...o,\n                        label: o.name,\n                      }))}\n                    >\n                      {(props: any) => <Select {...props} />}\n                    </Field>\n                  </div>\n                  <Field\n                    disabled={!isFormEnabled}\n                    type=\"text\"\n                    name=\"salePoint\"\n                    label={i18next.t(\"invoice:label.form.pointOfSale\")}\n                    component={Input}\n                    className=\"Admin-Pickers-input\"\n                    placeholder={i18next.t(\n                      \"invoice:placeholder.form.enterNumber\"\n                    )}\n                    maxLength={5}\n                  />\n                  <Field\n                    disabled={!isFormEnabled}\n                    type=\"text\"\n                    name=\"invoiceNumber\"\n                    label={i18next.t(\"invoice:label.form.voucherNumber\")}\n                    component={Input}\n                    className=\"Admin-Pickers-input\"\n                    placeholder={i18next.t(\n                      \"invoice:placeholder.form.enterNumber\"\n                    )}\n                    maxLength={8}\n                  />\n                  <Field\n                    disabled={!isFormEnabled}\n                    type=\"text\"\n                    name=\"caeNumber\"\n                    label={i18next.t(\"invoice:label.form.numberCAE\")}\n                    component={Input}\n                    className=\"Admin-Pickers-input\"\n                    placeholder={i18next.t(\n                      \"invoice:placeholder.form.enterNumber\"\n                    )}\n                    maxLength={14}\n                  />\n                </div>\n\n                <div className=\"container-detail-preliquidation-col-sm-2 detail-preliquidation-adjust\">\n                  <PdfController\n                    ref={pdfControllerRef}\n                    title={i18next.t(\"invoice:label.title.invoice\")}\n                    buttonText={\n                      invoiceDetail.invoiceFile?.upload &&\n                      invoiceFileStatus.error\n                        ? i18next.t(\"invoice:label.button.previousInvoice\")\n                        : i18next.t(\"invoice:label.button.uploadInvoice\")\n                    }\n                    fileUploaded={invoiceDetail.invoiceFile?.upload}\n                    showError={invoiceFileStatus.error}\n                    errorMessage={i18next.t(invoiceFileStatus.message || \"\")}\n                    loading={invoiceFileStatus.loading}\n                    fileHandler={fileHandler}\n                    disabled={!isFormEnabled}\n                    goToPreviousFile={goToPreviousFile}\n                  >\n                    <PdfViewer src={invoiceDetail.invoiceFile?.url || \"\"}>\n                      <Tooltip\n                        disabled={!isFormEnabled && detailPreliquidations.status.tag !== \"invoice_rejected\"}\n                        message={i18next.t(\"component:label.tooltip.delete\")}\n                        position={ToolTipPosition.top}\n                      >\n                        <button\n                          className=\"icon-container-primary\"\n                          type=\"button\"\n                          disabled={!isFormEnabled && detailPreliquidations.status.tag !== \"invoice_rejected\"}\n                          onClick={deleteFile}\n                        >\n                          <DeleteIcon />\n                        </button>\n                      </Tooltip>\n                      <Tooltip\n                        disabled={!isFormEnabled && detailPreliquidations.status.tag !== \"invoice_rejected\"}\n                        message={i18next.t(\"component:label.tooltip.replace\")}\n                        position={ToolTipPosition.top}\n                      >\n                        <button\n                          className=\"icon-container-primary\"\n                          type=\"button\"\n                          disabled={!isFormEnabled && detailPreliquidations.status.tag !== \"invoice_rejected\"}\n                          onClick={() =>\n                            pdfControllerRef?.current?.triggerOnChange()\n                          }\n                        >\n                          <ReplaceIcon />\n                        </button>\n                      </Tooltip>\n                      <Tooltip\n                        disabled={!invoiceDetail.invoiceFile?.upload}\n                        message={i18next.t(\"component:label.tooltip.download\")}\n                        position={ToolTipPosition.top}\n                      >\n                        <button\n                          disabled={!invoiceDetail.invoiceFile?.upload}\n                          type=\"button\"\n                          className=\"icon-container-secondary\"\n                          onClick={downloadFile}\n                        >\n                          <DownloadIcon />\n                        </button>\n                      </Tooltip>\n                    </PdfViewer>\n                  </PdfController>\n                </div>\n              </div>\n\n              <h3 className=\"subTitle-pending-data detail-preliquidation-margin-top\">\n                {i18next.t(\"invoice:label.form.subTitleGeneralInformation\")}\n              </h3>\n              <div className=\"form-part-1-admin-pickers detail-preliquidation-margin-top\">\n                <div className=\"container-detail-preliquidation-row\">\n                  <div className=\"container-detail-preliquidation-col-sm-1\">\n                    <Field\n                      type=\"text\"\n                      name=\"fiscalData.fiscalNumber\"\n                      label={i18next.t(\"invoice:label.form.fiscalNumber\")}\n                      disabled={true}\n                      component={Input}\n                      className=\"Admin-Pickers-input\"\n                      placeholder={i18next.t(\n                        \"invoice:placeholder.form.fiscalNumber\"\n                      )}\n                      maxLength={8}\n                    />\n                  </div>\n                  <div className=\"container-detail-preliquidation-col-sm-1\">\n                    <Field\n                      type=\"text\"\n                      name=\"fiscalData.companyName\"\n                      label={i18next.t(\"invoice:label.form.businessName\")}\n                      component={Input}\n                      className=\"Admin-Pickers-input\"\n                      placeholder={i18next.t(\n                        \"invoice:placeholder.form.businessName\"\n                      )}\n                      maxLength={8}\n                      disabled={true}\n                    />\n                  </div>\n                  <div className=\"container-detail-preliquidation-col-sm-1\">\n                    <Field\n                      type=\"text\"\n                      name=\"fiscalData.taxPayerType\"\n                      label={i18next.t(\"invoice:label.form.typeOfTaxpayer\")}\n                      component={Input}\n                      className=\"Admin-Pickers-input\"\n                      placeholder={i18next.t(\n                        \"invoice:placeholder.form.typeOfTaxpayer\"\n                      )}\n                      maxLength={8}\n                      disabled={true}\n                    />\n                  </div>\n                  <div className=\"container-detail-preliquidation-col-sm-1 \">\n                    <Field\n                      type=\"text\"\n                      name=\"fiscalData.total\"\n                      label={i18next.t(\"invoice:label.form.totalToPay\")}\n                      component={Input}\n                      className=\"Admin-Pickers-input\"\n                      placeholder={i18next.t(\n                        \"invoice:placeholder.form.totalToPay\"\n                      )}\n                      maxLength={8}\n                      disabled={true}\n                    />\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"detail-preliquidation-buttons\">\n              <button\n                type=\"button\"\n                disabled={!isFormEnabled}\n                className=\"button-submit-subtype\"\n                onClick={() =>\n                  getInvoiceDetailSave({\n                    ...(values as detailPreliquidationDatePicker),\n                    presettementId,\n                  })\n                }\n              >\n                {i18next.t(\"invoice:label.buttons.save\")}\n              </button>\n              <div className=\"detail-preliquidation-fondo\">\n                <button\n                  disabled={\n                    invalid ||\n                    !invoiceDetail.invoiceFile?.upload ||\n                    invoiceFileStatus.error ||\n                    dirty ||\n                    (detailPreliquidations.status.tag !== \"in_approvement\" &&\n                      detailPreliquidations.status.tag !== \"approved\")\n                  }\n                  className=\"detail-preliquidation-invoice-p reject-invoice\"\n                  onClick={() =>\n                    getInvoiceDetailDelete({\n                      presettlementId: presettementId,\n                    })\n                  }\n                >\n                  <p>{i18next.t(\"invoice:label.buttons.refuse\")}</p>\n                </button>\n\n                <button\n                  type=\"submit\"\n                  disabled={\n                    invalid ||\n                    !invoiceDetail.invoiceFile?.upload ||\n                    invoiceFileStatus.error ||\n                    dirty ||\n                    detailPreliquidations.status.tag !== \"in_approvement\"\n                  }\n                  className=\"button-submit-active\"\n                  onClick={() =>\n                    getInvoiceDetailApprove({\n                      ...(values as detailPreliquidationDatePicker),\n                      presettementId,\n                    })\n                  }\n                >\n                  {i18next.t(\"invoice:label.buttons.approve\")}\n                </button>\n              </div>\n            </div>\n          </form>\n        )}\n      </Form>\n    </div>\n  );\n};\n\nexport default Invoice;\n"]},"metadata":{},"sourceType":"module"}