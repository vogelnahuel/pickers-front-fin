{"ast":null,"code":"var _jsxFileName = \"/home/nahuel/pickers-admin-front/src/pages/pickers/detailPicker/DetailPickerContainer.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useMemo } from \"react\";\nimport { connect } from \"react-redux\";\nimport i18next from \"i18next\";\nimport moment from \"moment\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport * as yup from \"yup\";\nimport { actions as pendingUserAdminPickerActions, detailPickerSelector, hasPickerWrongFilesSelector, hasPickerAllFilesLoadedSelector } from \"reducers/detailPicker\";\nimport { pickersSelector, actions as pendingUserActions } from \"reducers/pickers\";\nimport { actions as notificationActions } from \"reducers/notification\";\nimport { DetailPicker } from \"pages/pickers/detailPicker/DetailPicker\";\nimport { DATE_FORMATS, VALIDATION_REGEX } from \"utils/constants\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst DetailPickerContainer = props => {\n  _s();\n\n  const params = useParams();\n  const history = useHistory();\n  useEffect(() => {\n    props.resetWrongFiles();\n    props.getPendingUserPicker(params.id);\n    props.getProvinces(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  let active = props.pendingUserAdminPicker.status && (props.pendingUserAdminPicker.status.id === 4 || props.pendingUserAdminPicker.status.id === 5);\n\n  const formatDate = function () {\n    let date = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n    return moment(date, DATE_FORMATS.shortISODate, true).isValid() && date.length === 10 ? moment(date).format(DATE_FORMATS.shortDate) : date;\n  };\n\n  const initialValues = useMemo(() => {\n    var _props$pendingUserAdm, _props$pendingUserAdm2, _props$pendingUserAdm3, _props$pendingUserAdm4, _props$pendingUserAdm5, _props$pendingUserAdm6, _props$pendingUserAdm7, _props$pendingUserAdm8, _props$pendingUserAdm9, _props$pendingUserAdm10, _props$pendingUserAdm11, _props$pendingUserAdm12, _props$pendingUserAdm13, _props$pendingUserAdm14, _props$pendingUserAdm15, _props$pendingUserAdm16, _props$pendingUserAdm17, _props$pendingUserAdm18, _props$pendingUserAdm19, _props$pendingUserAdm20, _props$pendingUserAdm21, _props$pendingUserAdm22, _props$pendingUserAdm23, _props$pendingUserAdm24, _props$pendingUserAdm25, _props$pendingUserAdm26, _props$pendingUserAdm27, _props$pendingUserAdm28, _props$pendingUserAdm29, _props$pendingUserAdm30, _props$pendingUserAdm31, _props$pendingUserAdm32;\n\n    return props.pendingUserAdminPicker.id ? { ...props.pendingUserAdminPicker,\n      personalData: { ...((_props$pendingUserAdm = props.pendingUserAdminPicker) === null || _props$pendingUserAdm === void 0 ? void 0 : _props$pendingUserAdm.personalData),\n        dateOfBirth: (_props$pendingUserAdm2 = props.pendingUserAdminPicker) !== null && _props$pendingUserAdm2 !== void 0 && (_props$pendingUserAdm3 = _props$pendingUserAdm2.personalData) !== null && _props$pendingUserAdm3 !== void 0 && _props$pendingUserAdm3.dateOfBirth && (_props$pendingUserAdm4 = props.pendingUserAdminPicker) !== null && _props$pendingUserAdm4 !== void 0 && (_props$pendingUserAdm5 = _props$pendingUserAdm4.personalData) !== null && _props$pendingUserAdm5 !== void 0 && _props$pendingUserAdm5.dateOfBirth.includes(\"-\") ? moment((_props$pendingUserAdm6 = props.pendingUserAdminPicker) === null || _props$pendingUserAdm6 === void 0 ? void 0 : (_props$pendingUserAdm7 = _props$pendingUserAdm6.personalData) === null || _props$pendingUserAdm7 === void 0 ? void 0 : _props$pendingUserAdm7.dateOfBirth, DATE_FORMATS.shortISODate).format(DATE_FORMATS.shortDate) : (_props$pendingUserAdm8 = props.pendingUserAdminPicker) === null || _props$pendingUserAdm8 === void 0 ? void 0 : (_props$pendingUserAdm9 = _props$pendingUserAdm8.personalData) === null || _props$pendingUserAdm9 === void 0 ? void 0 : _props$pendingUserAdm9.dateOfBirth\n      },\n      accountingData: { ...((_props$pendingUserAdm10 = props.pendingUserAdminPicker) === null || _props$pendingUserAdm10 === void 0 ? void 0 : _props$pendingUserAdm10.accountingData),\n        sapInterlocutor: ((_props$pendingUserAdm11 = props.pendingUserAdminPicker) === null || _props$pendingUserAdm11 === void 0 ? void 0 : (_props$pendingUserAdm12 = _props$pendingUserAdm11.accountingData) === null || _props$pendingUserAdm12 === void 0 ? void 0 : _props$pendingUserAdm12.sapInterlocutor) || \"-\",\n        fiscalNumber: (_props$pendingUserAdm13 = props.pendingUserAdminPicker) !== null && _props$pendingUserAdm13 !== void 0 && (_props$pendingUserAdm14 = _props$pendingUserAdm13.accountingData) !== null && _props$pendingUserAdm14 !== void 0 && (_props$pendingUserAdm15 = _props$pendingUserAdm14.fiscalNumber) !== null && _props$pendingUserAdm15 !== void 0 && _props$pendingUserAdm15.includes(\"-\") ? (_props$pendingUserAdm16 = props.pendingUserAdminPicker) === null || _props$pendingUserAdm16 === void 0 ? void 0 : (_props$pendingUserAdm17 = _props$pendingUserAdm16.accountingData) === null || _props$pendingUserAdm17 === void 0 ? void 0 : _props$pendingUserAdm17.fiscalNumber : ((_props$pendingUserAdm18 = props.pendingUserAdminPicker) === null || _props$pendingUserAdm18 === void 0 ? void 0 : (_props$pendingUserAdm19 = _props$pendingUserAdm18.accountingData) === null || _props$pendingUserAdm19 === void 0 ? void 0 : (_props$pendingUserAdm20 = _props$pendingUserAdm19.fiscalNumber) === null || _props$pendingUserAdm20 === void 0 ? void 0 : _props$pendingUserAdm20.slice(0, 2)) + \" - \" + ((_props$pendingUserAdm21 = props.pendingUserAdminPicker) === null || _props$pendingUserAdm21 === void 0 ? void 0 : (_props$pendingUserAdm22 = _props$pendingUserAdm21.accountingData) === null || _props$pendingUserAdm22 === void 0 ? void 0 : (_props$pendingUserAdm23 = _props$pendingUserAdm22.fiscalNumber) === null || _props$pendingUserAdm23 === void 0 ? void 0 : _props$pendingUserAdm23.slice(2, 10)) + \" - \" + ((_props$pendingUserAdm24 = props.pendingUserAdminPicker) === null || _props$pendingUserAdm24 === void 0 ? void 0 : (_props$pendingUserAdm25 = _props$pendingUserAdm24.accountingData) === null || _props$pendingUserAdm25 === void 0 ? void 0 : (_props$pendingUserAdm26 = _props$pendingUserAdm25.fiscalNumber) === null || _props$pendingUserAdm26 === void 0 ? void 0 : _props$pendingUserAdm26.slice(10, 11))\n      },\n      vehicle: { ...props.pendingUserAdminPicker.vehicle,\n        expirationDatePolicyVehicle: formatDate(((_props$pendingUserAdm27 = props.pendingUserAdminPicker) === null || _props$pendingUserAdm27 === void 0 ? void 0 : (_props$pendingUserAdm28 = _props$pendingUserAdm27.vehicle) === null || _props$pendingUserAdm28 === void 0 ? void 0 : _props$pendingUserAdm28.expirationDatePolicyVehicle) || \"\"),\n        expirationDateIdentificationVehicle: formatDate(((_props$pendingUserAdm29 = props.pendingUserAdminPicker) === null || _props$pendingUserAdm29 === void 0 ? void 0 : (_props$pendingUserAdm30 = _props$pendingUserAdm29.vehicle) === null || _props$pendingUserAdm30 === void 0 ? void 0 : _props$pendingUserAdm30.expirationDateIdentificationVehicle) || \"\"),\n        expirationDateDriverLicense: formatDate(((_props$pendingUserAdm31 = props.pendingUserAdminPicker) === null || _props$pendingUserAdm31 === void 0 ? void 0 : (_props$pendingUserAdm32 = _props$pendingUserAdm31.vehicle) === null || _props$pendingUserAdm32 === void 0 ? void 0 : _props$pendingUserAdm32.expirationDateDriverLicense) || \"\")\n      }\n    } : props.pendingUserAdminPicker; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [props.pendingUserAdminPicker.id]);\n\n  const changePage = (page, isDirty) => {\n    let onClose = () => {\n      props.setActualPage(page);\n      if (history.location.pathname !== \"/pickers\" && history.length > 1) history.goBack();else if (history.length <= 1) {\n        history.replace(\"/pickers\");\n      }\n    };\n\n    if (isDirty) showDirtyNotification(onClose);else if (props.wrongFiles) showWrongFilesNotification(onClose);else onClose();\n  };\n\n  const cancel = (isDirty, restart) => {\n    if (isDirty) showDirtyNotification(restart);else restart();\n  };\n\n  const goBack = (validate, isDirty) => {\n    if (validate) {\n      if (isDirty) showDirtyNotification(history.goBack);else if (props.wrongFiles) showWrongFilesNotification(history.goBack);else history.goBack();\n    } else history.goBack();\n  };\n\n  const showDirtyNotification = onClose => {\n    const html = document.documentElement;\n    const height = Math.max(html.clientHeight, html.scrollHeight);\n    return props.showNotification({\n      level: \"warning\",\n      title: i18next.t(\"pickers:title.modal.saveChanges\"),\n      body: i18next.t(\"pickers:label.modal.saveChanges\"),\n      onClickLabel: \"pickers:button.modal.goToSave\",\n      onCloseLabel: \"pickers:button.modal.notSave\",\n      onClose: onClose,\n      onClick: () => window.scroll({\n        top: height,\n        left: 0,\n        behavior: \"smooth\"\n      })\n    });\n  };\n\n  const showWrongFilesNotification = onClose => props.showNotification({\n    level: \"warning\",\n    title: i18next.t(\"global:title.modal.withoutSaving\"),\n    body: i18next.t(\"global:label.modal.withoutSaving\"),\n    onClickLabel: i18next.t(\"global:label.button.checkErrors\"),\n    onCloseLabel: i18next.t(\"global:label.button.continue\"),\n    onClose: onClose,\n    onClick: undefined\n  });\n\n  const aproveSubmit = (params, goBack) => {\n    props.showNotification({\n      level: \"info\",\n      title: i18next.t(\"detailPicker:title.modal.approvePicker\"),\n      body: i18next.t(\"detailPicker:label.modal.approvePicker\"),\n      onClickLabel: \"detailPicker:label.button.approve\",\n      onCloseLabel: \"detailPicker:label.button.revise\",\n      onClick: () => props.postAprovePickerRequest(params, goBack),\n      onClose: undefined\n    });\n  };\n\n  const validationSchema = yup.object({\n    personalData: yup.object({\n      name: yup.string().required(i18next.t(\"global:error.input.required\")).matches(VALIDATION_REGEX.expName, i18next.t(\"global:error.input.numbersOrSpecialCharacters\")),\n      surname: yup.string().required(i18next.t(\"global:error.input.required\")).matches(VALIDATION_REGEX.expName, i18next.t(\"global:error.input.numbersOrSpecialCharacters\")),\n      phone: yup.object({\n        areaNumber: yup.string().required(i18next.t(\"global:error.input.required\")).matches(VALIDATION_REGEX.regArea, i18next.t(\"global:error.input.invalidFormat\")),\n        number: yup.string().required(i18next.t(\"global:error.input.required\")).matches(VALIDATION_REGEX.regTelefono, i18next.t(\"global:error.input.invalidFormat\"))\n      })\n    }),\n    accountingData: yup.object({\n      address: yup.object({\n        street: yup.string().required(i18next.t(\"global:error.input.required\")).matches(VALIDATION_REGEX.regStreet, i18next.t(\"global:error.input.formatAddress\")),\n        streetNumber: yup.string().matches(VALIDATION_REGEX.regStreet, i18next.t(\"global:error.input.formatAddress\")).required(i18next.t(\"global:error.input.required\")),\n        postalCode: yup.string().min(4, i18next.t(\"global:error.input.cp\")).matches(VALIDATION_REGEX.regNumber, i18next.t(\"global:error.input.lettersOrSpecialCharacters\")).required(i18next.t(\"global:error.input.required\")),\n        locality: yup.string().matches(VALIDATION_REGEX.regStreet, i18next.t(\"global:error.input.formatAddress\")).required(i18next.t(\"global:error.input.required\")),\n        province: yup.object().required(i18next.t(\"global:error.input.required\"))\n      })\n    }),\n    vehicle: props.pendingUserAdminPicker.vehicle && props.pendingUserAdminPicker.vehicle.type === \"motorcycle\" ? yup.object({\n      patent: yup.string().nullable().required(i18next.t(\"global:error.input.required\")).min(6, i18next.t(\"global:error.input.patentLong\")).matches(VALIDATION_REGEX.regPatent, i18next.t(\"global:error.input.patentFormat\")),\n      expirationDatePolicyVehicle: yup.string().nullable().required(i18next.t(\"global:error.input.required\")).matches(DATE_FORMATS.regex, i18next.t(\"global:error.input.invalidFormat\")).matches(DATE_FORMATS.regexValidCharacter, i18next.t(\"global:error.input.invalidFormat\")),\n      expirationDateIdentificationVehicle: yup.string().nullable().required(i18next.t(\"global:error.input.required\")).matches(DATE_FORMATS.regex, i18next.t(\"global:error.input.invalidFormat\")).matches(DATE_FORMATS.regexValidCharacter, i18next.t(\"global:error.input.invalidFormat\")),\n      expirationDateDriverLicense: yup.string().nullable().required(i18next.t(\"global:error.input.required\")).matches(DATE_FORMATS.regex, i18next.t(\"global:error.input.invalidFormat\")).matches(DATE_FORMATS.regexValidCharacter, i18next.t(\"global:error.input.invalidFormat\"))\n    }) : yup.object({})\n  });\n  return /*#__PURE__*/_jsxDEV(DetailPicker, { ...props,\n    initialValues: initialValues,\n    validationSchema: validationSchema,\n    changePage: changePage,\n    cancel: cancel,\n    goBack: goBack,\n    aproveSubmit: aproveSubmit,\n    active: active,\n    formatDate: formatDate\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 315,\n    columnNumber: 5\n  }, this);\n};\n\n_s(DetailPickerContainer, \"R1gyYgu/JwPTlCoE1K+WUd/aPf4=\", false, function () {\n  return [useParams, useHistory];\n});\n\n_c = DetailPickerContainer;\n\nconst mapStateToProps = state => ({\n  pendingUserAdminPicker: detailPickerSelector(state).pendingUserAdminPicker,\n  isFetching: detailPickerSelector(state).fetching,\n  actualPage: pickersSelector(state).actualPage,\n  nameDisplay: detailPickerSelector(state).nameDisplay,\n  wrongFiles: hasPickerWrongFilesSelector(state),\n  loadedFiles: hasPickerAllFilesLoadedSelector(state),\n  provinces: detailPickerSelector(state).provinces\n});\n\nconst mapDispatchToProps = dispatch => ({\n  getPendingUserPicker: params => {\n    dispatch(pendingUserAdminPickerActions.getPendingUserPickerRequest(params));\n  },\n  getProvinces: () => {\n    dispatch(pendingUserAdminPickerActions.getProvincesRequest());\n  },\n  getPendingUserPickerExport: params => {\n    dispatch(pendingUserAdminPickerActions.getPendingUserPickerExportRequest(params));\n  },\n  setDirty: dirty => {\n    dispatch(pendingUserAdminPickerActions.setDirty(dirty));\n  },\n  postAprovePickerRequest: (params, goBack) => {\n    dispatch(pendingUserAdminPickerActions.getAprovePickerRequest({\n      params,\n      goBack\n    }));\n  },\n  postPendingUserDocumentsEdit: params => {\n    dispatch(pendingUserAdminPickerActions.getPendingUserPickerDocumentsEditRequest(params));\n  },\n  showNotification: content => {\n    dispatch(notificationActions.showNotification(content));\n  },\n  postEditPickerRequest: (params, goBack) => {\n    dispatch(pendingUserAdminPickerActions.getEditPickerRequest({\n      params,\n      goBack\n    }));\n  },\n  setActualPage: page => {\n    dispatch(pendingUserActions.setActualPage(page));\n  },\n  resetWrongFiles: () => {\n    dispatch(pendingUserAdminPickerActions.resetWrongFiles());\n  }\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DetailPickerContainer);\n\nvar _c;\n\n$RefreshReg$(_c, \"DetailPickerContainer\");","map":{"version":3,"sources":["/home/nahuel/pickers-admin-front/src/pages/pickers/detailPicker/DetailPickerContainer.tsx"],"names":["React","useEffect","useMemo","connect","i18next","moment","useHistory","useParams","yup","actions","pendingUserAdminPickerActions","detailPickerSelector","hasPickerWrongFilesSelector","hasPickerAllFilesLoadedSelector","pickersSelector","pendingUserActions","notificationActions","DetailPicker","DATE_FORMATS","VALIDATION_REGEX","DetailPickerContainer","props","params","history","resetWrongFiles","getPendingUserPicker","id","getProvinces","active","pendingUserAdminPicker","status","formatDate","date","shortISODate","isValid","length","format","shortDate","initialValues","personalData","dateOfBirth","includes","accountingData","sapInterlocutor","fiscalNumber","slice","vehicle","expirationDatePolicyVehicle","expirationDateIdentificationVehicle","expirationDateDriverLicense","changePage","page","isDirty","onClose","setActualPage","location","pathname","goBack","replace","showDirtyNotification","wrongFiles","showWrongFilesNotification","cancel","restart","validate","html","document","documentElement","height","Math","max","clientHeight","scrollHeight","showNotification","level","title","t","body","onClickLabel","onCloseLabel","onClick","window","scroll","top","left","behavior","undefined","aproveSubmit","postAprovePickerRequest","validationSchema","object","name","string","required","matches","expName","surname","phone","areaNumber","regArea","number","regTelefono","address","street","regStreet","streetNumber","postalCode","min","regNumber","locality","province","type","patent","nullable","regPatent","regex","regexValidCharacter","mapStateToProps","state","isFetching","fetching","actualPage","nameDisplay","loadedFiles","provinces","mapDispatchToProps","dispatch","getPendingUserPickerRequest","getProvincesRequest","getPendingUserPickerExport","getPendingUserPickerExportRequest","setDirty","dirty","getAprovePickerRequest","postPendingUserDocumentsEdit","getPendingUserPickerDocumentsEditRequest","content","postEditPickerRequest","getEditPickerRequest"],"mappings":"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","sourcesContent":["import React, { useEffect, useMemo } from \"react\";\nimport { connect } from \"react-redux\";\nimport i18next from \"i18next\";\nimport moment from \"moment\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport * as yup from \"yup\";\n\nimport { AppDispatch, RootState } from \"store\";\n\nimport {\n  actions as pendingUserAdminPickerActions,\n  detailPickerSelector,\n  hasPickerWrongFilesSelector,\n  hasPickerAllFilesLoadedSelector,\n} from \"reducers/detailPicker\";\nimport {\n  pickersSelector,\n  actions as pendingUserActions,\n} from \"reducers/pickers\";\nimport { actions as notificationActions } from \"reducers/notification\";\n\nimport {\n  PickerType,\n  ParamsMiddlewareType,\n  DetailPickerValidationSchema,\n} from \"../types\";\nimport { DetailPickerContainerTypeProps, pickerTabs } from \"./types\";\n\nimport { DetailPicker } from \"pages/pickers/detailPicker/DetailPicker\";\nimport { DATE_FORMATS, VALIDATION_REGEX } from \"utils/constants\";\nimport { NotificationStateType } from \"reducers/types/notification\";\n\nconst DetailPickerContainer: React.FC<DetailPickerContainerTypeProps> = (\n  props\n): JSX.Element => {\n  const params: { id?: string } = useParams();\n  const history = useHistory();\n\n  useEffect(() => {\n    props.resetWrongFiles();\n    props.getPendingUserPicker(params.id);\n    props.getProvinces();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  let active: boolean =\n    props.pendingUserAdminPicker.status &&\n    (props.pendingUserAdminPicker.status.id === 4 ||\n      props.pendingUserAdminPicker.status.id === 5);\n\n  const formatDate = (date: string | undefined = \"\"): string => {\n    return moment(date, DATE_FORMATS.shortISODate, true).isValid() &&\n      date.length === 10\n      ? moment(date).format(DATE_FORMATS.shortDate)\n      : date;\n  };\n\n  const initialValues = useMemo(() => {\n    return props.pendingUserAdminPicker.id\n      ? {\n          ...props.pendingUserAdminPicker,\n          personalData: {\n            ...props.pendingUserAdminPicker?.personalData,\n            dateOfBirth:\n              props.pendingUserAdminPicker?.personalData?.dateOfBirth &&\n              props.pendingUserAdminPicker?.personalData?.dateOfBirth.includes(\n                \"-\"\n              )\n                ? moment(\n                    props.pendingUserAdminPicker?.personalData?.dateOfBirth,\n                    DATE_FORMATS.shortISODate\n                  ).format(DATE_FORMATS.shortDate)\n                : props.pendingUserAdminPicker?.personalData?.dateOfBirth,\n          },\n          accountingData: {\n            ...props.pendingUserAdminPicker?.accountingData,\n            sapInterlocutor: props.pendingUserAdminPicker?.accountingData?.sapInterlocutor || \"-\",\n            fiscalNumber:\n              props.pendingUserAdminPicker?.accountingData?.fiscalNumber?.includes(\n                \"-\"\n              )\n                ? props.pendingUserAdminPicker?.accountingData?.fiscalNumber\n                : props.pendingUserAdminPicker?.accountingData?.fiscalNumber?.slice(\n                    0,\n                    2\n                  ) +\n                  \" - \" +\n                  props.pendingUserAdminPicker?.accountingData?.fiscalNumber?.slice(\n                    2,\n                    10\n                  ) +\n                  \" - \" +\n                  props.pendingUserAdminPicker?.accountingData?.fiscalNumber?.slice(\n                    10,\n                    11\n                  ),\n          },\n          vehicle: {\n            ...props.pendingUserAdminPicker.vehicle,\n\n            expirationDatePolicyVehicle: formatDate(\n              props.pendingUserAdminPicker?.vehicle\n                ?.expirationDatePolicyVehicle || \"\"\n            ),\n            expirationDateIdentificationVehicle: formatDate(\n              props.pendingUserAdminPicker?.vehicle\n                ?.expirationDateIdentificationVehicle || \"\"\n            ),\n            expirationDateDriverLicense: formatDate(\n              props.pendingUserAdminPicker?.vehicle\n                ?.expirationDateDriverLicense || \"\"\n            ),\n          },\n        }\n      : props.pendingUserAdminPicker;\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [props.pendingUserAdminPicker.id]);\n\n  const changePage = (page: string, isDirty: boolean) => {\n    let onClose = () => {\n      props.setActualPage(page);\n\n      if (history.location.pathname !== \"/pickers\" && history.length > 1)\n        history.goBack();\n      else if (history.length <= 1) {\n        history.replace(\"/pickers\");\n      }\n    };\n    if (isDirty) showDirtyNotification(onClose);\n    else if (props.wrongFiles) showWrongFilesNotification(onClose);\n    else onClose();\n  };\n\n  const cancel = (isDirty: boolean, restart: Function) => {\n    if (isDirty) showDirtyNotification(restart);\n    else restart();\n  };\n\n  const goBack = (validate?: boolean, isDirty?: boolean) => {\n    if (validate) {\n      if (isDirty) showDirtyNotification(history.goBack);\n      else if (props.wrongFiles) showWrongFilesNotification(history.goBack);\n      else history.goBack();\n    } else history.goBack();\n  };\n\n  const showDirtyNotification = (onClose: Function) => {\n    const html = document.documentElement;\n    const height = Math.max(html.clientHeight, html.scrollHeight);\n\n    return props.showNotification({\n      level: \"warning\",\n      title: i18next.t(\"pickers:title.modal.saveChanges\"),\n      body: i18next.t(\"pickers:label.modal.saveChanges\"),\n      onClickLabel: \"pickers:button.modal.goToSave\",\n      onCloseLabel: \"pickers:button.modal.notSave\",\n      onClose: onClose,\n      onClick: () =>\n        window.scroll({\n          top: height,\n          left: 0,\n          behavior: \"smooth\",\n        }),\n    });\n  };\n\n  const showWrongFilesNotification = (onClose: Function) =>\n    props.showNotification({\n      level: \"warning\",\n      title: i18next.t(\"global:title.modal.withoutSaving\"),\n      body: i18next.t(\"global:label.modal.withoutSaving\"),\n      onClickLabel: i18next.t(\"global:label.button.checkErrors\"),\n      onCloseLabel: i18next.t(\"global:label.button.continue\"),\n      onClose: onClose,\n      onClick: undefined,\n    });\n\n  const aproveSubmit = (params: PickerType, goBack: Function) => {\n    props.showNotification({\n      level: \"info\",\n      title: i18next.t(\"detailPicker:title.modal.approvePicker\"),\n      body: i18next.t(\"detailPicker:label.modal.approvePicker\"),\n      onClickLabel: \"detailPicker:label.button.approve\",\n      onCloseLabel: \"detailPicker:label.button.revise\",\n      onClick: () => props.postAprovePickerRequest(params, goBack),\n      onClose: undefined,\n    });\n  };\n\n  const validationSchema: yup.SchemaOf<DetailPickerValidationSchema> =\n    yup.object({\n      personalData: yup.object({\n        name: yup\n          .string()\n          .required(i18next.t(\"global:error.input.required\"))\n          .matches(\n            VALIDATION_REGEX.expName,\n            i18next.t(\"global:error.input.numbersOrSpecialCharacters\")\n          ),\n        surname: yup\n          .string()\n          .required(i18next.t(\"global:error.input.required\"))\n          .matches(\n            VALIDATION_REGEX.expName,\n            i18next.t(\"global:error.input.numbersOrSpecialCharacters\")\n          ),\n        phone: yup.object({\n          areaNumber: yup\n            .string()\n            .required(i18next.t(\"global:error.input.required\"))\n            .matches(\n              VALIDATION_REGEX.regArea,\n              i18next.t(\"global:error.input.invalidFormat\")\n            ),\n          number: yup\n            .string()\n            .required(i18next.t(\"global:error.input.required\"))\n            .matches(\n              VALIDATION_REGEX.regTelefono,\n              i18next.t(\"global:error.input.invalidFormat\")\n            ),\n        }),\n      }),\n      accountingData: yup.object({\n        address: yup.object({\n          street: yup\n            .string()\n            .required(i18next.t(\"global:error.input.required\"))\n            .matches(\n              VALIDATION_REGEX.regStreet,\n              i18next.t(\"global:error.input.formatAddress\")\n            ),\n          streetNumber: yup\n            .string()\n            .matches(\n              VALIDATION_REGEX.regStreet,\n              i18next.t(\"global:error.input.formatAddress\")\n            )\n            .required(i18next.t(\"global:error.input.required\")),\n          postalCode: yup\n            .string()\n            .min(4, i18next.t(\"global:error.input.cp\"))\n            .matches(\n              VALIDATION_REGEX.regNumber,\n              i18next.t(\"global:error.input.lettersOrSpecialCharacters\")\n            )\n            .required(i18next.t(\"global:error.input.required\")),\n          locality: yup\n            .string()\n            .matches(\n              VALIDATION_REGEX.regStreet,\n              i18next.t(\"global:error.input.formatAddress\")\n            )\n            .required(i18next.t(\"global:error.input.required\")),\n          province: yup\n            .object()\n            .required(i18next.t(\"global:error.input.required\")),\n        }),\n      }),\n      vehicle:\n        props.pendingUserAdminPicker.vehicle &&\n        props.pendingUserAdminPicker.vehicle.type === \"motorcycle\"\n          ? yup.object({\n              patent: yup\n                .string()\n                .nullable()\n                .required(i18next.t(\"global:error.input.required\"))\n                .min(6, i18next.t(\"global:error.input.patentLong\"))\n                .matches(\n                  VALIDATION_REGEX.regPatent,\n                  i18next.t(\"global:error.input.patentFormat\")\n                ),\n              expirationDatePolicyVehicle: yup\n                .string()\n                .nullable()\n                .required(i18next.t(\"global:error.input.required\"))\n                .matches(\n                  DATE_FORMATS.regex,\n                  i18next.t(\"global:error.input.invalidFormat\")\n                )\n                .matches(\n                  DATE_FORMATS.regexValidCharacter,\n                  i18next.t(\"global:error.input.invalidFormat\")\n                ),\n              expirationDateIdentificationVehicle: yup\n                .string()\n                .nullable()\n                .required(i18next.t(\"global:error.input.required\"))\n                .matches(\n                  DATE_FORMATS.regex,\n                  i18next.t(\"global:error.input.invalidFormat\")\n                )\n                .matches(\n                  DATE_FORMATS.regexValidCharacter,\n                  i18next.t(\"global:error.input.invalidFormat\")\n                ),\n              expirationDateDriverLicense: yup\n                .string()\n                .nullable()\n                .required(i18next.t(\"global:error.input.required\"))\n                .matches(\n                  DATE_FORMATS.regex,\n                  i18next.t(\"global:error.input.invalidFormat\")\n                )\n                .matches(\n                  DATE_FORMATS.regexValidCharacter,\n                  i18next.t(\"global:error.input.invalidFormat\")\n                ),\n            })\n          : yup.object({}),\n    });\n\n  return (\n    <DetailPicker\n      {...props}\n      initialValues={initialValues}\n      validationSchema={validationSchema}\n      changePage={changePage}\n      cancel={cancel}\n      goBack={goBack}\n      aproveSubmit={aproveSubmit}\n      active={active}\n      formatDate={formatDate}\n    />\n  );\n};\n\nconst mapStateToProps = (state: RootState) => ({\n  pendingUserAdminPicker: detailPickerSelector(state).pendingUserAdminPicker,\n  isFetching: detailPickerSelector(state).fetching,\n  actualPage: pickersSelector(state).actualPage,\n  nameDisplay: detailPickerSelector(state).nameDisplay,\n  wrongFiles: hasPickerWrongFilesSelector(state),\n  loadedFiles: hasPickerAllFilesLoadedSelector(state),\n  provinces: detailPickerSelector(state).provinces,\n});\n\nconst mapDispatchToProps = (dispatch: AppDispatch) => ({\n  getPendingUserPicker: (params: number) => {\n    dispatch(pendingUserAdminPickerActions.getPendingUserPickerRequest(params));\n  },\n  getProvinces: () => {\n    dispatch(pendingUserAdminPickerActions.getProvincesRequest());\n  },\n  getPendingUserPickerExport: (params: ParamsMiddlewareType) => {\n    dispatch(\n      pendingUserAdminPickerActions.getPendingUserPickerExportRequest(params)\n    );\n  },\n  setDirty: (dirty: boolean) => {\n    dispatch(pendingUserAdminPickerActions.setDirty(dirty));\n  },\n  postAprovePickerRequest: (params: PickerType, goBack: Function) => {\n    dispatch(\n      pendingUserAdminPickerActions.getAprovePickerRequest({ params, goBack })\n    );\n  },\n  postPendingUserDocumentsEdit: (params: PickerType) => {\n    dispatch(\n      pendingUserAdminPickerActions.getPendingUserPickerDocumentsEditRequest(\n        params\n      )\n    );\n  },\n  showNotification: (content: NotificationStateType) => {\n    dispatch(notificationActions.showNotification(content));\n  },\n  postEditPickerRequest: (params: PickerType, goBack: Function) => {\n    dispatch(\n      pendingUserAdminPickerActions.getEditPickerRequest({ params, goBack })\n    );\n  },\n  setActualPage: (page: pickerTabs) => {\n    dispatch(pendingUserActions.setActualPage(page));\n  },\n  resetWrongFiles: () => {\n    dispatch(pendingUserAdminPickerActions.resetWrongFiles());\n  },\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(DetailPickerContainer);\n"]},"metadata":{},"sourceType":"module"}