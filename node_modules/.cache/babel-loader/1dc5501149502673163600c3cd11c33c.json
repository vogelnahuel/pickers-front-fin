{"ast":null,"code":"import createCSV from \".,/../../src/utils/createCSV\";\nimport { goBack } from \"connected-react-router\";\nimport i18next from \"i18next\";\nimport moment from \"moment\";\nimport { actions } from \"reducers/pickers\";\nimport { call, put, takeLatest } from \"redux-saga/effects\";\nimport { DATE_FORMATS } from \"utils/constants\";\nimport * as pickersMiddleware from \"../middleware/pickers\";\nimport { actions as detailPickerActions } from \"../reducers/detailPicker\";\nimport { actions as notificationActions } from \"../reducers/notification\";\nconst sagas = [takeLatest(actions.getPendingUserRequest.type, getPickers), takeLatest(actions.getPendingUserExportRequest.type, getPendingUserExport), takeLatest(actions.getMorePendingUserRequest.type, getMorePendingUser), takeLatest(detailPickerActions.getPendingUserPickerRequest.type, getPendingUserPicker), takeLatest(detailPickerActions.getPendingUserPickerExportRequest.type, getPendingUserPickerExport), takeLatest(detailPickerActions.getPendingUserPickerDocumentsEditRequest.type, postPendingUserDocumentsEdit), takeLatest(detailPickerActions.getAprovePickerRequest.type, postAprovePicker), takeLatest(detailPickerActions.getEditPickerRequest.type, postEditPicker), takeLatest(detailPickerActions.getPickerFileRequest.type, getPickerFile), takeLatest(detailPickerActions.getPickerFileSaveRequest.type, putFileUpload), takeLatest(detailPickerActions.getPickerFileDeleteRequest.type, fileDelete), takeLatest(detailPickerActions.getStatesTypesRequest.type, getStatesTypes)];\nexport default sagas;\n\nconst process = body => {\n  var _body$vehicle, _body$vehicle$patent;\n\n  return { ...body,\n    personalData: { ...body.personalData,\n      dateOfBirth: moment(body.personalData.dateOfBirth, DATE_FORMATS.shortDate).format(DATE_FORMATS.shortISODate)\n    },\n    accountingData: { ...body.accountingData,\n      fiscalNumber: body.accountingData.fiscalNumber.slice(0, 2) + body.accountingData.fiscalNumber.slice(5, 13) + body.accountingData.fiscalNumber.slice(16, 17)\n    },\n    vehicle: { ...body.vehicle,\n      patent: body === null || body === void 0 ? void 0 : (_body$vehicle = body.vehicle) === null || _body$vehicle === void 0 ? void 0 : (_body$vehicle$patent = _body$vehicle.patent) === null || _body$vehicle$patent === void 0 ? void 0 : _body$vehicle$patent.toUpperCase(),\n      expirationDatePolicyVehicle: body.vehicle.expirationDatePolicyVehicle && body.vehicle.expirationDatePolicyVehicle !== \"\" ? body.vehicle.expirationDatePolicyVehicle.match(DATE_FORMATS.regexshortDate) ? moment(body.vehicle.expirationDatePolicyVehicle, DATE_FORMATS.shortDate).format(DATE_FORMATS.shortISODate) : body.vehicle.expirationDatePolicyVehicle : null,\n      expirationDateIdentificationVehicle: body.vehicle.expirationDateIdentificationVehicle && body.vehicle.expirationDateIdentificationVehicle !== \"\" ? body.vehicle.expirationDateIdentificationVehicle.match(DATE_FORMATS.regexshortDate) ? moment(body.vehicle.expirationDateIdentificationVehicle, DATE_FORMATS.shortDate).format(DATE_FORMATS.shortISODate) : body.vehicle.expirationDateIdentificationVehicle : null,\n      expirationDateDriverLicense: body.vehicle.expirationDateDriverLicense && body.vehicle.expirationDateDriverLicense !== \"\" ? body.vehicle.expirationDateDriverLicense.match(DATE_FORMATS.regexshortDate) ? moment(body.vehicle.expirationDateDriverLicense, DATE_FORMATS.shortDate).format(DATE_FORMATS.shortISODate) : body.vehicle.expirationDateDriverLicense : null\n    }\n  };\n};\n\nfunction* getPickers(_ref) {\n  let {\n    payload\n  } = _ref;\n  const response = yield call(pickersMiddleware.getPickers, payload);\n\n  if (response.status !== 200) {\n    yield put(actions.getPendingUserError());\n  } else {\n    const {\n      result: {\n        items\n      },\n      ...rest\n    } = response.data;\n    yield put(actions.getPendingUserSuccess({\n      items,\n      ...rest\n    }));\n  }\n}\n\nfunction* getMorePendingUser(_ref2) {\n  let {\n    payload\n  } = _ref2;\n  const response = yield call(pickersMiddleware.getPickers, payload);\n\n  if (response.status !== 200) {\n    yield put(actions.getPendingUserError());\n  } else {\n    const {\n      result: {\n        items\n      },\n      ...rest\n    } = response.data;\n    yield put(actions.getMorePendingUserSuccess({\n      items,\n      ...rest\n    }));\n  }\n}\n\nfunction* getPendingUserPicker(_ref3) {\n  let {\n    payload\n  } = _ref3;\n  const response = yield call(pickersMiddleware.getPicker, payload);\n\n  if (response.status !== 200) {\n    yield put(detailPickerActions.getPendingUserPickerError());\n  } else {\n    const {\n      result\n    } = response.data;\n    yield put(detailPickerActions.getPendingUserPickerSuccess(result));\n    yield put(actions.setActualPage(result.status.id === 4 || result.status.id === 5 ? \"ACTIVE\" : \"PENDING\"));\n  }\n}\n\nfunction* getPendingUserExport(_ref4) {\n  let {\n    payload\n  } = _ref4;\n  const response = yield call(pickersMiddleware.getPickersExport, payload);\n\n  if (response.status !== 200) {\n    yield put(actions.getPendingUserExportError());\n  } else {\n    createCSV(response.data, \"pickers\");\n    yield put(actions.getPendingUserExportSuccess());\n    yield put(notificationActions.showNotification({\n      level: \"success\",\n      title: i18next.t(\"global:title.modal.export\"),\n      body: i18next.t(\"global:label.modal.export\")\n    }));\n  }\n}\n\nfunction* getPendingUserPickerExport(_ref5) {\n  let {\n    payload: {\n      email\n    }\n  } = _ref5;\n  const response = yield call(pickersMiddleware.getPickerExport, {\n    email\n  });\n\n  if (response.status !== 200) {\n    yield put(detailPickerActions.getPendingUserPickerExportError());\n  } else {\n    createCSV(response.data, \"pickers\");\n    yield put(notificationActions.showNotification({\n      level: \"success\",\n      title: i18next.t(\"global:title.modal.export\"),\n      body: i18next.t(\"global:label.modal.export\")\n    }));\n    yield put(detailPickerActions.getPendingUserPickerExportSuccess());\n  }\n}\n\nfunction* postPendingUserDocumentsEdit(_ref6) {\n  let {\n    payload\n  } = _ref6;\n  let body = process(payload);\n  const response = yield call(pickersMiddleware.postPickerDocumentsEdit, body);\n\n  if (response.status !== 200) {\n    yield put(notificationActions.showNotification({\n      level: \"error\",\n      title: i18next.t(\"global:title.modal.connectionError\"),\n      body: i18next.t(\"global:label.modal.connectionError\")\n    }));\n    yield put(detailPickerActions.getPendingUserPickerDocumentsEditError());\n  } else {\n    yield put(goBack());\n    yield put(detailPickerActions.getPendingUserPickerDocumentsEditSuccess(body));\n  }\n}\n\nfunction* postAprovePicker(_ref7) {\n  let {\n    payload: {\n      params,\n      goBack\n    }\n  } = _ref7;\n  let body = process(params);\n  const response = yield call(pickersMiddleware.postAprovePicker, body);\n\n  if (response.status !== 200) {\n    yield put(notificationActions.showNotification({\n      level: \"error\",\n      title: i18next.t(\"global:title.modal.connectionError\"),\n      body: i18next.t(\"global:label.modal.connectionError\")\n    }));\n    yield put(detailPickerActions.getAprovePickerError());\n  } else {\n    yield put(notificationActions.showNotification({\n      level: \"success\",\n      title: i18next.t(\"detailPicker:title.modal.approved\"),\n      body: i18next.t(\"detailPicker:label.modal.approved\"),\n      onClick: goBack\n    }));\n    yield put(detailPickerActions.getAprovePickerSuccess(body));\n  }\n}\n\nfunction* postEditPicker(_ref8) {\n  let {\n    payload: {\n      params,\n      goBack\n    }\n  } = _ref8;\n  let body = process(params);\n  const response = yield call(pickersMiddleware.postEditPicker, body);\n\n  if (response.status !== 200) {\n    yield put(notificationActions.showNotification({\n      level: \"error\",\n      title: i18next.t(\"global:title.modal.connectionError\"),\n      body: i18next.t(\"global:label.modal.connectionError\")\n    }));\n    yield put(detailPickerActions.getEditPickerError());\n  } else {\n    yield put(notificationActions.showNotification({\n      level: \"success\",\n      title: i18next.t(\"global:title.modal.changesSaved\"),\n      body: i18next.t(\"global:label.modal.changesSaved\"),\n      onClick: goBack\n    }));\n    yield put(detailPickerActions.getEditPickerSuccess(body));\n  }\n}\n\nfunction* getPickerFile(_ref9) {\n  let {\n    payload\n  } = _ref9;\n  const response = yield call(pickersMiddleware.getFile, payload);\n\n  if (response.status !== 200) {\n    yield put(detailPickerActions.getPickerFileError());\n  } else {\n    const {\n      result\n    } = response.data;\n    if (result.url) window.open(result.url, \"_blank\");\n    yield put(detailPickerActions.getPickerFileSuccess());\n  }\n}\n\nfunction* fileDelete(_ref10) {\n  let {\n    payload: {\n      id,\n      tag\n    }\n  } = _ref10;\n  const response = yield call(pickersMiddleware.deleteFile, id, tag);\n\n  if (response.status !== 200) {\n    yield put(detailPickerActions.getPickerFileDeleteError({\n      tag\n    }));\n  } else {\n    yield put(detailPickerActions.getPickerFileDeleteSuccess({\n      tag\n    }));\n    yield put(detailPickerActions.getPendingUserPickerRequest(id));\n  }\n}\n\nfunction* putFileUpload(_ref11) {\n  let {\n    payload: {\n      id,\n      content,\n      tag\n    }\n  } = _ref11;\n  const response = yield call(pickersMiddleware.fileUpload, id, {\n    content: content,\n    tag: tag\n  });\n\n  if (response.status !== 200) {\n    yield put(detailPickerActions.getPickerFileSaveError({\n      tag\n    }));\n  } else {\n    yield put(detailPickerActions.getPickerFileSaveSuccess({\n      tag\n    }));\n    yield put(detailPickerActions.getPendingUserPickerRequest(id));\n  }\n}\n\nfunction* getStatesTypes() {\n  const response = yield call(pickersMiddleware.getStates);\n\n  if (response.status !== 200) {\n    yield put(pickersMiddleware.getInvoiceDetailTypesError());\n  } else {\n    const {\n      result\n    } = response.data;\n    yield put(pickersMiddleware.getInvoiceDetailTypesSuccess(result));\n  }\n}","map":{"version":3,"sources":["/home/nahuel/pickers-admin-front/src/sagas/pickers.ts"],"names":["createCSV","goBack","i18next","moment","actions","call","put","takeLatest","DATE_FORMATS","pickersMiddleware","detailPickerActions","notificationActions","sagas","getPendingUserRequest","type","getPickers","getPendingUserExportRequest","getPendingUserExport","getMorePendingUserRequest","getMorePendingUser","getPendingUserPickerRequest","getPendingUserPicker","getPendingUserPickerExportRequest","getPendingUserPickerExport","getPendingUserPickerDocumentsEditRequest","postPendingUserDocumentsEdit","getAprovePickerRequest","postAprovePicker","getEditPickerRequest","postEditPicker","getPickerFileRequest","getPickerFile","getPickerFileSaveRequest","putFileUpload","getPickerFileDeleteRequest","fileDelete","getStatesTypesRequest","getStatesTypes","process","body","personalData","dateOfBirth","shortDate","format","shortISODate","accountingData","fiscalNumber","slice","vehicle","patent","toUpperCase","expirationDatePolicyVehicle","match","regexshortDate","expirationDateIdentificationVehicle","expirationDateDriverLicense","payload","response","status","getPendingUserError","result","items","rest","data","getPendingUserSuccess","getMorePendingUserSuccess","getPicker","getPendingUserPickerError","getPendingUserPickerSuccess","setActualPage","id","getPickersExport","getPendingUserExportError","getPendingUserExportSuccess","showNotification","level","title","t","email","getPickerExport","getPendingUserPickerExportError","getPendingUserPickerExportSuccess","postPickerDocumentsEdit","getPendingUserPickerDocumentsEditError","getPendingUserPickerDocumentsEditSuccess","params","getAprovePickerError","onClick","getAprovePickerSuccess","getEditPickerError","getEditPickerSuccess","getFile","getPickerFileError","url","window","open","getPickerFileSuccess","tag","deleteFile","getPickerFileDeleteError","getPickerFileDeleteSuccess","content","fileUpload","getPickerFileSaveError","getPickerFileSaveSuccess","getStates","getInvoiceDetailTypesError","getInvoiceDetailTypesSuccess"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,8BAAtB;AAIA,SAASC,MAAT,QAAuB,wBAAvB;AACA,OAAOC,OAAP,MAAoB,SAApB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AAEA,SAASC,OAAT,QAAwB,kBAAxB;AAEA,SACEC,IADF,EAGEC,GAHF,EAKEC,UALF,QAMO,oBANP;AAOA,SAASC,YAAT,QAA6B,iBAA7B;AACA,OAAO,KAAKC,iBAAZ,MAAmC,uBAAnC;AAgBA,SAASL,OAAO,IAAIM,mBAApB,QAA+C,0BAA/C;AACA,SAASN,OAAO,IAAIO,mBAApB,QAA+C,0BAA/C;AAQA,MAAMC,KAAK,GAAG,CACZL,UAAU,CAACH,OAAO,CAACS,qBAAR,CAA8BC,IAA/B,EAAqCC,UAArC,CADE,EAEZR,UAAU,CAACH,OAAO,CAACY,2BAAR,CAAoCF,IAArC,EAA2CG,oBAA3C,CAFE,EAGZV,UAAU,CAACH,OAAO,CAACc,yBAAR,CAAkCJ,IAAnC,EAAyCK,kBAAzC,CAHE,EAIZZ,UAAU,CACRG,mBAAmB,CAACU,2BAApB,CAAgDN,IADxC,EAERO,oBAFQ,CAJE,EAQZd,UAAU,CACRG,mBAAmB,CAACY,iCAApB,CAAsDR,IAD9C,EAERS,0BAFQ,CARE,EAYZhB,UAAU,CACRG,mBAAmB,CAACc,wCAApB,CAA6DV,IADrD,EAERW,4BAFQ,CAZE,EAgBZlB,UAAU,CAACG,mBAAmB,CAACgB,sBAApB,CAA2CZ,IAA5C,EAAkDa,gBAAlD,CAhBE,EAiBZpB,UAAU,CAACG,mBAAmB,CAACkB,oBAApB,CAAyCd,IAA1C,EAAgDe,cAAhD,CAjBE,EAkBZtB,UAAU,CAACG,mBAAmB,CAACoB,oBAApB,CAAyChB,IAA1C,EAAgDiB,aAAhD,CAlBE,EAmBZxB,UAAU,CAACG,mBAAmB,CAACsB,wBAApB,CAA6ClB,IAA9C,EAAoDmB,aAApD,CAnBE,EAoBZ1B,UAAU,CAACG,mBAAmB,CAACwB,0BAApB,CAA+CpB,IAAhD,EAAsDqB,UAAtD,CApBE,EAsBZ5B,UAAU,CAACG,mBAAmB,CAAC0B,qBAApB,CAA0CtB,IAA3C,EAAiDuB,cAAjD,CAtBE,CAAd;AAyBA,eAAezB,KAAf;;AAEA,MAAM0B,OAAO,GAAIC,IAAD,IASV;AAAA;;AACJ,SAAO,EACL,GAAGA,IADE;AAGLC,IAAAA,YAAY,EAAE,EACZ,GAAGD,IAAI,CAACC,YADI;AAEZC,MAAAA,WAAW,EAAEtC,MAAM,CACjBoC,IAAI,CAACC,YAAL,CAAkBC,WADD,EAEjBjC,YAAY,CAACkC,SAFI,CAAN,CAGXC,MAHW,CAGJnC,YAAY,CAACoC,YAHT;AAFD,KAHT;AAULC,IAAAA,cAAc,EAAE,EACd,GAAGN,IAAI,CAACM,cADM;AAEdC,MAAAA,YAAY,EACVP,IAAI,CAACM,cAAL,CAAoBC,YAApB,CAAiCC,KAAjC,CAAuC,CAAvC,EAA0C,CAA1C,IACAR,IAAI,CAACM,cAAL,CAAoBC,YAApB,CAAiCC,KAAjC,CAAuC,CAAvC,EAA0C,EAA1C,CADA,GAEAR,IAAI,CAACM,cAAL,CAAoBC,YAApB,CAAiCC,KAAjC,CAAuC,EAAvC,EAA2C,EAA3C;AALY,KAVX;AAiBLC,IAAAA,OAAO,EAAE,EACP,GAAGT,IAAI,CAACS,OADD;AAEPC,MAAAA,MAAM,EAAEV,IAAF,aAAEA,IAAF,wCAAEA,IAAI,CAAES,OAAR,0EAAE,cAAeC,MAAjB,yDAAE,qBAAuBC,WAAvB,EAFD;AAGPC,MAAAA,2BAA2B,EACzBZ,IAAI,CAACS,OAAL,CAAaG,2BAAb,IACAZ,IAAI,CAACS,OAAL,CAAaG,2BAAb,KAA6C,EAD7C,GAEIZ,IAAI,CAACS,OAAL,CAAaG,2BAAb,CAAyCC,KAAzC,CACE5C,YAAY,CAAC6C,cADf,IAGElD,MAAM,CACJoC,IAAI,CAACS,OAAL,CAAaG,2BADT,EAEJ3C,YAAY,CAACkC,SAFT,CAAN,CAGEC,MAHF,CAGSnC,YAAY,CAACoC,YAHtB,CAHF,GAOEL,IAAI,CAACS,OAAL,CAAaG,2BATnB,GAUI,IAdC;AAePG,MAAAA,mCAAmC,EACjCf,IAAI,CAACS,OAAL,CAAaM,mCAAb,IACAf,IAAI,CAACS,OAAL,CAAaM,mCAAb,KAAqD,EADrD,GAEIf,IAAI,CAACS,OAAL,CAAaM,mCAAb,CAAiDF,KAAjD,CACE5C,YAAY,CAAC6C,cADf,IAGElD,MAAM,CACJoC,IAAI,CAACS,OAAL,CAAaM,mCADT,EAEJ9C,YAAY,CAACkC,SAFT,CAAN,CAGEC,MAHF,CAGSnC,YAAY,CAACoC,YAHtB,CAHF,GAOEL,IAAI,CAACS,OAAL,CAAaM,mCATnB,GAUI,IA1BC;AA2BPC,MAAAA,2BAA2B,EACzBhB,IAAI,CAACS,OAAL,CAAaO,2BAAb,IACAhB,IAAI,CAACS,OAAL,CAAaO,2BAAb,KAA6C,EAD7C,GAEIhB,IAAI,CAACS,OAAL,CAAaO,2BAAb,CAAyCH,KAAzC,CACE5C,YAAY,CAAC6C,cADf,IAGElD,MAAM,CACJoC,IAAI,CAACS,OAAL,CAAaO,2BADT,EAEJ/C,YAAY,CAACkC,SAFT,CAAN,CAGEC,MAHF,CAGSnC,YAAY,CAACoC,YAHtB,CAHF,GAOEL,IAAI,CAACS,OAAL,CAAaO,2BATnB,GAUI;AAtCC;AAjBJ,GAAP;AA0DD,CApED;;AAqEA,UAAUxC,UAAV,OAQE;AAAA,MARmB;AACnByC,IAAAA;AADmB,GAQnB;AACA,QAAMC,QAAQ,GAAG,MAAMpD,IAAI,CAACI,iBAAiB,CAACM,UAAnB,EAA+ByC,OAA/B,CAA3B;;AACA,MAAIC,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AAC3B,UAAMpD,GAAG,CAACF,OAAO,CAACuD,mBAAR,EAAD,CAAT;AACD,GAFD,MAEO;AACL,UAAM;AACJC,MAAAA,MAAM,EAAE;AAAEC,QAAAA;AAAF,OADJ;AAEJ,SAAGC;AAFC,QAGFL,QAAQ,CAACM,IAHb;AAIA,UAAMzD,GAAG,CAACF,OAAO,CAAC4D,qBAAR,CAA8B;AAAEH,MAAAA,KAAF;AAAS,SAAGC;AAAZ,KAA9B,CAAD,CAAT;AACD;AACF;;AAED,UAAU3C,kBAAV,QAOE;AAAA,MAP2B;AAC3BqC,IAAAA;AAD2B,GAO3B;AACA,QAAMC,QAAQ,GAAG,MAAMpD,IAAI,CAACI,iBAAiB,CAACM,UAAnB,EAA+ByC,OAA/B,CAA3B;;AACA,MAAIC,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AAC3B,UAAMpD,GAAG,CAACF,OAAO,CAACuD,mBAAR,EAAD,CAAT;AACD,GAFD,MAEO;AACL,UAAM;AACJC,MAAAA,MAAM,EAAE;AAAEC,QAAAA;AAAF,OADJ;AAEJ,SAAGC;AAFC,QAGFL,QAAQ,CAACM,IAHb;AAIA,UAAMzD,GAAG,CAACF,OAAO,CAAC6D,yBAAR,CAAkC;AAAEJ,MAAAA,KAAF;AAAS,SAAGC;AAAZ,KAAlC,CAAD,CAAT;AACD;AACF;;AAED,UAAUzC,oBAAV,QAME;AAAA,MAN6B;AAC7BmC,IAAAA;AAD6B,GAM7B;AACA,QAAMC,QAAQ,GAAG,MAAMpD,IAAI,CAACI,iBAAiB,CAACyD,SAAnB,EAA8BV,OAA9B,CAA3B;;AACA,MAAIC,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AAC3B,UAAMpD,GAAG,CAACI,mBAAmB,CAACyD,yBAApB,EAAD,CAAT;AACD,GAFD,MAEO;AACL,UAAM;AAAEP,MAAAA;AAAF,QAAaH,QAAQ,CAACM,IAA5B;AACA,UAAMzD,GAAG,CAACI,mBAAmB,CAAC0D,2BAApB,CAAgDR,MAAhD,CAAD,CAAT;AACA,UAAMtD,GAAG,CACPF,OAAO,CAACiE,aAAR,CACET,MAAM,CAACF,MAAP,CAAcY,EAAd,KAAqB,CAArB,IAA0BV,MAAM,CAACF,MAAP,CAAcY,EAAd,KAAqB,CAA/C,GAAmD,QAAnD,GAA8D,SADhE,CADO,CAAT;AAKD;AACF;;AAED,UAAUrD,oBAAV,QAOE;AAAA,MAP6B;AAC7BuC,IAAAA;AAD6B,GAO7B;AACA,QAAMC,QAAQ,GAAG,MAAMpD,IAAI,CAACI,iBAAiB,CAAC8D,gBAAnB,EAAqCf,OAArC,CAA3B;;AAEA,MAAIC,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AAC3B,UAAMpD,GAAG,CAACF,OAAO,CAACoE,yBAAR,EAAD,CAAT;AACD,GAFD,MAEO;AACLxE,IAAAA,SAAS,CAACyD,QAAQ,CAACM,IAAV,EAAgB,SAAhB,CAAT;AACA,UAAMzD,GAAG,CAACF,OAAO,CAACqE,2BAAR,EAAD,CAAT;AACA,UAAMnE,GAAG,CACPK,mBAAmB,CAAC+D,gBAApB,CAAqC;AACnCC,MAAAA,KAAK,EAAE,SAD4B;AAEnCC,MAAAA,KAAK,EAAE1E,OAAO,CAAC2E,CAAR,CAAU,2BAAV,CAF4B;AAGnCtC,MAAAA,IAAI,EAAErC,OAAO,CAAC2E,CAAR,CAAU,2BAAV;AAH6B,KAArC,CADO,CAAT;AAOD;AACF;;AAED,UAAUtD,0BAAV,QAOE;AAAA,MAPmC;AACnCiC,IAAAA,OAAO,EAAE;AAAEsB,MAAAA;AAAF;AAD0B,GAOnC;AACA,QAAMrB,QAAQ,GAAG,MAAMpD,IAAI,CAACI,iBAAiB,CAACsE,eAAnB,EAAoC;AAAED,IAAAA;AAAF,GAApC,CAA3B;;AACA,MAAIrB,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AAC3B,UAAMpD,GAAG,CAACI,mBAAmB,CAACsE,+BAApB,EAAD,CAAT;AACD,GAFD,MAEO;AACLhF,IAAAA,SAAS,CAACyD,QAAQ,CAACM,IAAV,EAAgB,SAAhB,CAAT;AACA,UAAMzD,GAAG,CACPK,mBAAmB,CAAC+D,gBAApB,CAAqC;AACnCC,MAAAA,KAAK,EAAE,SAD4B;AAEnCC,MAAAA,KAAK,EAAE1E,OAAO,CAAC2E,CAAR,CAAU,2BAAV,CAF4B;AAGnCtC,MAAAA,IAAI,EAAErC,OAAO,CAAC2E,CAAR,CAAU,2BAAV;AAH6B,KAArC,CADO,CAAT;AAOA,UAAMvE,GAAG,CAACI,mBAAmB,CAACuE,iCAApB,EAAD,CAAT;AACD;AACF;;AAED,UAAUxD,4BAAV,QAQE;AAAA,MARqC;AACrC+B,IAAAA;AADqC,GAQrC;AACA,MAAIjB,IAAI,GAAGD,OAAO,CAACkB,OAAD,CAAlB;AACA,QAAMC,QAAQ,GAAG,MAAMpD,IAAI,CAACI,iBAAiB,CAACyE,uBAAnB,EAA4C3C,IAA5C,CAA3B;;AAEA,MAAIkB,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AAC3B,UAAMpD,GAAG,CACPK,mBAAmB,CAAC+D,gBAApB,CAAqC;AACnCC,MAAAA,KAAK,EAAE,OAD4B;AAEnCC,MAAAA,KAAK,EAAE1E,OAAO,CAAC2E,CAAR,CAAU,oCAAV,CAF4B;AAGnCtC,MAAAA,IAAI,EAAErC,OAAO,CAAC2E,CAAR,CAAU,oCAAV;AAH6B,KAArC,CADO,CAAT;AAOA,UAAMvE,GAAG,CAACI,mBAAmB,CAACyE,sCAApB,EAAD,CAAT;AACD,GATD,MASO;AACL,UAAM7E,GAAG,CAACL,MAAM,EAAP,CAAT;AACA,UAAMK,GAAG,CACPI,mBAAmB,CAAC0E,wCAApB,CAA6D7C,IAA7D,CADO,CAAT;AAGD;AACF;;AAED,UAAUZ,gBAAV,QAQE;AAAA,MARyB;AACzB6B,IAAAA,OAAO,EAAE;AAAE6B,MAAAA,MAAF;AAAUpF,MAAAA;AAAV;AADgB,GAQzB;AACA,MAAIsC,IAAI,GAAGD,OAAO,CAAC+C,MAAD,CAAlB;AACA,QAAM5B,QAAQ,GAAG,MAAMpD,IAAI,CAACI,iBAAiB,CAACkB,gBAAnB,EAAqCY,IAArC,CAA3B;;AACA,MAAIkB,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AAC3B,UAAMpD,GAAG,CACPK,mBAAmB,CAAC+D,gBAApB,CAAqC;AACnCC,MAAAA,KAAK,EAAE,OAD4B;AAEnCC,MAAAA,KAAK,EAAE1E,OAAO,CAAC2E,CAAR,CAAU,oCAAV,CAF4B;AAGnCtC,MAAAA,IAAI,EAAErC,OAAO,CAAC2E,CAAR,CAAU,oCAAV;AAH6B,KAArC,CADO,CAAT;AAOA,UAAMvE,GAAG,CAACI,mBAAmB,CAAC4E,oBAApB,EAAD,CAAT;AACD,GATD,MASO;AACL,UAAMhF,GAAG,CACPK,mBAAmB,CAAC+D,gBAApB,CAAqC;AACnCC,MAAAA,KAAK,EAAE,SAD4B;AAEnCC,MAAAA,KAAK,EAAE1E,OAAO,CAAC2E,CAAR,CAAU,mCAAV,CAF4B;AAGnCtC,MAAAA,IAAI,EAAErC,OAAO,CAAC2E,CAAR,CAAU,mCAAV,CAH6B;AAInCU,MAAAA,OAAO,EAAEtF;AAJ0B,KAArC,CADO,CAAT;AAQA,UAAMK,GAAG,CAACI,mBAAmB,CAAC8E,sBAApB,CAA2CjD,IAA3C,CAAD,CAAT;AACD;AACF;;AAED,UAAUV,cAAV,QAQE;AAAA,MARuB;AACvB2B,IAAAA,OAAO,EAAE;AAAE6B,MAAAA,MAAF;AAAUpF,MAAAA;AAAV;AADc,GAQvB;AACA,MAAIsC,IAAI,GAAGD,OAAO,CAAC+C,MAAD,CAAlB;AACA,QAAM5B,QAAQ,GAAG,MAAMpD,IAAI,CAACI,iBAAiB,CAACoB,cAAnB,EAAmCU,IAAnC,CAA3B;;AACA,MAAIkB,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AAC3B,UAAMpD,GAAG,CACPK,mBAAmB,CAAC+D,gBAApB,CAAqC;AACnCC,MAAAA,KAAK,EAAE,OAD4B;AAEnCC,MAAAA,KAAK,EAAE1E,OAAO,CAAC2E,CAAR,CAAU,oCAAV,CAF4B;AAGnCtC,MAAAA,IAAI,EAAErC,OAAO,CAAC2E,CAAR,CAAU,oCAAV;AAH6B,KAArC,CADO,CAAT;AAOA,UAAMvE,GAAG,CAACI,mBAAmB,CAAC+E,kBAApB,EAAD,CAAT;AACD,GATD,MASO;AACL,UAAMnF,GAAG,CACPK,mBAAmB,CAAC+D,gBAApB,CAAqC;AACnCC,MAAAA,KAAK,EAAE,SAD4B;AAEnCC,MAAAA,KAAK,EAAE1E,OAAO,CAAC2E,CAAR,CAAU,iCAAV,CAF4B;AAGnCtC,MAAAA,IAAI,EAAErC,OAAO,CAAC2E,CAAR,CAAU,iCAAV,CAH6B;AAInCU,MAAAA,OAAO,EAAEtF;AAJ0B,KAArC,CADO,CAAT;AAQA,UAAMK,GAAG,CAACI,mBAAmB,CAACgF,oBAApB,CAAyCnD,IAAzC,CAAD,CAAT;AACD;AACF;;AAED,UAAUR,aAAV,QAOE;AAAA,MAPsB;AACtByB,IAAAA;AADsB,GAOtB;AACA,QAAMC,QAAQ,GAAG,MAAMpD,IAAI,CAACI,iBAAiB,CAACkF,OAAnB,EAA4BnC,OAA5B,CAA3B;;AAEA,MAAIC,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AAC3B,UAAMpD,GAAG,CAACI,mBAAmB,CAACkF,kBAApB,EAAD,CAAT;AACD,GAFD,MAEO;AACL,UAAM;AAAEhC,MAAAA;AAAF,QAAaH,QAAQ,CAACM,IAA5B;AACA,QAAIH,MAAM,CAACiC,GAAX,EAAgBC,MAAM,CAACC,IAAP,CAAYnC,MAAM,CAACiC,GAAnB,EAAwB,QAAxB;AAChB,UAAMvF,GAAG,CAACI,mBAAmB,CAACsF,oBAApB,EAAD,CAAT;AACD;AACF;;AAED,UAAU7D,UAAV,SASE;AAAA,MATmB;AACnBqB,IAAAA,OAAO,EAAE;AAAEc,MAAAA,EAAF;AAAM2B,MAAAA;AAAN;AADU,GASnB;AACA,QAAMxC,QAAQ,GAAG,MAAMpD,IAAI,CAACI,iBAAiB,CAACyF,UAAnB,EAA+B5B,EAA/B,EAAmC2B,GAAnC,CAA3B;;AACA,MAAIxC,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AAC3B,UAAMpD,GAAG,CAACI,mBAAmB,CAACyF,wBAApB,CAA6C;AAAEF,MAAAA;AAAF,KAA7C,CAAD,CAAT;AACD,GAFD,MAEO;AACL,UAAM3F,GAAG,CAACI,mBAAmB,CAAC0F,0BAApB,CAA+C;AAAEH,MAAAA;AAAF,KAA/C,CAAD,CAAT;AACA,UAAM3F,GAAG,CAACI,mBAAmB,CAACU,2BAApB,CAAgDkD,EAAhD,CAAD,CAAT;AACD;AACF;;AAED,UAAUrC,aAAV,SAUE;AAAA,MAVsB;AACtBuB,IAAAA,OAAO,EAAE;AAAEc,MAAAA,EAAF;AAAM+B,MAAAA,OAAN;AAAeJ,MAAAA;AAAf;AADa,GAUtB;AACA,QAAMxC,QAAQ,GAAG,MAAMpD,IAAI,CAACI,iBAAiB,CAAC6F,UAAnB,EAA+BhC,EAA/B,EAAmC;AAC5D+B,IAAAA,OAAO,EAAEA,OADmD;AAE5DJ,IAAAA,GAAG,EAAEA;AAFuD,GAAnC,CAA3B;;AAIA,MAAIxC,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AAC3B,UAAMpD,GAAG,CAACI,mBAAmB,CAAC6F,sBAApB,CAA2C;AAAEN,MAAAA;AAAF,KAA3C,CAAD,CAAT;AACD,GAFD,MAEO;AACL,UAAM3F,GAAG,CAACI,mBAAmB,CAAC8F,wBAApB,CAA6C;AAAEP,MAAAA;AAAF,KAA7C,CAAD,CAAT;AACA,UAAM3F,GAAG,CAACI,mBAAmB,CAACU,2BAApB,CAAgDkD,EAAhD,CAAD,CAAT;AACD;AACF;;AAED,UAAUjC,cAAV,GAKE;AACA,QAAMoB,QAAQ,GAAG,MAAMpD,IAAI,CAACI,iBAAiB,CAACgG,SAAnB,CAA3B;;AACA,MAAIhD,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AAC3B,UAAMpD,GAAG,CAACG,iBAAiB,CAACiG,0BAAlB,EAAD,CAAT;AACD,GAFD,MAEO;AACL,UAAM;AAAE9C,MAAAA;AAAF,QAAaH,QAAQ,CAACM,IAA5B;AACA,UAAMzD,GAAG,CAACG,iBAAiB,CAACkG,4BAAlB,CAA+C/C,MAA/C,CAAD,CAAT;AACD;AACF","sourcesContent":["import createCSV from \".,/../../src/utils/createCSV\";\nimport { PayloadAction } from \"@reduxjs/toolkit\";\nimport { AxiosResponse } from \"axios\";\nimport { DeleteFileType } from \"component/admin/ExpandableFile/types\";\nimport { goBack } from \"connected-react-router\";\nimport i18next from \"i18next\";\nimport moment from \"moment\";\nimport { PickerFileRequestType } from \"pages/pickers/detailPicker/types\";\nimport { actions } from \"reducers/pickers\";\nimport { NotificationStateType } from \"reducers/types/notification\";\nimport {\n  call,\n  CallEffect,\n  put,\n  PutEffect,\n  takeLatest,\n} from \"redux-saga/effects\";\nimport { DATE_FORMATS } from \"utils/constants\";\nimport * as pickersMiddleware from \"../middleware/pickers\";\nimport {\n  AcountDataType,\n  DetailPickerTagFileType,\n  EditPickerResponseType,\n  FilesType,\n  ParamsMiddlewareType,\n  PersonalDataType,\n  PickerFileResponseType,\n  PickersAxiosResponseType,\n  PickersExportResponseType,\n  PickersResponse,\n  PickerType,\n  StatusType,\n  VehicleType,\n} from \"../pages/pickers/types\";\nimport { actions as detailPickerActions } from \"../reducers/detailPicker\";\nimport { actions as notificationActions } from \"../reducers/notification\";\nimport {\n  CsvResponseType,\n  DetailPickersStatesTypesApiResponseType,\n  PickerResponseType,\n  PickersResponseType,\n} from \"./types/pickers\";\n\nconst sagas = [\n  takeLatest(actions.getPendingUserRequest.type, getPickers),\n  takeLatest(actions.getPendingUserExportRequest.type, getPendingUserExport),\n  takeLatest(actions.getMorePendingUserRequest.type, getMorePendingUser),\n  takeLatest(\n    detailPickerActions.getPendingUserPickerRequest.type,\n    getPendingUserPicker\n  ),\n  takeLatest(\n    detailPickerActions.getPendingUserPickerExportRequest.type,\n    getPendingUserPickerExport\n  ),\n  takeLatest(\n    detailPickerActions.getPendingUserPickerDocumentsEditRequest.type,\n    postPendingUserDocumentsEdit\n  ),\n  takeLatest(detailPickerActions.getAprovePickerRequest.type, postAprovePicker),\n  takeLatest(detailPickerActions.getEditPickerRequest.type, postEditPicker),\n  takeLatest(detailPickerActions.getPickerFileRequest.type, getPickerFile),\n  takeLatest(detailPickerActions.getPickerFileSaveRequest.type, putFileUpload),\n  takeLatest(detailPickerActions.getPickerFileDeleteRequest.type, fileDelete),\n\n  takeLatest(detailPickerActions.getStatesTypesRequest.type, getStatesTypes),\n];\n\nexport default sagas;\n\nconst process = (body: {\n  id: number;\n  enable: boolean;\n  registerDatetime: string;\n  status: StatusType;\n  personalData: PersonalDataType;\n  accountingData: AcountDataType;\n  vehicle: VehicleType;\n  files: FilesType;\n}) => {\n  return {\n    ...body,\n\n    personalData: {\n      ...body.personalData,\n      dateOfBirth: moment(\n        body.personalData.dateOfBirth,\n        DATE_FORMATS.shortDate\n      ).format(DATE_FORMATS.shortISODate),\n    },\n    accountingData: {\n      ...body.accountingData,\n      fiscalNumber:\n        body.accountingData.fiscalNumber.slice(0, 2) +\n        body.accountingData.fiscalNumber.slice(5, 13) +\n        body.accountingData.fiscalNumber.slice(16, 17),\n    },\n    vehicle: {\n      ...body.vehicle,\n      patent: body?.vehicle?.patent?.toUpperCase(),\n      expirationDatePolicyVehicle:\n        body.vehicle.expirationDatePolicyVehicle &&\n        body.vehicle.expirationDatePolicyVehicle !== \"\"\n          ? body.vehicle.expirationDatePolicyVehicle.match(\n              DATE_FORMATS.regexshortDate\n            )\n            ? moment(\n                body.vehicle.expirationDatePolicyVehicle,\n                DATE_FORMATS.shortDate\n              ).format(DATE_FORMATS.shortISODate)\n            : body.vehicle.expirationDatePolicyVehicle\n          : null,\n      expirationDateIdentificationVehicle:\n        body.vehicle.expirationDateIdentificationVehicle &&\n        body.vehicle.expirationDateIdentificationVehicle !== \"\"\n          ? body.vehicle.expirationDateIdentificationVehicle.match(\n              DATE_FORMATS.regexshortDate\n            )\n            ? moment(\n                body.vehicle.expirationDateIdentificationVehicle,\n                DATE_FORMATS.shortDate\n              ).format(DATE_FORMATS.shortISODate)\n            : body.vehicle.expirationDateIdentificationVehicle\n          : null,\n      expirationDateDriverLicense:\n        body.vehicle.expirationDateDriverLicense &&\n        body.vehicle.expirationDateDriverLicense !== \"\"\n          ? body.vehicle.expirationDateDriverLicense.match(\n              DATE_FORMATS.regexshortDate\n            )\n            ? moment(\n                body.vehicle.expirationDateDriverLicense,\n                DATE_FORMATS.shortDate\n              ).format(DATE_FORMATS.shortISODate)\n            : body.vehicle.expirationDateDriverLicense\n          : null,\n    },\n  };\n};\nfunction* getPickers({\n  payload,\n}: PayloadAction<ParamsMiddlewareType>): Generator<\n  | CallEffect<AxiosResponse<PickersAxiosResponseType>>\n  | PutEffect<{ type: string; pendingUsers: PickersResponse }>\n  | PutEffect<{ type: string }>,\n  void,\n  PickersResponseType\n> {\n  const response = yield call(pickersMiddleware.getPickers, payload);\n  if (response.status !== 200) {\n    yield put(actions.getPendingUserError());\n  } else {\n    const {\n      result: { items },\n      ...rest\n    } = response.data;\n    yield put(actions.getPendingUserSuccess({ items, ...rest }));\n  }\n}\n\nfunction* getMorePendingUser({\n  payload,\n}: PayloadAction<ParamsMiddlewareType>): Generator<\n  | CallEffect<AxiosResponse<PickersAxiosResponseType>>\n  | PutEffect<{ type: string }>,\n  void,\n  PickersResponseType\n> {\n  const response = yield call(pickersMiddleware.getPickers, payload);\n  if (response.status !== 200) {\n    yield put(actions.getPendingUserError());\n  } else {\n    const {\n      result: { items },\n      ...rest\n    } = response.data;\n    yield put(actions.getMorePendingUserSuccess({ items, ...rest }));\n  }\n}\n\nfunction* getPendingUserPicker({\n  payload,\n}: PayloadAction<number>): Generator<\n  CallEffect<AxiosResponse<PickerType>> | PutEffect<{ type: string }>,\n  void,\n  PickerResponseType\n> {\n  const response = yield call(pickersMiddleware.getPicker, payload);\n  if (response.status !== 200) {\n    yield put(detailPickerActions.getPendingUserPickerError());\n  } else {\n    const { result } = response.data;\n    yield put(detailPickerActions.getPendingUserPickerSuccess(result));\n    yield put(\n      actions.setActualPage(\n        result.status.id === 4 || result.status.id === 5 ? \"ACTIVE\" : \"PENDING\"\n      )\n    );\n  }\n}\n\nfunction* getPendingUserExport({\n  payload,\n}: PayloadAction<ParamsMiddlewareType>): Generator<\n  | CallEffect<AxiosResponse<PickersExportResponseType>>\n  | PutEffect<{ type: string }>,\n  void,\n  CsvResponseType\n> {\n  const response = yield call(pickersMiddleware.getPickersExport, payload);\n\n  if (response.status !== 200) {\n    yield put(actions.getPendingUserExportError());\n  } else {\n    createCSV(response.data, \"pickers\");\n    yield put(actions.getPendingUserExportSuccess());\n    yield put(\n      notificationActions.showNotification({\n        level: \"success\",\n        title: i18next.t(\"global:title.modal.export\"),\n        body: i18next.t(\"global:label.modal.export\"),\n      })\n    );\n  }\n}\n\nfunction* getPendingUserPickerExport({\n  payload: { email },\n}: PayloadAction<ParamsMiddlewareType>): Generator<\n  | CallEffect<AxiosResponse<PickersExportResponseType>>\n  | PutEffect<{ type: string }>,\n  void,\n  CsvResponseType\n> {\n  const response = yield call(pickersMiddleware.getPickerExport, { email });\n  if (response.status !== 200) {\n    yield put(detailPickerActions.getPendingUserPickerExportError());\n  } else {\n    createCSV(response.data, \"pickers\");\n    yield put(\n      notificationActions.showNotification({\n        level: \"success\",\n        title: i18next.t(\"global:title.modal.export\"),\n        body: i18next.t(\"global:label.modal.export\"),\n      })\n    );\n    yield put(detailPickerActions.getPendingUserPickerExportSuccess());\n  }\n}\n\nfunction* postPendingUserDocumentsEdit({\n  payload,\n}: PayloadAction<PickerType>): Generator<\n  | CallEffect<AxiosResponse<EditPickerResponseType>>\n  | PutEffect<{ type: string; content: NotificationStateType }>\n  | PutEffect<{ type: string }>,\n  void,\n  PickerResponseType\n> {\n  let body = process(payload);\n  const response = yield call(pickersMiddleware.postPickerDocumentsEdit, body);\n\n  if (response.status !== 200) {\n    yield put(\n      notificationActions.showNotification({\n        level: \"error\",\n        title: i18next.t(\"global:title.modal.connectionError\"),\n        body: i18next.t(\"global:label.modal.connectionError\"),\n      })\n    );\n    yield put(detailPickerActions.getPendingUserPickerDocumentsEditError());\n  } else {\n    yield put(goBack());\n    yield put(\n      detailPickerActions.getPendingUserPickerDocumentsEditSuccess(body)\n    );\n  }\n}\n\nfunction* postAprovePicker({\n  payload: { params, goBack },\n}: PayloadAction<{ params: PickerType; goBack: Function }>): Generator<\n  | CallEffect<AxiosResponse<EditPickerResponseType>>\n  | PutEffect<{ type: string; content: NotificationStateType }>\n  | PutEffect<{ type: string }>,\n  void,\n  PickerResponseType\n> {\n  let body = process(params);\n  const response = yield call(pickersMiddleware.postAprovePicker, body);\n  if (response.status !== 200) {\n    yield put(\n      notificationActions.showNotification({\n        level: \"error\",\n        title: i18next.t(\"global:title.modal.connectionError\"),\n        body: i18next.t(\"global:label.modal.connectionError\"),\n      })\n    );\n    yield put(detailPickerActions.getAprovePickerError());\n  } else {\n    yield put(\n      notificationActions.showNotification({\n        level: \"success\",\n        title: i18next.t(\"detailPicker:title.modal.approved\"),\n        body: i18next.t(\"detailPicker:label.modal.approved\"),\n        onClick: goBack,\n      })\n    );\n    yield put(detailPickerActions.getAprovePickerSuccess(body));\n  }\n}\n\nfunction* postEditPicker({\n  payload: { params, goBack },\n}: PayloadAction<{ params: PickerType; goBack: Function }>): Generator<\n  | CallEffect<AxiosResponse<EditPickerResponseType>>\n  | PutEffect<{ type: string; content: NotificationStateType }>\n  | PutEffect<{ type: string }>,\n  void,\n  PickerResponseType\n> {\n  let body = process(params);\n  const response = yield call(pickersMiddleware.postEditPicker, body);\n  if (response.status !== 200) {\n    yield put(\n      notificationActions.showNotification({\n        level: \"error\",\n        title: i18next.t(\"global:title.modal.connectionError\"),\n        body: i18next.t(\"global:label.modal.connectionError\"),\n      })\n    );\n    yield put(detailPickerActions.getEditPickerError());\n  } else {\n    yield put(\n      notificationActions.showNotification({\n        level: \"success\",\n        title: i18next.t(\"global:title.modal.changesSaved\"),\n        body: i18next.t(\"global:label.modal.changesSaved\"),\n        onClick: goBack,\n      })\n    );\n    yield put(detailPickerActions.getEditPickerSuccess(body));\n  }\n}\n\nfunction* getPickerFile({\n  payload,\n}: PayloadAction<PickerFileRequestType>): Generator<\n  | CallEffect<AxiosResponse<PickerFileResponseType>>\n  | PutEffect<{ type: string }>,\n  void,\n  { status: number; data: PickerFileResponseType }\n> {\n  const response = yield call(pickersMiddleware.getFile, payload);\n\n  if (response.status !== 200) {\n    yield put(detailPickerActions.getPickerFileError());\n  } else {\n    const { result } = response.data;\n    if (result.url) window.open(result.url, \"_blank\");\n    yield put(detailPickerActions.getPickerFileSuccess());\n  }\n}\n\nfunction* fileDelete({\n  payload: { id, tag },\n}: PayloadAction<DeleteFileType>): Generator<\n  | PutEffect<{ type: string }>\n  | CallEffect<AxiosResponse<any>>\n  | Promise<AxiosResponse<any>>\n  | void,\n  void,\n  { status: number; data: {} }\n> {\n  const response = yield call(pickersMiddleware.deleteFile, id, tag);\n  if (response.status !== 200) {\n    yield put(detailPickerActions.getPickerFileDeleteError({ tag }));\n  } else {\n    yield put(detailPickerActions.getPickerFileDeleteSuccess({ tag }));\n    yield put(detailPickerActions.getPendingUserPickerRequest(id));\n  }\n}\n\nfunction* putFileUpload({\n  payload: { id, content, tag },\n}: PayloadAction<{\n  id: number;\n  content: string;\n  tag: keyof DetailPickerTagFileType;\n}>): Generator<\n  CallEffect<AxiosResponse<{}>> | PutEffect<{ type: string }> | void,\n  void,\n  { status: number; data: {} }\n> {\n  const response = yield call(pickersMiddleware.fileUpload, id, {\n    content: content,\n    tag: tag,\n  });\n  if (response.status !== 200) {\n    yield put(detailPickerActions.getPickerFileSaveError({ tag }));\n  } else {\n    yield put(detailPickerActions.getPickerFileSaveSuccess({ tag }));\n    yield put(detailPickerActions.getPendingUserPickerRequest(id));\n  }\n}\n\nfunction* getStatesTypes(): Generator<\n  | PutEffect<{ type: string }>\n  | CallEffect<AxiosResponse<DetailPickersStatesTypesApiResponseType>>,\n  void,\n  DetailPickersStatesTypesApiResponseType\n> {\n  const response = yield call(pickersMiddleware.getStates);\n  if (response.status !== 200) {\n    yield put(pickersMiddleware.getInvoiceDetailTypesError());\n  } else {\n    const { result } = response.data;\n    yield put(pickersMiddleware.getInvoiceDetailTypesSuccess(result));\n  }\n}\n"]},"metadata":{},"sourceType":"module"}