{"ast":null,"code":"import moment from \"moment\";\nimport { call, put, takeLatest } from \"redux-saga/effects\";\nimport { DATE_FORMATS } from \"utils/constants\";\nimport * as preliquidationsMiddleware from \"../middleware/preliquidations\";\nimport { actions as preliquidationActions } from \"../reducers/preliquidation\";\nconst sagas = [takeLatest(preliquidationActions.getPreliquidationsRequest.type, getPreliquidations), takeLatest(preliquidationActions.getMorePreliquidationsRequest.type, getMorePreliquidations), takeLatest(preliquidationActions.getInvoiceDetailRequest.type, getInvoiceDetail), takeLatest(preliquidationActions.getInvoiceDetailSaveRequest.type, putSaveDetailInvoice), takeLatest(preliquidationActions.getInvoiceDetailApproveRequest.type, patchApproveDetailInvoice), takeLatest(preliquidationActions.getInvoiceDetailDeleteRequest.type, putDeleteDetailInvoice), takeLatest(preliquidationActions.uploadInvoiceFile.type, uploadInvoiceFile), takeLatest(preliquidationActions.deleteInvoiceFileRequest.type, deleteInvoiceFile), takeLatest(preliquidationActions.getInvoiceDetailTypesRequest.type, getDetailInvoiceTypes)];\nexport default sagas;\n\nconst process = body => {\n  return { ...body,\n    emisionDate: moment(body === null || body === void 0 ? void 0 : body.emisionDate, DATE_FORMATS.shortDate).format(DATE_FORMATS.shortISODate)\n  };\n};\n\nconst processDatePicker = payload => {\n  let payloadCast = payload;\n\n  if (payload.generatedAt) {\n    var _payload$generatedAt;\n\n    const castDatePicker = moment((_payload$generatedAt = payload.generatedAt) === null || _payload$generatedAt === void 0 ? void 0 : _payload$generatedAt.from, DATE_FORMATS.shortDate).format(DATE_FORMATS.shortISODate);\n    payloadCast = { ...payload,\n      generatedAt: castDatePicker\n    };\n  }\n\n  return payloadCast;\n};\n\nfunction* getPreliquidations(_ref) {\n  let {\n    payload\n  } = _ref;\n\n  if ((payload === null || payload === void 0 ? void 0 : payload.status) === \"\") {\n    delete payload[\"status\"];\n  }\n\n  let payloadCast = processDatePicker(payload);\n  const response = yield call(preliquidationsMiddleware.getPreliquidations, payloadCast);\n\n  if (response.status !== 200) {\n    yield put(preliquidationActions.getPreliquidationsError());\n  } else {\n    yield put(preliquidationActions.getPreliquidationsSuccess(response.data));\n  }\n}\n\nfunction* getMorePreliquidations(_ref2) {\n  let {\n    payload\n  } = _ref2;\n  let payloadCast = processDatePicker(payload);\n  const response = yield call(preliquidationsMiddleware.getPreliquidations, payloadCast);\n\n  if (response.status !== 200) {\n    yield put(preliquidationActions.getMorePreliquidationsError());\n  } else {\n    const {\n      result: {\n        items\n      },\n      ...rest\n    } = response.data;\n    yield put(preliquidationActions.getMorePreliquidationsSuccess({\n      items,\n      ...rest\n    }));\n  }\n}\n\nfunction* getInvoiceDetail(_ref3) {\n  let {\n    payload\n  } = _ref3;\n  const response = yield call(preliquidationsMiddleware.getDetailInvoice, payload);\n\n  if (response.status !== 200) {\n    yield put(preliquidationActions.getInvoiceDetailError());\n  } else {\n    const {\n      result\n    } = response.data;\n    yield put(preliquidationActions.getInvoiceDetailSuccess(result));\n  }\n}\n\nfunction* putSaveDetailInvoice(_ref4) {\n  var _payload$emisionDate;\n\n  let {\n    payload\n  } = _ref4;\n  let result = {\n    emisionDate: typeof payload.emisionDate !== \"string\" ? (_payload$emisionDate = payload.emisionDate) === null || _payload$emisionDate === void 0 ? void 0 : _payload$emisionDate.from : \"\",\n    invoiceType: payload.invoiceType,\n    invoiceNumber: payload.invoiceNumber,\n    salePoint: payload.salePoint,\n    caeNumber: payload.caeNumber\n  };\n  result = process(result);\n  const response = yield call(preliquidationsMiddleware.putSaveDetailInvoice, payload.presettementId, result);\n\n  if (response.status !== 200) {\n    yield put(preliquidationActions.getInvoiceDetailSaveError());\n  } else {\n    yield put(preliquidationActions.getInvoiceDetailSaveSuccess());\n  }\n}\n\nfunction* patchApproveDetailInvoice(_ref5) {\n  var _payload$emisionDate2;\n\n  let {\n    payload\n  } = _ref5;\n  let result = {\n    emisionDate: typeof payload.emisionDate !== \"string\" ? (_payload$emisionDate2 = payload.emisionDate) === null || _payload$emisionDate2 === void 0 ? void 0 : _payload$emisionDate2.from : \"\",\n    invoiceType: payload.invoiceType,\n    invoiceNumber: payload.invoiceNumber,\n    salePoint: payload.salePoint,\n    caeNumber: payload.caeNumber\n  };\n  result = process(result);\n  const response = yield call(preliquidationsMiddleware.patchApproveDetailInvoice, payload.presettementId, result);\n\n  if (response.status !== 200) {\n    yield put(preliquidationActions.getInvoiceDetailApproveError());\n  } else {\n    yield put(preliquidationActions.getInvoiceDetailApproveSuccess());\n  }\n}\n\nfunction* putDeleteDetailInvoice(_ref6) {\n  let {\n    payload\n  } = _ref6;\n  const response = yield call(preliquidationsMiddleware.putDeleteDetailInvoice, payload.presettlementId);\n\n  if (response.status !== 200) {\n    yield put(preliquidationActions.getInvoiceDetailDeleteError());\n  } else {\n    yield put(preliquidationActions.getInvoiceDetailDeleteSuccess());\n  }\n}\n\nfunction* uploadInvoiceFile(_ref7) {\n  let {\n    payload\n  } = _ref7;\n  const response = yield call(preliquidationsMiddleware.uploadInvoiceFile, payload);\n\n  if (response.status !== 200) {\n    yield put(preliquidationActions.uploadInvoiceFileError());\n  } else {\n    yield put(preliquidationActions.uploadInvoiceFileSuccess(payload.content));\n  }\n}\n\nfunction* deleteInvoiceFile(_ref8) {\n  let {\n    payload\n  } = _ref8;\n  const response = yield call(preliquidationsMiddleware.deleteInvoiceFile, payload.id);\n\n  if (response.status !== 200) {\n    yield put(preliquidationActions.deleteInvoiceFileError());\n  } else {\n    yield put(preliquidationActions.deleteInvoiceFileSuccess());\n  }\n}\n\nfunction* getDetailInvoiceTypes() {\n  const response = yield call(preliquidationsMiddleware.getDetailInvoiceTypes);\n\n  if (response.status !== 200) {\n    yield put(preliquidationActions.getInvoiceDetailTypesError());\n  } else {\n    const {\n      result\n    } = response.data;\n    yield put(preliquidationActions.getInvoiceDetailTypesSuccess(result));\n  }\n}","map":{"version":3,"sources":["/home/nahuel/pickers-admin-front/src/sagas/preliquidation.ts"],"names":["moment","call","put","takeLatest","DATE_FORMATS","preliquidationsMiddleware","actions","preliquidationActions","sagas","getPreliquidationsRequest","type","getPreliquidations","getMorePreliquidationsRequest","getMorePreliquidations","getInvoiceDetailRequest","getInvoiceDetail","getInvoiceDetailSaveRequest","putSaveDetailInvoice","getInvoiceDetailApproveRequest","patchApproveDetailInvoice","getInvoiceDetailDeleteRequest","putDeleteDetailInvoice","uploadInvoiceFile","deleteInvoiceFileRequest","deleteInvoiceFile","getInvoiceDetailTypesRequest","getDetailInvoiceTypes","process","body","emisionDate","shortDate","format","shortISODate","processDatePicker","payload","payloadCast","generatedAt","castDatePicker","from","status","response","getPreliquidationsError","getPreliquidationsSuccess","data","getMorePreliquidationsError","result","items","rest","getMorePreliquidationsSuccess","getDetailInvoice","getInvoiceDetailError","getInvoiceDetailSuccess","invoiceType","invoiceNumber","salePoint","caeNumber","presettementId","getInvoiceDetailSaveError","getInvoiceDetailSaveSuccess","getInvoiceDetailApproveError","getInvoiceDetailApproveSuccess","presettlementId","getInvoiceDetailDeleteError","getInvoiceDetailDeleteSuccess","uploadInvoiceFileError","uploadInvoiceFileSuccess","content","id","deleteInvoiceFileError","deleteInvoiceFileSuccess","getInvoiceDetailTypesError","getInvoiceDetailTypesSuccess"],"mappings":"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","sourcesContent":["import { PayloadAction } from \"@reduxjs/toolkit\";\nimport { AxiosResponse } from \"axios\";\nimport moment from \"moment\";\nimport { ApiResponse } from \"middleware/api\";\nimport { detailPreliquidationDatePicker } from \"pages/preliquidation/DetailPreliquidation/invoice/types\";\n\nimport {\n  call,\n  CallEffect,\n  put,\n  PutEffect,\n  takeLatest,\n} from \"redux-saga/effects\";\nimport { DATE_FORMATS } from \"utils/constants\";\nimport * as preliquidationsMiddleware from \"../middleware/preliquidations\";\n\nimport { actions as preliquidationActions } from \"../reducers/preliquidation\";\nimport {\n  DetailPreliquidationBodyParamsType,\n  DetailPreliquidationsApiResponseType,\n  DetailPreliquidationsContentResponseType,\n  DetailPreliquidationsInvoiceApiResponseType,\n  DetailPreliquidationsInvoiceTypesApiResponseType,\n  PreliquidationCastParamsMiddlewareType,\n  PreliquidationParamsMiddlewareType,\n  PreliquidationsApiResponse,\n  RejectInvoiceMiddlewareType,\n  UploadInvoiceFileMiddlewareType,\n} from \"./types/preliquidation\";\n\nconst sagas = [\n  takeLatest(\n    preliquidationActions.getPreliquidationsRequest.type,\n    getPreliquidations\n  ),\n  takeLatest(\n    preliquidationActions.getMorePreliquidationsRequest.type,\n    getMorePreliquidations\n  ),\n  takeLatest(\n    preliquidationActions.getInvoiceDetailRequest.type,\n    getInvoiceDetail\n  ),\n  takeLatest(\n    preliquidationActions.getInvoiceDetailSaveRequest.type,\n    putSaveDetailInvoice\n  ),\n  takeLatest(\n    preliquidationActions.getInvoiceDetailApproveRequest.type,\n    patchApproveDetailInvoice\n  ),\n  takeLatest(\n    preliquidationActions.getInvoiceDetailDeleteRequest.type,\n    putDeleteDetailInvoice\n  ),\n  takeLatest(preliquidationActions.uploadInvoiceFile.type, uploadInvoiceFile),\n  takeLatest(\n    preliquidationActions.deleteInvoiceFileRequest.type,\n    deleteInvoiceFile\n  ),\n  takeLatest(\n    preliquidationActions.getInvoiceDetailTypesRequest.type,\n    getDetailInvoiceTypes\n  ),\n];\n\nexport default sagas;\n\nconst process = (body: DetailPreliquidationBodyParamsType) => {\n  return {\n    ...body,\n    emisionDate: moment(body?.emisionDate, DATE_FORMATS.shortDate).format(\n      DATE_FORMATS.shortISODate\n    ),\n  };\n};\n\nconst processDatePicker = (payload: PreliquidationParamsMiddlewareType):PreliquidationCastParamsMiddlewareType => {\n  let payloadCast: PreliquidationCastParamsMiddlewareType =\n    payload as PreliquidationCastParamsMiddlewareType;\n  if (payload.generatedAt) {\n    const castDatePicker = moment(\n      payload.generatedAt?.from,\n      DATE_FORMATS.shortDate\n    ).format(DATE_FORMATS.shortISODate);\n\n    payloadCast = {\n      ...payload,\n      generatedAt: castDatePicker,\n    };\n  }\n\n  return payloadCast;\n};\n\nfunction* getPreliquidations({\n  payload,\n}: PayloadAction<PreliquidationParamsMiddlewareType>): Generator<\n  | CallEffect<AxiosResponse<PreliquidationsApiResponse>>\n  | PutEffect<{ type: string }>,\n  void,\n  PreliquidationsApiResponse\n> {\n  if (payload?.status === \"\") {\n    delete payload[\"status\"];\n  }\n  let payloadCast: PreliquidationCastParamsMiddlewareType =\n    processDatePicker(payload);\n\n  const response = yield call(\n    preliquidationsMiddleware.getPreliquidations,\n    payloadCast\n  );\n  if (response.status !== 200) {\n    yield put(preliquidationActions.getPreliquidationsError());\n  } else {\n    yield put(preliquidationActions.getPreliquidationsSuccess(response.data));\n  }\n}\n\nfunction* getMorePreliquidations({\n  payload,\n}: PayloadAction<PreliquidationParamsMiddlewareType>): Generator<\n  | CallEffect<AxiosResponse<PreliquidationsApiResponse>>\n  | PutEffect<{ type: string }>,\n  void,\n  PreliquidationsApiResponse\n> {\n  let payloadCast: PreliquidationCastParamsMiddlewareType =\n    processDatePicker(payload);\n  const response = yield call(\n    preliquidationsMiddleware.getPreliquidations,\n    payloadCast\n  );\n  if (response.status !== 200) {\n    yield put(preliquidationActions.getMorePreliquidationsError());\n  } else {\n    const {\n      result: { items },\n      ...rest\n    } = response.data;\n    yield put(\n      preliquidationActions.getMorePreliquidationsSuccess({ items, ...rest })\n    );\n  }\n}\n\nfunction* getInvoiceDetail({\n  payload,\n}: PayloadAction<string | undefined>): Generator<\n  | PutEffect<{\n      payload: DetailPreliquidationsContentResponseType;\n      type: string;\n    }>\n  | PutEffect<{ payload: undefined; type: string }>\n  | CallEffect<AxiosResponse<DetailPreliquidationsContentResponseType>>,\n  void,\n  DetailPreliquidationsApiResponseType\n> {\n  const response = yield call(\n    preliquidationsMiddleware.getDetailInvoice,\n    payload\n  );\n  if (response.status !== 200) {\n    yield put(preliquidationActions.getInvoiceDetailError());\n  } else {\n    const { result } = response.data;\n    yield put(preliquidationActions.getInvoiceDetailSuccess(result));\n  }\n}\n\nfunction* putSaveDetailInvoice({\n  payload,\n}: PayloadAction<detailPreliquidationDatePicker>): Generator<\n  | PutEffect<{ payload: detailPreliquidationDatePicker; type: string }>\n  | PutEffect<{ payload: undefined; type: string }>\n  | CallEffect<AxiosResponse<DetailPreliquidationsInvoiceApiResponseType>>,\n  void,\n  DetailPreliquidationsInvoiceApiResponseType\n> {\n  let result: DetailPreliquidationBodyParamsType = {\n    emisionDate: typeof payload.emisionDate !== \"string\" ? payload.emisionDate?.from : \"\",\n    invoiceType: payload.invoiceType,\n    invoiceNumber: payload.invoiceNumber,\n    salePoint: payload.salePoint,\n    caeNumber: payload.caeNumber,\n  };\n  result = process(result);\n\n  const response = yield call(\n    preliquidationsMiddleware.putSaveDetailInvoice,\n    payload.presettementId,\n    result\n  );\n  if (response.status !== 200) {\n    yield put(preliquidationActions.getInvoiceDetailSaveError());\n  } else {\n    yield put(preliquidationActions.getInvoiceDetailSaveSuccess());\n  }\n}\n\nfunction* patchApproveDetailInvoice({\n  payload,\n}: PayloadAction<detailPreliquidationDatePicker>): Generator<\n  | PutEffect<{ payload: detailPreliquidationDatePicker; type: string }>\n  | PutEffect<{ payload: undefined; type: string }>\n  | CallEffect<AxiosResponse<DetailPreliquidationsInvoiceApiResponseType>>,\n  void,\n  DetailPreliquidationsInvoiceApiResponseType\n> {\n  let result: DetailPreliquidationBodyParamsType = {\n    emisionDate: typeof payload.emisionDate !== \"string\" ? payload.emisionDate?.from : \"\",\n    invoiceType: payload.invoiceType,\n    invoiceNumber: payload.invoiceNumber,\n    salePoint: payload.salePoint,\n    caeNumber: payload.caeNumber,\n  };\n  result = process(result);\n\n  const response = yield call(\n    preliquidationsMiddleware.patchApproveDetailInvoice,\n    payload.presettementId,\n    result\n  );\n  if (response.status !== 200) {\n    yield put(preliquidationActions.getInvoiceDetailApproveError());\n  } else {\n    yield put(preliquidationActions.getInvoiceDetailApproveSuccess());\n  }\n}\n\nfunction* putDeleteDetailInvoice({\n  payload,\n}: PayloadAction<RejectInvoiceMiddlewareType>): Generator<\n  | PutEffect<{ payload: detailPreliquidationDatePicker; type: string }>\n  | PutEffect<{ payload: undefined; type: string }>\n  | CallEffect<AxiosResponse<DetailPreliquidationsInvoiceApiResponseType>>,\n  void,\n  DetailPreliquidationsInvoiceApiResponseType\n> {\n  const response = yield call(\n    preliquidationsMiddleware.putDeleteDetailInvoice,\n    payload.presettlementId\n  );\n  if (response.status !== 200) {\n    yield put(preliquidationActions.getInvoiceDetailDeleteError());\n  } else {\n    yield put(preliquidationActions.getInvoiceDetailDeleteSuccess());\n  }\n}\n\nfunction* uploadInvoiceFile({\n  payload,\n}: PayloadAction<UploadInvoiceFileMiddlewareType>): Generator<\n  | PutEffect<{ payload: string; type: string }>\n  | PutEffect<{ payload: undefined; type: string }>\n  | CallEffect<AxiosResponse<ApiResponse<void>>>,\n  void,\n  ApiResponse<void>\n> {\n  const response = yield call(\n    preliquidationsMiddleware.uploadInvoiceFile,\n    payload\n  );\n  if (response.status !== 200) {\n    yield put(preliquidationActions.uploadInvoiceFileError());\n  } else {\n    yield put(preliquidationActions.uploadInvoiceFileSuccess(payload.content));\n  }\n}\n\nfunction* deleteInvoiceFile({\n  payload,\n}: PayloadAction<{ id: number}>): Generator<\n  | PutEffect<{ payload: undefined; type: string }>\n  | CallEffect<AxiosResponse<ApiResponse<void>>>,\n  void,\n  ApiResponse<void>\n> {\n  const response = yield call(\n    preliquidationsMiddleware.deleteInvoiceFile, payload.id);\n  if (response.status !== 200) {\n    yield put(preliquidationActions.deleteInvoiceFileError());\n  } else {\n    yield put(preliquidationActions.deleteInvoiceFileSuccess());\n  }\n}\n\nfunction* getDetailInvoiceTypes(): Generator<\n  | PutEffect<{ type: string }>\n  | CallEffect<AxiosResponse<DetailPreliquidationsInvoiceTypesApiResponseType>>,\n  void,\n  DetailPreliquidationsInvoiceTypesApiResponseType\n> {\n  const response = yield call(preliquidationsMiddleware.getDetailInvoiceTypes);\n  if (response.status !== 200) {\n    yield put(preliquidationActions.getInvoiceDetailTypesError());\n  } else {\n    const { result } = response.data;\n    yield put(preliquidationActions.getInvoiceDetailTypesSuccess(result));\n  }\n}\n"]},"metadata":{},"sourceType":"module"}