{"ast":null,"code":"var _jsxFileName = \"/home/nahuel/pickers-admin-front/src/pages/preliquidation/tablePreliquidation/TablePreliquidation.tsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport Table from \"component/table/Table\";\nimport i18next from \"i18next\";\nimport { preliquidationTableTitles } from \"utils/constants\";\nimport \"./tablePreliquidation.scss\";\nimport TreePoints from \"../../../assets/transaction/TreePoints.svg\";\nimport { actions as preliActions, allPreliquidationsSelected, preliquidationSelector, existApprovedPreliquidation } from \"reducers/preliquidation\";\nimport { connect } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport { ISO8601toDDMMYYYHHMM } from \"utils/iso8601toDDMMYYHHMM\";\nimport Checkbox from \"component/checkbox/Checkbox\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst TablePreliquidation = _ref => {\n  _s();\n\n  let {\n    items,\n    preliquidationsSelected,\n    toggleItem,\n    isAllSelected,\n    toggleAll,\n    resetAllSelected,\n    approved\n  } = _ref;\n  const history = useHistory();\n\n  const isSelected = itemId => preliquidationsSelected === null || preliquidationsSelected === void 0 ? void 0 : preliquidationsSelected.map(p => p.id).includes(itemId);\n\n  const redirect = (e, id) => {\n    const target = e === null || e === void 0 ? void 0 : e.target;\n\n    if ((target === null || target === void 0 ? void 0 : target.localName) !== \"input\") {\n      resetAllSelected();\n      history.push(`/preliquidation/${id}`);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Table, {\n    className: \"preliquidation-table\",\n    children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n      children: /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), preliquidationTableTitles.map(title => /*#__PURE__*/_jsxDEV(\"td\", {\n          children: i18next.t(title)\n        }, title, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this)), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: /*#__PURE__*/_jsxDEV(Checkbox, {\n            disabled: !approved,\n            checked: isAllSelected || false,\n            onChange: () => toggleAll && toggleAll()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n      children: items === null || items === void 0 ? void 0 : items.map(item => {\n        var _item$status, _item$status2;\n\n        return /*#__PURE__*/_jsxDEV(\"tr\", {\n          className: \"preliquidation-table-tr\",\n          onClick: e => redirect(e, item.id),\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"img-transaction\",\n              src: TreePoints,\n              alt: \"TreePoints\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: item.id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: item.fiscalNumber\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: ISO8601toDDMMYYYHHMM(item.generatedAt).substring(0, 11)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: i18next.t(`preli:label.select.${(_item$status = item.status) === null || _item$status === void 0 ? void 0 : _item$status.tag}`)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [\"$\", item.total]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: ((_item$status2 = item.status) === null || _item$status2 === void 0 ? void 0 : _item$status2.tag) === \"approved\" && /*#__PURE__*/_jsxDEV(Checkbox, {\n              checked: !!isSelected(item.id),\n              onChange: () => toggleItem && toggleItem(item)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this)]\n        }, item.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n\n_s(TablePreliquidation, \"9cZfZ04734qoCGIctmKX7+sX6eU=\", false, function () {\n  return [useHistory];\n});\n\n_c = TablePreliquidation;\n\nconst mapStateToProps = state => ({\n  preliquidationsSelected: preliquidationSelector(state).preliquidationsSelected,\n  isAllSelected: allPreliquidationsSelected(state),\n  approved: existApprovedPreliquidation(state)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  toggleItem: item => {\n    dispatch(preliActions.toggleItem(item));\n  },\n  toggleAll: () => {\n    dispatch(preliActions.toggleAll());\n  },\n  resetAllSelected: () => {\n    dispatch(preliActions.resetAllSelected());\n  }\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TablePreliquidation);\n\nvar _c;\n\n$RefreshReg$(_c, \"TablePreliquidation\");","map":{"version":3,"sources":["/home/nahuel/pickers-admin-front/src/pages/preliquidation/tablePreliquidation/TablePreliquidation.tsx"],"names":["React","Table","i18next","preliquidationTableTitles","actions","preliActions","allPreliquidationsSelected","preliquidationSelector","existApprovedPreliquidation","connect","useHistory","ISO8601toDDMMYYYHHMM","Checkbox","TablePreliquidation","items","preliquidationsSelected","toggleItem","isAllSelected","toggleAll","resetAllSelected","approved","history","isSelected","itemId","map","p","id","includes","redirect","e","target","localName","push","title","t","item","TreePoints","fiscalNumber","generatedAt","substring","status","tag","total","mapStateToProps","state","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Table from \"component/table/Table\";\nimport i18next from \"i18next\";\nimport { preliquidationTableTitles } from \"utils/constants\";\nimport \"./tablePreliquidation.scss\";\nimport { TablePreliquidationProps } from \"./types\";\nimport TreePoints from \"../../../assets/transaction/TreePoints.svg\";\nimport { AppDispatch, RootState } from \"store\";\nimport {\n  actions as preliActions,\n  allPreliquidationsSelected,\n  preliquidationSelector,\n  existApprovedPreliquidation\n} from \"reducers/preliquidation\";\nimport { PreliquidationItem } from \"sagas/types/preliquidation\";\nimport { connect } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport { ISO8601toDDMMYYYHHMM } from \"utils/iso8601toDDMMYYHHMM\";\nimport Checkbox from \"component/checkbox/Checkbox\";\n\nconst TablePreliquidation = ({\n  items,\n  preliquidationsSelected,\n  toggleItem,\n  isAllSelected,\n  toggleAll,\n  resetAllSelected,\n  approved\n}: TablePreliquidationProps) => {\n  const history = useHistory();\n\n  const isSelected = (itemId: number) =>\n    preliquidationsSelected?.map((p) => p.id).includes(itemId);\n\n  const redirect = (\n    e: React.MouseEvent<HTMLTableRowElement, MouseEvent>,\n    id: number\n  ) => {\n   \n    const target = e?.target as HTMLElement;\n    if (target?.localName !== \"input\"){\n      resetAllSelected();\n      history.push(`/preliquidation/${id}`);\n    }\n  \n  };\n\n\n\n  return (\n    <Table className=\"preliquidation-table\">\n      <thead>\n        <tr>\n          <td></td>\n          {preliquidationTableTitles.map((title) => (\n            <td key={title}>{i18next.t(title)}</td>\n          ))}\n          <td>\n            <Checkbox\n              disabled={!approved}\n              checked={isAllSelected || false}\n              onChange={() => toggleAll && toggleAll()}\n            />\n          </td>\n        </tr>\n      </thead>\n      <tbody>\n        {items?.map((item) => (\n          <tr\n            className=\"preliquidation-table-tr\"\n            key={item.id}\n            onClick={(e) => redirect(e, item.id)}\n          >\n            <td>\n              <img\n                className=\"img-transaction\"\n                src={TreePoints}\n                alt=\"TreePoints\"\n              />\n            </td>\n            <td>{item.id}</td>\n            <td>{item.fiscalNumber}</td>\n            <td>{ISO8601toDDMMYYYHHMM(item.generatedAt).substring(0, 11)}</td>\n            <td>{i18next.t(`preli:label.select.${item.status?.tag}`)}</td>\n            <td>${item.total}</td>\n            <td>\n              {item.status?.tag === \"approved\" && (\n                <Checkbox\n                  checked={!!isSelected(item.id)}\n                  onChange={() => toggleItem && toggleItem(item)}\n                />\n              )}\n            </td>\n          </tr>\n        ))}\n      </tbody>\n    </Table>\n  );\n};\n\nconst mapStateToProps = (state: RootState) => ({\n  preliquidationsSelected:\n    preliquidationSelector(state).preliquidationsSelected,\n  isAllSelected: allPreliquidationsSelected(state),\n  approved:existApprovedPreliquidation(state),\n\n});\n\nconst mapDispatchToProps = (dispatch: AppDispatch) => ({\n  toggleItem: (item: PreliquidationItem) => {\n    dispatch(preliActions.toggleItem(item));\n  },\n  toggleAll: () => {\n    dispatch(preliActions.toggleAll());\n  },\n  resetAllSelected:()=>{\n    dispatch(preliActions.resetAllSelected())\n  }\n});\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(TablePreliquidation);\n"]},"metadata":{},"sourceType":"module"}