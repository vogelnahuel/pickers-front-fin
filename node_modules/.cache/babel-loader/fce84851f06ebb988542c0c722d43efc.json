{"ast":null,"code":"import { createSlice, createSelector } from \"@reduxjs/toolkit\";\nimport { endsWithAny } from \"utils/endsWithAny\";\nconst wrongFilesInitialValue = {\n  \"dni-front\": false,\n  \"dni-back\": false,\n  \"user-face\": false,\n  \"cbu-certificate\": false,\n  \"driver-insurance-card\": false,\n  \"cuit-certificate\": false,\n  \"driver-license\": false,\n  \"vehicle-identification-back\": false,\n  \"vehicle-identification-front\": false\n};\nexport const initialState = {\n  fetching: false,\n  serverError: [],\n  dirty: false,\n  wrongFiles: wrongFilesInitialValue,\n  nameDisplay: \"\",\n  pendingUserAdminPicker: {\n    id: 0,\n    enable: false,\n    registerDatetime: \"\",\n    status: {\n      description: \"\",\n      id: 0\n    },\n    personalData: {\n      name: \"\",\n      surname: \"\",\n      dateOfBirth: null,\n      identificationNumber: null,\n      email: \"\",\n      phone: {\n        areaNumber: \"\",\n        countryNumber: \"\",\n        number: \"\",\n        registerDate: undefined\n      }\n    },\n    accountingData: {\n      bankIdentifier: \"\",\n      bankName: \"\",\n      fiscalNumber: \"\"\n    },\n    vehicle: {\n      type: \"\",\n      active: false,\n      approve: false,\n      patent: \"\",\n      expirationDateDriverLicense: \"\",\n      expirationDateIdentificationVehicle: \"\",\n      expirationDatePolicyVehicle: \"\"\n    },\n    files: {\n      personalData: {\n        status: \"\",\n        content: []\n      },\n      accountingData: {\n        status: \"\",\n        content: []\n      },\n      vehicle: {\n        status: \"\",\n        content: []\n      }\n    }\n  },\n  state: []\n};\nconst SLICE_NAME = \"detailPicker\";\n\nconst isRequestAction = action => {\n  const {\n    type\n  } = action;\n  return type.startsWith(SLICE_NAME) && type.endsWith(\"Request\");\n};\n\nconst isResponseAction = action => {\n  const {\n    type\n  } = action;\n  return type.startsWith(SLICE_NAME) && endsWithAny(type, [\"Error\", \"Success\"]);\n};\n\nexport const detailPickerSlice = createSlice({\n  name: SLICE_NAME,\n  initialState,\n  reducers: {\n    getStatesTypesRequest: () => {},\n    getStatesTypesError: () => {},\n    getStatesTypesSuccess: (state, action) => {\n      const {\n        payload\n      } = action;\n      state.state = payload;\n    },\n    getPendingUserPickerRequest: (state, action) => {},\n    getPendingUserPickerSuccess: (state, action) => {\n      const {\n        payload\n      } = action;\n      state.pendingUserAdminPicker = payload;\n      state.nameDisplay = `${payload.personalData.name} ${payload.personalData.surname}`;\n    },\n    getPendingUserPickerError: () => {},\n    setDirty: (state, action) => {\n      state.dirty = action.payload;\n    },\n    setWrongFile: (state, action) => {\n      const {\n        type,\n        value\n      } = action.payload;\n      state.wrongFiles[type] = value;\n    },\n    resetWrongFiles: state => {\n      state.wrongFiles = wrongFilesInitialValue;\n      state.serverError = [];\n    },\n    getPendingUserPickerExportRequest: (state, action) => {},\n    getPendingUserPickerExportSuccess: () => {},\n    getPendingUserPickerExportError: () => {},\n    getPendingUserPickerDocumentsEditRequest: (state, action) => {\n      state.pendingUserAdminPicker = action.payload;\n    },\n    getPendingUserPickerDocumentsEditSuccess: (state, action) => {\n      state.pendingUserAdminPicker = action.payload;\n    },\n    getPendingUserPickerDocumentsEditError: () => {},\n    getAprovePickerRequest: (state, action) => {\n      state.pendingUserAdminPicker = action.payload.params;\n    },\n    getAprovePickerSuccess: (state, action) => {\n      state.pendingUserAdminPicker = action.payload;\n    },\n    getAprovePickerError: () => {},\n    getEditPickerRequest: (state, action) => {},\n    getEditPickerSuccess: (state, action) => {\n      state.pendingUserAdminPicker = action.payload;\n    },\n    getEditPickerError: () => {},\n    getPickerFileRequest: (state, action) => {},\n    getPickerFileSuccess: () => {},\n    getPickerFileError: () => {},\n    getPickerFileSaveRequest: (state, action) => {},\n    getPickerFileSaveSuccess: (state, action) => {\n      const {\n        payload: {\n          tag\n        }\n      } = action;\n      state.serverError = state.serverError.filter(t => t !== tag);\n    },\n    getPickerFileSaveError: (state, action) => {\n      var _state$serverError, _state$serverError2;\n\n      if (!((_state$serverError = state.serverError) !== null && _state$serverError !== void 0 && _state$serverError.includes(action.payload.tag))) (_state$serverError2 = state.serverError) === null || _state$serverError2 === void 0 ? void 0 : _state$serverError2.push(action.payload.tag);\n    },\n    getPickerFileDeleteRequest: (state, action) => {},\n    getPickerFileDeleteSuccess: (state, action) => {\n      const {\n        payload: {\n          tag\n        }\n      } = action;\n      state.serverError = state.serverError.filter(t => t !== tag);\n    },\n    getPickerFileDeleteError: (state, action) => {\n      var _state$serverError3, _state$serverError4;\n\n      if (!((_state$serverError3 = state.serverError) !== null && _state$serverError3 !== void 0 && _state$serverError3.includes(action.payload.tag))) (_state$serverError4 = state.serverError) === null || _state$serverError4 === void 0 ? void 0 : _state$serverError4.push(action.payload.tag);\n    }\n  },\n  extraReducers: builder => builder.addMatcher(isRequestAction, state => {\n    state.fetching = true;\n  }).addMatcher(isResponseAction, state => {\n    state.fetching = false;\n  })\n}); // Se exporta el reducer/slice para asociarlo en la creación del store\n\nexport default detailPickerSlice.reducer; // Selector del slice \"detailPicker\"\n\nexport const detailPickerSelector = state => state.detailPicker; // Has picker wrong files?\n\nexport const hasPickerWrongFilesSelector = createSelector(state => state.detailPicker, picker => {\n  var _picker$serverError;\n\n  return Object.values(picker.wrongFiles).some(v => v) || ((_picker$serverError = picker.serverError) === null || _picker$serverError === void 0 ? void 0 : _picker$serverError.length) > 0;\n});\nexport const hasPickerAllFilesLoadedSelector = createSelector(state => state.detailPicker, picker => {\n  const personalData = picker.pendingUserAdminPicker.files.personalData;\n  const accountingData = picker.pendingUserAdminPicker.files.accountingData;\n  const vehicle = picker.pendingUserAdminPicker.files.vehicle;\n  const type = picker.pendingUserAdminPicker.vehicle.type;\n\n  if (type === \"motorcycle\") {\n    return personalData.status === \"COMPLETED\" && accountingData.status === \"COMPLETED\" && vehicle.status === \"COMPLETED\";\n  }\n\n  return personalData.status === \"COMPLETED\" && accountingData.status === \"COMPLETED\";\n}); // Se exportan todas las acciones\n\nexport const actions = detailPickerSlice.actions;","map":{"version":3,"sources":["/home/nahuel/pickers-admin-front/src/reducers/detailPicker.ts"],"names":["createSlice","createSelector","endsWithAny","wrongFilesInitialValue","initialState","fetching","serverError","dirty","wrongFiles","nameDisplay","pendingUserAdminPicker","id","enable","registerDatetime","status","description","personalData","name","surname","dateOfBirth","identificationNumber","email","phone","areaNumber","countryNumber","number","registerDate","undefined","accountingData","bankIdentifier","bankName","fiscalNumber","vehicle","type","active","approve","patent","expirationDateDriverLicense","expirationDateIdentificationVehicle","expirationDatePolicyVehicle","files","content","state","SLICE_NAME","isRequestAction","action","startsWith","endsWith","isResponseAction","detailPickerSlice","reducers","getStatesTypesRequest","getStatesTypesError","getStatesTypesSuccess","payload","getPendingUserPickerRequest","getPendingUserPickerSuccess","getPendingUserPickerError","setDirty","setWrongFile","value","resetWrongFiles","getPendingUserPickerExportRequest","getPendingUserPickerExportSuccess","getPendingUserPickerExportError","getPendingUserPickerDocumentsEditRequest","getPendingUserPickerDocumentsEditSuccess","getPendingUserPickerDocumentsEditError","getAprovePickerRequest","params","getAprovePickerSuccess","getAprovePickerError","getEditPickerRequest","getEditPickerSuccess","getEditPickerError","getPickerFileRequest","getPickerFileSuccess","getPickerFileError","getPickerFileSaveRequest","getPickerFileSaveSuccess","tag","filter","t","getPickerFileSaveError","includes","push","getPickerFileDeleteRequest","getPickerFileDeleteSuccess","getPickerFileDeleteError","extraReducers","builder","addMatcher","reducer","detailPickerSelector","detailPicker","hasPickerWrongFilesSelector","picker","Object","values","some","v","length","hasPickerAllFilesLoadedSelector","actions"],"mappings":"AAAA,SACEA,WADF,EAIEC,cAJF,QAKO,kBALP;AAaA,SAASC,WAAT,QAA4B,mBAA5B;AAKA,MAAMC,sBAAsB,GAAG;AAC7B,eAAa,KADgB;AAE7B,cAAY,KAFiB;AAG7B,eAAa,KAHgB;AAI7B,qBAAmB,KAJU;AAK7B,2BAAyB,KALI;AAM7B,sBAAoB,KANS;AAO7B,oBAAkB,KAPW;AAQ7B,iCAA+B,KARF;AAS7B,kCAAgC;AATH,CAA/B;AAYA,OAAO,MAAMC,YAAmC,GAAG;AACjDC,EAAAA,QAAQ,EAAE,KADuC;AAEjDC,EAAAA,WAAW,EAAE,EAFoC;AAGjDC,EAAAA,KAAK,EAAE,KAH0C;AAIjDC,EAAAA,UAAU,EAAEL,sBAJqC;AAKjDM,EAAAA,WAAW,EAAE,EALoC;AAMjDC,EAAAA,sBAAsB,EAAE;AACtBC,IAAAA,EAAE,EAAE,CADkB;AAEtBC,IAAAA,MAAM,EAAE,KAFc;AAGtBC,IAAAA,gBAAgB,EAAE,EAHI;AAItBC,IAAAA,MAAM,EAAE;AACNC,MAAAA,WAAW,EAAE,EADP;AAENJ,MAAAA,EAAE,EAAE;AAFE,KAJc;AAQtBK,IAAAA,YAAY,EAAE;AACZC,MAAAA,IAAI,EAAE,EADM;AAEZC,MAAAA,OAAO,EAAE,EAFG;AAGZC,MAAAA,WAAW,EAAE,IAHD;AAIZC,MAAAA,oBAAoB,EAAE,IAJV;AAKZC,MAAAA,KAAK,EAAE,EALK;AAMZC,MAAAA,KAAK,EAAE;AACLC,QAAAA,UAAU,EAAE,EADP;AAELC,QAAAA,aAAa,EAAE,EAFV;AAGLC,QAAAA,MAAM,EAAE,EAHH;AAILC,QAAAA,YAAY,EAAEC;AAJT;AANK,KARQ;AAqBtBC,IAAAA,cAAc,EAAE;AACdC,MAAAA,cAAc,EAAE,EADF;AAEdC,MAAAA,QAAQ,EAAE,EAFI;AAGdC,MAAAA,YAAY,EAAE;AAHA,KArBM;AA0BtBC,IAAAA,OAAO,EAAE;AACPC,MAAAA,IAAI,EAAE,EADC;AAEPC,MAAAA,MAAM,EAAE,KAFD;AAGPC,MAAAA,OAAO,EAAE,KAHF;AAIPC,MAAAA,MAAM,EAAE,EAJD;AAKPC,MAAAA,2BAA2B,EAAE,EALtB;AAMPC,MAAAA,mCAAmC,EAAE,EAN9B;AAOPC,MAAAA,2BAA2B,EAAE;AAPtB,KA1Ba;AAmCtBC,IAAAA,KAAK,EAAE;AACLxB,MAAAA,YAAY,EAAE;AACZF,QAAAA,MAAM,EAAE,EADI;AAEZ2B,QAAAA,OAAO,EAAE;AAFG,OADT;AAKLb,MAAAA,cAAc,EAAE;AACdd,QAAAA,MAAM,EAAE,EADM;AAEd2B,QAAAA,OAAO,EAAE;AAFK,OALX;AASLT,MAAAA,OAAO,EAAE;AACPlB,QAAAA,MAAM,EAAE,EADD;AAEP2B,QAAAA,OAAO,EAAE;AAFF;AATJ;AAnCe,GANyB;AAwDjDC,EAAAA,KAAK,EAAE;AAxD0C,CAA5C;AA2DP,MAAMC,UAAU,GAAG,cAAnB;;AAEA,MAAMC,eAAe,GAAIC,MAAD,IAA4B;AAClD,QAAM;AAAEZ,IAAAA;AAAF,MAAWY,MAAjB;AACA,SAAOZ,IAAI,CAACa,UAAL,CAAgBH,UAAhB,KAA+BV,IAAI,CAACc,QAAL,CAAc,SAAd,CAAtC;AACD,CAHD;;AAKA,MAAMC,gBAAgB,GAAIH,MAAD,IAA4B;AACnD,QAAM;AAAEZ,IAAAA;AAAF,MAAWY,MAAjB;AACA,SAAOZ,IAAI,CAACa,UAAL,CAAgBH,UAAhB,KAA+BzC,WAAW,CAAC+B,IAAD,EAAO,CAAC,OAAD,EAAU,SAAV,CAAP,CAAjD;AACD,CAHD;;AAKA,OAAO,MAAMgB,iBAAiB,GAAGjD,WAAW,CAAC;AAC3CiB,EAAAA,IAAI,EAAE0B,UADqC;AAE3CvC,EAAAA,YAF2C;AAG3C8C,EAAAA,QAAQ,EAAE;AACRC,IAAAA,qBAAqB,EAAE,MAAM,CAAE,CADvB;AAERC,IAAAA,mBAAmB,EAAE,MAAM,CAAE,CAFrB;AAGRC,IAAAA,qBAAqB,EAAE,CACrBX,KADqB,EAErBG,MAFqB,KAGlB;AACH,YAAM;AAAES,QAAAA;AAAF,UAAcT,MAApB;AACAH,MAAAA,KAAK,CAACA,KAAN,GAAcY,OAAd;AACD,KATO;AAURC,IAAAA,2BAA2B,EAAE,CAC3Bb,KAD2B,EAE3BG,MAF2B,KAGxB,CAAE,CAbC;AAcRW,IAAAA,2BAA2B,EAAE,CAC3Bd,KAD2B,EAE3BG,MAF2B,KAGxB;AACH,YAAM;AAAES,QAAAA;AAAF,UAAcT,MAApB;AACAH,MAAAA,KAAK,CAAChC,sBAAN,GAA+B4C,OAA/B;AACAZ,MAAAA,KAAK,CAACjC,WAAN,GAAqB,GAAE6C,OAAO,CAACtC,YAAR,CAAqBC,IAAK,IAAGqC,OAAO,CAACtC,YAAR,CAAqBE,OAAQ,EAAjF;AACD,KArBO;AAsBRuC,IAAAA,yBAAyB,EAAE,MAAM,CAAE,CAtB3B;AAuBRC,IAAAA,QAAQ,EAAE,CACRhB,KADQ,EAERG,MAFQ,KAGL;AACHH,MAAAA,KAAK,CAACnC,KAAN,GAAcsC,MAAM,CAACS,OAArB;AACD,KA5BO;AA6BRK,IAAAA,YAAY,EAAE,CACZjB,KADY,EAEZG,MAFY,KAGT;AACH,YAAM;AAAEZ,QAAAA,IAAF;AAAQ2B,QAAAA;AAAR,UAAkBf,MAAM,CAACS,OAA/B;AACAZ,MAAAA,KAAK,CAAClC,UAAN,CAAiByB,IAAjB,IAAyB2B,KAAzB;AACD,KAnCO;AAoCRC,IAAAA,eAAe,EAAGnB,KAAD,IAAkC;AACjDA,MAAAA,KAAK,CAAClC,UAAN,GAAmBL,sBAAnB;AACAuC,MAAAA,KAAK,CAACpC,WAAN,GAAoB,EAApB;AACD,KAvCO;AAwCRwD,IAAAA,iCAAiC,EAAE,CACjCpB,KADiC,EAEjCG,MAFiC,KAG9B,CAAE,CA3CC;AA4CRkB,IAAAA,iCAAiC,EAAE,MAAM,CAAE,CA5CnC;AA6CRC,IAAAA,+BAA+B,EAAE,MAAM,CAAE,CA7CjC;AA8CRC,IAAAA,wCAAwC,EAAE,CACxCvB,KADwC,EAExCG,MAFwC,KAGrC;AACHH,MAAAA,KAAK,CAAChC,sBAAN,GAA+BmC,MAAM,CAACS,OAAtC;AACD,KAnDO;AAoDRY,IAAAA,wCAAwC,EAAE,CACxCxB,KADwC,EAExCG,MAFwC,KAGrC;AACHH,MAAAA,KAAK,CAAChC,sBAAN,GAA+BmC,MAAM,CAACS,OAAtC;AACD,KAzDO;AA0DRa,IAAAA,sCAAsC,EAAE,MAAM,CAAE,CA1DxC;AA2DRC,IAAAA,sBAAsB,EAAE,CACtB1B,KADsB,EAEtBG,MAFsB,KAGnB;AACHH,MAAAA,KAAK,CAAChC,sBAAN,GAA+BmC,MAAM,CAACS,OAAP,CAAee,MAA9C;AACD,KAhEO;AAiERC,IAAAA,sBAAsB,EAAE,CACtB5B,KADsB,EAEtBG,MAFsB,KAGnB;AACHH,MAAAA,KAAK,CAAChC,sBAAN,GAA+BmC,MAAM,CAACS,OAAtC;AACD,KAtEO;AAuERiB,IAAAA,oBAAoB,EAAE,MAAM,CAAE,CAvEtB;AAwERC,IAAAA,oBAAoB,EAAE,CACpB9B,KADoB,EAEpBG,MAFoB,KAGjB,CAAE,CA3EC;AA4ER4B,IAAAA,oBAAoB,EAAE,CACpB/B,KADoB,EAEpBG,MAFoB,KAGjB;AACHH,MAAAA,KAAK,CAAChC,sBAAN,GAA+BmC,MAAM,CAACS,OAAtC;AACD,KAjFO;AAkFRoB,IAAAA,kBAAkB,EAAE,MAAM,CAAE,CAlFpB;AAmFRC,IAAAA,oBAAoB,EAAE,CACpBjC,KADoB,EAEpBG,MAFoB,KAGjB,CAAE,CAtFC;AAuFR+B,IAAAA,oBAAoB,EAAE,MAAM,CAAE,CAvFtB;AAwFRC,IAAAA,kBAAkB,EAAE,MAAM,CAAE,CAxFpB;AA0FRC,IAAAA,wBAAwB,EAAE,CACxBpC,KADwB,EAExBG,MAFwB,KAGrB,CAAE,CA7FC;AA8FRkC,IAAAA,wBAAwB,EAAE,CACxBrC,KADwB,EAExBG,MAFwB,KAGrB;AACH,YAAM;AACJS,QAAAA,OAAO,EAAE;AAAE0B,UAAAA;AAAF;AADL,UAEFnC,MAFJ;AAGAH,MAAAA,KAAK,CAACpC,WAAN,GAAoBoC,KAAK,CAACpC,WAAN,CAAkB2E,MAAlB,CAA0BC,CAAD,IAAOA,CAAC,KAAKF,GAAtC,CAApB;AACD,KAtGO;AAuGRG,IAAAA,sBAAsB,EAAE,CACtBzC,KADsB,EAEtBG,MAFsB,KAGnB;AAAA;;AACH,UAAI,wBAACH,KAAK,CAACpC,WAAP,+CAAC,mBAAmB8E,QAAnB,CAA4BvC,MAAM,CAACS,OAAP,CAAe0B,GAA3C,CAAD,CAAJ,EACE,uBAAAtC,KAAK,CAACpC,WAAN,4EAAmB+E,IAAnB,CAAwBxC,MAAM,CAACS,OAAP,CAAe0B,GAAvC;AACH,KA7GO;AA8GRM,IAAAA,0BAA0B,EAAE,CAC1B5C,KAD0B,EAE1BG,MAF0B,KAGvB,CAAE,CAjHC;AAkHR0C,IAAAA,0BAA0B,EAAE,CAC1B7C,KAD0B,EAE1BG,MAF0B,KAGvB;AACH,YAAM;AACJS,QAAAA,OAAO,EAAE;AAAE0B,UAAAA;AAAF;AADL,UAEFnC,MAFJ;AAGAH,MAAAA,KAAK,CAACpC,WAAN,GAAoBoC,KAAK,CAACpC,WAAN,CAAkB2E,MAAlB,CAA0BC,CAAD,IAAOA,CAAC,KAAKF,GAAtC,CAApB;AACD,KA1HO;AA2HRQ,IAAAA,wBAAwB,EAAE,CACxB9C,KADwB,EAExBG,MAFwB,KAGrB;AAAA;;AACH,UAAI,yBAACH,KAAK,CAACpC,WAAP,gDAAC,oBAAmB8E,QAAnB,CAA4BvC,MAAM,CAACS,OAAP,CAAe0B,GAA3C,CAAD,CAAJ,EACE,uBAAAtC,KAAK,CAACpC,WAAN,4EAAmB+E,IAAnB,CAAwBxC,MAAM,CAACS,OAAP,CAAe0B,GAAvC;AACH;AAjIO,GAHiC;AAuI3CS,EAAAA,aAAa,EAAGC,OAAD,IACbA,OAAO,CACJC,UADH,CACc/C,eADd,EACgCF,KAAD,IAAkC;AAC7DA,IAAAA,KAAK,CAACrC,QAAN,GAAiB,IAAjB;AACD,GAHH,EAIGsF,UAJH,CAIc3C,gBAJd,EAIiCN,KAAD,IAAkC;AAC9DA,IAAAA,KAAK,CAACrC,QAAN,GAAiB,KAAjB;AACD,GANH;AAxIyC,CAAD,CAArC,C,CAiJP;;AACA,eAAe4C,iBAAiB,CAAC2C,OAAjC,C,CAEA;;AACA,OAAO,MAAMC,oBAAoB,GAAInD,KAAD,IAAsBA,KAAK,CAACoD,YAAzD,C,CAEP;;AACA,OAAO,MAAMC,2BAA2B,GAAG9F,cAAc,CACtDyC,KAAD,IAAsBA,KAAK,CAACoD,YAD2B,EAEtDE,MAAD;AAAA;;AAAA,SACEC,MAAM,CAACC,MAAP,CAAcF,MAAM,CAACxF,UAArB,EAAiC2F,IAAjC,CAAuCC,CAAD,IAAOA,CAA7C,KACA,wBAAAJ,MAAM,CAAC1F,WAAP,4EAAoB+F,MAApB,IAA6B,CAF/B;AAAA,CAFuD,CAAlD;AAMP,OAAO,MAAMC,+BAA+B,GAAGrG,cAAc,CAC1DyC,KAAD,IAAsBA,KAAK,CAACoD,YAD+B,EAE1DE,MAAD,IAAY;AACV,QAAMhF,YAAY,GAAGgF,MAAM,CAACtF,sBAAP,CAA8B8B,KAA9B,CAAoCxB,YAAzD;AACA,QAAMY,cAAc,GAAGoE,MAAM,CAACtF,sBAAP,CAA8B8B,KAA9B,CAAoCZ,cAA3D;AACA,QAAMI,OAAO,GAAGgE,MAAM,CAACtF,sBAAP,CAA8B8B,KAA9B,CAAoCR,OAApD;AACA,QAAMC,IAAI,GAAG+D,MAAM,CAACtF,sBAAP,CAA8BsB,OAA9B,CAAsCC,IAAnD;;AAEA,MAAIA,IAAI,KAAK,YAAb,EAA2B;AACzB,WACEjB,YAAY,CAACF,MAAb,KAAwB,WAAxB,IACAc,cAAc,CAACd,MAAf,KAA0B,WAD1B,IAEAkB,OAAO,CAAClB,MAAR,KAAmB,WAHrB;AAKD;;AACD,SACEE,YAAY,CAACF,MAAb,KAAwB,WAAxB,IACAc,cAAc,CAACd,MAAf,KAA0B,WAF5B;AAID,CAnB0D,CAAtD,C,CAsBP;;AACA,OAAO,MAAMyF,OAAO,GAAGtD,iBAAiB,CAACsD,OAAlC","sourcesContent":["import {\n  createSlice,\n  PayloadAction,\n  Action,\n  createSelector,\n} from \"@reduxjs/toolkit\";\nimport { ParamsMiddlewareType, PickerType } from \"pages/pickers/types\";\nimport {\n  DetailPickerStateType,\n  PickerWrongFilePayloadType,\n} from \"./types/detailPicker\";\n\nimport { RootState } from \"store\";\nimport { endsWithAny } from \"utils/endsWithAny\";\nimport { PickerFileRequestType } from \"pages/pickers/detailPicker/types\";\nimport { DeleteFileType, ExpandableFileSaveParamsType } from \"component/admin/ExpandableFile/types\";\nimport { ActionErrorPickersType } from \"./types/pickers\";\n\nconst wrongFilesInitialValue = {\n  \"dni-front\": false,\n  \"dni-back\": false,\n  \"user-face\": false,\n  \"cbu-certificate\": false,\n  \"driver-insurance-card\": false,\n  \"cuit-certificate\": false,\n  \"driver-license\": false,\n  \"vehicle-identification-back\": false,\n  \"vehicle-identification-front\": false,\n};\n\nexport const initialState: DetailPickerStateType = {\n  fetching: false,\n  serverError: [],\n  dirty: false,\n  wrongFiles: wrongFilesInitialValue,\n  nameDisplay: \"\",\n  pendingUserAdminPicker: {\n    id: 0,\n    enable: false,\n    registerDatetime: \"\",\n    status: {\n      description: \"\",\n      id: 0,\n    },\n    personalData: {\n      name: \"\",\n      surname: \"\",\n      dateOfBirth: null,\n      identificationNumber: null,\n      email: \"\",\n      phone: {\n        areaNumber: \"\",\n        countryNumber: \"\",\n        number: \"\",\n        registerDate: undefined,\n      },\n    },\n    accountingData: {\n      bankIdentifier: \"\",\n      bankName: \"\",\n      fiscalNumber: \"\",\n    },\n    vehicle: {\n      type: \"\",\n      active: false,\n      approve: false,\n      patent: \"\",\n      expirationDateDriverLicense: \"\",\n      expirationDateIdentificationVehicle: \"\",\n      expirationDatePolicyVehicle: \"\",\n    },\n    files: {\n      personalData: {\n        status: \"\",\n        content: [],\n      },\n      accountingData: {\n        status: \"\",\n        content: [],\n      },\n      vehicle: {\n        status: \"\",\n        content: [],\n      },\n    },\n  },\n  state: []\n};\n\nconst SLICE_NAME = \"detailPicker\";\n\nconst isRequestAction = (action: Action<string>) => {\n  const { type } = action;\n  return type.startsWith(SLICE_NAME) && type.endsWith(\"Request\");\n};\n\nconst isResponseAction = (action: Action<string>) => {\n  const { type } = action;\n  return type.startsWith(SLICE_NAME) && endsWithAny(type, [\"Error\", \"Success\"]);\n};\n\nexport const detailPickerSlice = createSlice({\n  name: SLICE_NAME,\n  initialState,\n  reducers: {\n    getStatesTypesRequest: () => {},\n    getStatesTypesError: () => {},\n    getStatesTypesSuccess: (\n      state: DetailPickerStateType,\n      action: PayloadAction<string[]>\n    ) => {\n      const { payload } = action;\n      state.state = payload;\n    },\n    getPendingUserPickerRequest: (\n      state: DetailPickerStateType,\n      action: PayloadAction<number>\n    ) => {},\n    getPendingUserPickerSuccess: (\n      state: DetailPickerStateType,\n      action: PayloadAction<PickerType>\n    ) => {\n      const { payload } = action;\n      state.pendingUserAdminPicker = payload;\n      state.nameDisplay = `${payload.personalData.name} ${payload.personalData.surname}`;\n    },\n    getPendingUserPickerError: () => {},\n    setDirty: (\n      state: DetailPickerStateType,\n      action: PayloadAction<boolean>\n    ) => {\n      state.dirty = action.payload;\n    },\n    setWrongFile: (\n      state: DetailPickerStateType,\n      action: PayloadAction<PickerWrongFilePayloadType>\n    ) => {\n      const { type, value } = action.payload;\n      state.wrongFiles[type] = value;\n    },\n    resetWrongFiles: (state: DetailPickerStateType) => {\n      state.wrongFiles = wrongFilesInitialValue;\n      state.serverError = [];\n    },\n    getPendingUserPickerExportRequest: (\n      state: DetailPickerStateType,\n      action: PayloadAction<ParamsMiddlewareType>\n    ) => {},\n    getPendingUserPickerExportSuccess: () => {},\n    getPendingUserPickerExportError: () => {},\n    getPendingUserPickerDocumentsEditRequest: (\n      state: DetailPickerStateType,\n      action: PayloadAction<PickerType>\n    ) => {\n      state.pendingUserAdminPicker = action.payload;\n    },\n    getPendingUserPickerDocumentsEditSuccess: (\n      state: DetailPickerStateType,\n      action: PayloadAction<PickerType>\n    ) => {\n      state.pendingUserAdminPicker = action.payload;\n    },\n    getPendingUserPickerDocumentsEditError: () => {},\n    getAprovePickerRequest: (\n      state: DetailPickerStateType,\n      action: PayloadAction<{ params: PickerType; goBack: Function }>\n    ) => {\n      state.pendingUserAdminPicker = action.payload.params;\n    },\n    getAprovePickerSuccess: (\n      state: DetailPickerStateType,\n      action: PayloadAction<PickerType>\n    ) => {\n      state.pendingUserAdminPicker = action.payload;\n    },\n    getAprovePickerError: () => {},\n    getEditPickerRequest: (\n      state: DetailPickerStateType,\n      action: PayloadAction<{ params: PickerType; goBack: Function }>\n    ) => {},\n    getEditPickerSuccess: (\n      state: DetailPickerStateType,\n      action: PayloadAction<PickerType>\n    ) => {\n      state.pendingUserAdminPicker = action.payload;\n    },\n    getEditPickerError: () => {},\n    getPickerFileRequest: (\n      state: DetailPickerStateType,\n      action: PayloadAction<PickerFileRequestType>\n    ) => {},\n    getPickerFileSuccess: () => {},\n    getPickerFileError: () => {},\n\n    getPickerFileSaveRequest: (\n      state: DetailPickerStateType,\n      action: PayloadAction<ExpandableFileSaveParamsType>\n    ) => {},\n    getPickerFileSaveSuccess: (\n      state: DetailPickerStateType,\n      action: PayloadAction<ActionErrorPickersType>\n    ) => {\n      const {\n        payload: { tag },\n      } = action;\n      state.serverError = state.serverError.filter((t) => t !== tag);      \n    },\n    getPickerFileSaveError: (\n      state: DetailPickerStateType,\n      action: PayloadAction<ActionErrorPickersType>\n    ) => {\n      if (!state.serverError?.includes(action.payload.tag))\n        state.serverError?.push(action.payload.tag);\n    },\n    getPickerFileDeleteRequest: (\n      state: DetailPickerStateType, //estado actual del  state\n      action: PayloadAction<DeleteFileType> // params Payload<tipo>\n    ) => {},\n    getPickerFileDeleteSuccess: (\n      state: DetailPickerStateType,\n      action: PayloadAction<ActionErrorPickersType>\n    ) => {\n      const {\n        payload: { tag },\n      } = action;\n      state.serverError = state.serverError.filter((t) => t !== tag);\n    },\n    getPickerFileDeleteError: (\n      state: DetailPickerStateType,\n      action: PayloadAction<ActionErrorPickersType>\n    ) => {\n      if (!state.serverError?.includes(action.payload.tag))\n        state.serverError?.push(action.payload.tag);\n    },\n  },\n\n  extraReducers: (builder) =>\n    builder\n      .addMatcher(isRequestAction, (state: DetailPickerStateType) => {\n        state.fetching = true;\n      })\n      .addMatcher(isResponseAction, (state: DetailPickerStateType) => {\n        state.fetching = false;\n      }),\n});\n\n// Se exporta el reducer/slice para asociarlo en la creación del store\nexport default detailPickerSlice.reducer;\n\n// Selector del slice \"detailPicker\"\nexport const detailPickerSelector = (state: RootState) => state.detailPicker;\n\n// Has picker wrong files?\nexport const hasPickerWrongFilesSelector = createSelector(\n  (state: RootState) => state.detailPicker,\n  (picker) =>\n    Object.values(picker.wrongFiles).some((v) => v) ||\n    picker.serverError?.length > 0\n);\nexport const hasPickerAllFilesLoadedSelector = createSelector(\n  (state: RootState) => state.detailPicker,\n  (picker) => {\n    const personalData = picker.pendingUserAdminPicker.files.personalData;\n    const accountingData = picker.pendingUserAdminPicker.files.accountingData;\n    const vehicle = picker.pendingUserAdminPicker.files.vehicle;\n    const type = picker.pendingUserAdminPicker.vehicle.type;\n\n    if (type === \"motorcycle\") {\n      return (\n        personalData.status === \"COMPLETED\" &&\n        accountingData.status === \"COMPLETED\" &&\n        vehicle.status === \"COMPLETED\"\n      );\n    }\n    return (\n      personalData.status === \"COMPLETED\" &&\n      accountingData.status === \"COMPLETED\"\n    );\n  }\n);\n\n// Se exportan todas las acciones\nexport const actions = detailPickerSlice.actions;\n"]},"metadata":{},"sourceType":"module"}