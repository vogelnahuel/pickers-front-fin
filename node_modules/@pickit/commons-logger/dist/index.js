(function webpackUniversalModuleDefinition(root, factory) {
	//Logger Test
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	//Logger Test
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	//Logger Test
	else if(typeof exports === 'object')
		exports["logger"] = factory();
	//Logger Test
	else
		root["logger"] = factory();
})(global, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./index.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./index.ts":
/*!******************!*\
  !*** ./index.ts ***!
  \******************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.OriginType = exports.MethodType = exports.LoggerV2 = exports.LoggerClass = void 0;
const Logger_1 = __webpack_require__(/*! ./src/services/Logger */ "./src/services/Logger.ts");
exports.LoggerClass = Logger_1.default;
const MethodType_1 = __webpack_require__(/*! ./src/constants/MethodType */ "./src/constants/MethodType.ts");
exports.MethodType = MethodType_1.default;
const OriginType_1 = __webpack_require__(/*! ./src/constants/OriginType */ "./src/constants/OriginType.ts");
exports.OriginType = OriginType_1.default;
const LoggerV2_1 = __webpack_require__(/*! ./src/services/LoggerV2 */ "./src/services/LoggerV2.ts");
exports.LoggerV2 = LoggerV2_1.default;


/***/ }),

/***/ "./src/constants/LevelType.ts":
/*!************************************!*\
  !*** ./src/constants/LevelType.ts ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
class LoggerType {
}
LoggerType.info = "info";
LoggerType.error = "error";
LoggerType.debug = "debug";
LoggerType.warn = "warn";
exports.default = LoggerType;


/***/ }),

/***/ "./src/constants/LoggerType.ts":
/*!*************************************!*\
  !*** ./src/constants/LoggerType.ts ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
class LoggerType {
}
LoggerType.REQUEST = "Request";
LoggerType.RESPONSE = "Response";
LoggerType.MESSAGE = "Message";
exports.default = LoggerType;


/***/ }),

/***/ "./src/constants/MethodType.ts":
/*!*************************************!*\
  !*** ./src/constants/MethodType.ts ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
class MethodType {
}
MethodType.POST = "POST";
MethodType.PUT = "PUT";
MethodType.DELETE = "DELETE";
MethodType.PATCH = "PATCH";
MethodType.GET = "GET";
MethodType.OPTIONS = "OPTIONS";
exports.default = MethodType;


/***/ }),

/***/ "./src/constants/OriginType.ts":
/*!*************************************!*\
  !*** ./src/constants/OriginType.ts ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
class OriginType {
}
OriginType.internal = "internal";
OriginType.external = "external";
exports.default = OriginType;


/***/ }),

/***/ "./src/models/ConsoleFormatter.ts":
/*!****************************************!*\
  !*** ./src/models/ConsoleFormatter.ts ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const Formatter_1 = __webpack_require__(/*! ./Formatter */ "./src/models/Formatter.ts");
const rTracer = __webpack_require__(/*! @pickit/cls-rtracer */ "@pickit/cls-rtracer");
class ConsoleFormat extends Formatter_1.default {
    constructor() {
        super(...arguments);
        this.formatMessageConsole = (info) => {
            const ERROR = "\u001b[31merror\u001b[39m";
            let traceId = rTracer.id();
            let message = traceId
                ? `${this.displayTimestamp(info.timestamp)} ${this.displayTraceId(traceId)} ${info.level} : ${info.message}`
                : `${this.displayTimestamp(info.timestamp)} ${this.displayTraceId(this.getTraceId())} ${info.level} : ${info.message}`;
            if (info.level === ERROR) {
                message += `${this.displayName(info.name)} ${this.displayHttpStatus(info.displayHttpStatus)} ${this.displayCode(info.code)} ${this.displayStack(info.stack)}`;
            }
            else {
                message += this.displayData(info.data);
            }
            return message;
        };
        this.displayTimestamp = (timestamp) => {
            return `[\u001b[36m${timestamp}\u001b[39m]`;
        };
        this.displayTraceId = (traceId) => {
            return traceId ? "[\u001b[36mtraceId:" + traceId + "\u001b[39m]" : "";
        };
        this.displayName = (name) => {
            return name ? `[\u001b[35mtypeError:${name}\u001b[39m]` : "";
        };
        this.displayCode = (code) => {
            return code ? `[\u001b[35mcode:${code}\u001b[39m]` : "";
        };
        this.displayStack = (stack) => {
            return stack ? ` - [stack-trace ---> ${stack}]` : "";
        };
        this.displayHttpStatus = (httpStatus) => {
            return httpStatus ? `[\u001b[35mhttpStatus:${httpStatus}\u001b[39m]` : "";
        };
        this.displayData = (data) => {
            return data ? JSON.stringify(data) : "";
        };
    }
}
exports.default = ConsoleFormat;


/***/ }),

/***/ "./src/models/Formatter.ts":
/*!*********************************!*\
  !*** ./src/models/Formatter.ts ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const httpContext = __webpack_require__(/*! express-http-context */ "express-http-context");
class Formatter {
    constructor() {
        this.getTraceId = () => {
            if (httpContext.get("traceId")) {
                return httpContext.get("traceId");
            }
            else {
                let result = new String();
                return Reflect.getMetadata("traceIDcron", result, "toString");
            }
        };
    }
}
exports.default = Formatter;


/***/ }),

/***/ "./src/services/LeveledLogMethods/LeveledLogMethod.ts":
/*!************************************************************!*\
  !*** ./src/services/LeveledLogMethods/LeveledLogMethod.ts ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", { value: true });
const rTracer = __webpack_require__(/*! @pickit/cls-rtracer */ "@pickit/cls-rtracer");
const LoggerType_1 = __webpack_require__(/*! ../../constants/LoggerType */ "./src/constants/LoggerType.ts");
const typedi_1 = __webpack_require__(/*! typedi */ "typedi");
let LeveledLogMethod = class LeveledLogMethod {
    constructor() {
        this.getInfo = (message) => {
            switch (message.type) {
                case LoggerType_1.default.REQUEST:
                    return `Type: ${LoggerType_1.default.REQUEST} | OriginType: ${message.originType} | Level: ${this.displayLevel(message.level)} | Method: ${message.method} | Domain: ${message.domain} | Endpoint: ${message.endpoint} | Content: ${message.content} `;
                case LoggerType_1.default.RESPONSE:
                    return `Type: ${LoggerType_1.default.RESPONSE} | OriginType: ${message.originType} | Level: ${this.displayLevel(message.level)} | StatusCode: ${this.displayStatusCode(message.statusCode)} | Content: ${message.content}`;
                case LoggerType_1.default.MESSAGE:
                default:
                    return `Type: ${LoggerType_1.default.MESSAGE} | Level: ${this.displayLevel(message.level)} | Content: ${message.content}`;
            }
        };
        this.displayTimestamp = (timestamp) => {
            return `[\u001b[36m${timestamp}\u001b[39m]`;
        };
        this.displayTraceId = (traceId) => {
            return traceId ? `[\u001b[36mtraceId:${traceId}\u001b[39m]` : "";
        };
        this.getAppName = () => {
            return `[\u001b[35m${process.env.APP_NAME}\u001b[39m]`;
        };
        this.displayStatusCode = (statusCode) => {
            return `[\u001b[35m${statusCode.toString()}\u001b[39m]`;
        };
        this.displayLevel = (level) => {
            switch (level.toLowerCase()) {
                case "error":
                    return `[\u001b[31m${level}\u001b[39m]`;
                case "info":
                    return `[\u001b[32m${level}\u001b[39m]`;
                case "warn":
                    return `[\u001b[33m${level}\u001b[39m]`;
                case "debug":
                    return `[\u001b[34m${level}\u001b[39m]`;
                default:
                    return `[\u001b[32m${level}\u001b[39m]`;
            }
        };
    }
    getTraceId() {
        return rTracer.id();
    }
    formatMessageConsole(message) {
        let info = this.getInfo(message);
        let output = ``;
        output += message.traceId ? `${this.getAppName()} ${this.displayTimestamp(message.tsLog.toISOString())} ${this.displayTraceId(message.traceId)} | ${info}`
            : `${this.getAppName()} ${this.displayTimestamp(message.tsLog.toISOString())} | ${info}`;
        return output;
    }
};
LeveledLogMethod = __decorate([
    typedi_1.Service(),
    __metadata("design:paramtypes", [])
], LeveledLogMethod);
exports.default = LeveledLogMethod;


/***/ }),

/***/ "./src/services/LeveledLogMethods/LeveledMessageLogMethod.ts":
/*!*******************************************************************!*\
  !*** ./src/services/LeveledLogMethods/LeveledMessageLogMethod.ts ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const LeveledLogMethod_1 = __webpack_require__(/*! ./LeveledLogMethod */ "./src/services/LeveledLogMethods/LeveledLogMethod.ts");
const LoggerType_1 = __webpack_require__(/*! ../../constants/LoggerType */ "./src/constants/LoggerType.ts");
const LevelType_1 = __webpack_require__(/*! ../../constants/LevelType */ "./src/constants/LevelType.ts");
const rTracer = __webpack_require__(/*! @pickit/cls-rtracer */ "@pickit/cls-rtracer");
class LeveledMessageLogMethod extends LeveledLogMethod_1.default {
    info(message) {
        let msg = {
            nameApp: process.env.APP_NAME,
            originType: null,
            traceId: rTracer.id(),
            level: LevelType_1.default.info,
            type: LoggerType_1.default.MESSAGE,
            method: null,
            statusCode: null,
            domain: null,
            endpoint: null,
            url: null,
            content: message,
            tsLog: new Date()
        };
        console.error(this.formatMessageConsole(msg));
    }
    error(message) {
        let msg = {
            nameApp: process.env.APP_NAME,
            originType: null,
            traceId: rTracer.id(),
            level: LevelType_1.default.error,
            type: LoggerType_1.default.MESSAGE,
            method: null,
            statusCode: null,
            domain: null,
            endpoint: null,
            url: null,
            content: message,
            tsLog: new Date()
        };
        console.error(this.formatMessageConsole(msg));
    }
    debug(message) {
        let msg = {
            nameApp: process.env.APP_NAME,
            originType: null,
            traceId: rTracer.id(),
            level: LevelType_1.default.debug,
            type: LoggerType_1.default.MESSAGE,
            method: null,
            statusCode: null,
            domain: null,
            endpoint: null,
            url: null,
            content: message,
            tsLog: new Date()
        };
        if (process.env.PICKIT_DEBUG == 'true') {
            console.debug(this.formatMessageConsole(msg));
        }
        ;
    }
    warn(message) {
        let msg = {
            nameApp: process.env.APP_NAME,
            originType: null,
            traceId: rTracer.id(),
            level: LevelType_1.default.warn,
            type: LoggerType_1.default.MESSAGE,
            method: null,
            statusCode: null,
            domain: null,
            endpoint: null,
            url: null,
            content: message,
            tsLog: new Date()
        };
        console.warn(this.formatMessageConsole(msg));
    }
}
exports.default = LeveledMessageLogMethod;


/***/ }),

/***/ "./src/services/LeveledLogMethods/LeveledRequestLogMethod.ts":
/*!*******************************************************************!*\
  !*** ./src/services/LeveledLogMethods/LeveledRequestLogMethod.ts ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const LeveledLogMethod_1 = __webpack_require__(/*! ./LeveledLogMethod */ "./src/services/LeveledLogMethods/LeveledLogMethod.ts");
const LoggerType_1 = __webpack_require__(/*! ../../constants/LoggerType */ "./src/constants/LoggerType.ts");
const LevelType_1 = __webpack_require__(/*! ../../constants/LevelType */ "./src/constants/LevelType.ts");
class LeveledRequestLogMethod extends LeveledLogMethod_1.default {
    info(origin, method, domain, endpoint, body, header) {
        let message = {
            nameApp: process.env.APP_NAME,
            originType: origin,
            traceId: this.getTraceId(),
            level: LevelType_1.default.info,
            type: LoggerType_1.default.REQUEST,
            method: method,
            statusCode: null,
            domain: domain,
            endpoint: endpoint,
            url: `${domain}${endpoint}`,
            content: `Headers: ${header} Body: ${body}`,
            tsLog: new Date()
        };
        console.info(this.formatMessageConsole(message));
    }
    error(origin, method, domain, endpoint, body, header) {
        let message = {
            nameApp: process.env.APP_NAME,
            originType: origin,
            traceId: this.getTraceId(),
            level: LevelType_1.default.error,
            type: LoggerType_1.default.REQUEST,
            method: method,
            statusCode: null,
            domain: domain,
            endpoint: endpoint,
            url: `${domain}${endpoint}`,
            content: `Headers: ${header} Body: ${body}`,
            tsLog: new Date()
        };
        console.error(this.formatMessageConsole(message));
    }
}
exports.default = LeveledRequestLogMethod;


/***/ }),

/***/ "./src/services/LeveledLogMethods/LeveledResponseLogMethod.ts":
/*!********************************************************************!*\
  !*** ./src/services/LeveledLogMethods/LeveledResponseLogMethod.ts ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const LeveledLogMethod_1 = __webpack_require__(/*! ./LeveledLogMethod */ "./src/services/LeveledLogMethods/LeveledLogMethod.ts");
const LoggerType_1 = __webpack_require__(/*! ../../constants/LoggerType */ "./src/constants/LoggerType.ts");
const LevelType_1 = __webpack_require__(/*! ../../constants/LevelType */ "./src/constants/LevelType.ts");
class LeveledResponseLogMethod extends LeveledLogMethod_1.default {
    info(origin, statusCode, body, header) {
        let message = {
            nameApp: process.env.APP_NAME,
            originType: origin,
            traceId: this.getTraceId(),
            level: LevelType_1.default.info,
            type: LoggerType_1.default.RESPONSE,
            method: null,
            statusCode: statusCode,
            domain: null,
            endpoint: null,
            url: null,
            content: `Headers: ${header} Body: ${body}`,
            tsLog: new Date()
        };
        console.info(this.formatMessageConsole(message));
    }
    error(origin, statusCode, body, header) {
        let message = {
            nameApp: process.env.APP_NAME,
            originType: origin,
            traceId: this.getTraceId(),
            level: LevelType_1.default.error,
            type: LoggerType_1.default.RESPONSE,
            method: null,
            statusCode: statusCode,
            domain: null,
            endpoint: null,
            url: null,
            content: `Headers: ${header} Body: ${body}`,
            tsLog: new Date()
        };
        console.error(this.formatMessageConsole(message));
    }
}
exports.default = LeveledResponseLogMethod;


/***/ }),

/***/ "./src/services/Logger.ts":
/*!********************************!*\
  !*** ./src/services/Logger.ts ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const winston_1 = __webpack_require__(/*! winston */ "winston");
__webpack_require__(/*! reflect-metadata */ "reflect-metadata");
const ConsoleFormatter_1 = __webpack_require__(/*! ../models/ConsoleFormatter */ "./src/models/ConsoleFormatter.ts");
const uuid = __webpack_require__(/*! node-uuid */ "node-uuid");
class LoggerClass {
    static createLogger() {
        let consoleFormatter = new ConsoleFormatter_1.default();
        return winston_1.createLogger({
            transports: [
                new winston_1.transports.Console({
                    level: "debug",
                    format: winston_1.format.combine(winston_1.format.colorize(), winston_1.format.json(), winston_1.format.timestamp({ format: 'YYYY-MM-DDTHH:mm:ss.SSSZ' }), winston_1.format.printf(consoleFormatter.formatMessageConsole)),
                }),
            ],
        });
    }
}
exports.default = LoggerClass;
LoggerClass.setTraceId = () => {
    const traceID = uuid.v4();
    Reflect.defineMetadata("traceIDcron", traceID, String.prototype, "toString");
};


/***/ }),

/***/ "./src/services/LoggerV2.ts":
/*!**********************************!*\
  !*** ./src/services/LoggerV2.ts ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", { value: true });
const LeveledRequestLogMethod_1 = __webpack_require__(/*! ./LeveledLogMethods/LeveledRequestLogMethod */ "./src/services/LeveledLogMethods/LeveledRequestLogMethod.ts");
const LeveledResponseLogMethod_1 = __webpack_require__(/*! ./LeveledLogMethods/LeveledResponseLogMethod */ "./src/services/LeveledLogMethods/LeveledResponseLogMethod.ts");
const LeveledMessageLogMethod_1 = __webpack_require__(/*! ./LeveledLogMethods/LeveledMessageLogMethod */ "./src/services/LeveledLogMethods/LeveledMessageLogMethod.ts");
const typedi_1 = __webpack_require__(/*! typedi */ "typedi");
let LoggerV2 = class LoggerV2 {
    constructor() {
        this.request = typedi_1.Container.get(LeveledRequestLogMethod_1.default);
        this.response = typedi_1.Container.get(LeveledResponseLogMethod_1.default);
        this.message = typedi_1.Container.get(LeveledMessageLogMethod_1.default);
        this.validateEnvironments();
    }
    getTraceId() {
        return this.message.getTraceId();
    }
    validateEnvironments() {
        if (!process.env.APP_NAME) {
            console.warn("Error Logger: The environment 'APP_NAME' is required");
        }
    }
};
LoggerV2 = __decorate([
    typedi_1.Service(),
    __metadata("design:paramtypes", [])
], LoggerV2);
exports.default = LoggerV2;


/***/ }),

/***/ "@pickit/cls-rtracer":
/*!**************************************!*\
  !*** external "@pickit/cls-rtracer" ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@pickit/cls-rtracer");

/***/ }),

/***/ "express-http-context":
/*!***************************************!*\
  !*** external "express-http-context" ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("express-http-context");

/***/ }),

/***/ "node-uuid":
/*!****************************!*\
  !*** external "node-uuid" ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("node-uuid");

/***/ }),

/***/ "reflect-metadata":
/*!***********************************!*\
  !*** external "reflect-metadata" ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("reflect-metadata");

/***/ }),

/***/ "typedi":
/*!*************************!*\
  !*** external "typedi" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("typedi");

/***/ }),

/***/ "winston":
/*!**************************!*\
  !*** external "winston" ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("winston");

/***/ })

/******/ });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9sb2dnZXIvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL2xvZ2dlci93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9sb2dnZXIvLi9pbmRleC50cyIsIndlYnBhY2s6Ly9sb2dnZXIvLi9zcmMvY29uc3RhbnRzL0xldmVsVHlwZS50cyIsIndlYnBhY2s6Ly9sb2dnZXIvLi9zcmMvY29uc3RhbnRzL0xvZ2dlclR5cGUudHMiLCJ3ZWJwYWNrOi8vbG9nZ2VyLy4vc3JjL2NvbnN0YW50cy9NZXRob2RUeXBlLnRzIiwid2VicGFjazovL2xvZ2dlci8uL3NyYy9jb25zdGFudHMvT3JpZ2luVHlwZS50cyIsIndlYnBhY2s6Ly9sb2dnZXIvLi9zcmMvbW9kZWxzL0NvbnNvbGVGb3JtYXR0ZXIudHMiLCJ3ZWJwYWNrOi8vbG9nZ2VyLy4vc3JjL21vZGVscy9Gb3JtYXR0ZXIudHMiLCJ3ZWJwYWNrOi8vbG9nZ2VyLy4vc3JjL3NlcnZpY2VzL0xldmVsZWRMb2dNZXRob2RzL0xldmVsZWRMb2dNZXRob2QudHMiLCJ3ZWJwYWNrOi8vbG9nZ2VyLy4vc3JjL3NlcnZpY2VzL0xldmVsZWRMb2dNZXRob2RzL0xldmVsZWRNZXNzYWdlTG9nTWV0aG9kLnRzIiwid2VicGFjazovL2xvZ2dlci8uL3NyYy9zZXJ2aWNlcy9MZXZlbGVkTG9nTWV0aG9kcy9MZXZlbGVkUmVxdWVzdExvZ01ldGhvZC50cyIsIndlYnBhY2s6Ly9sb2dnZXIvLi9zcmMvc2VydmljZXMvTGV2ZWxlZExvZ01ldGhvZHMvTGV2ZWxlZFJlc3BvbnNlTG9nTWV0aG9kLnRzIiwid2VicGFjazovL2xvZ2dlci8uL3NyYy9zZXJ2aWNlcy9Mb2dnZXIudHMiLCJ3ZWJwYWNrOi8vbG9nZ2VyLy4vc3JjL3NlcnZpY2VzL0xvZ2dlclYyLnRzIiwid2VicGFjazovL2xvZ2dlci9leHRlcm5hbCBcIkBwaWNraXQvY2xzLXJ0cmFjZXJcIiIsIndlYnBhY2s6Ly9sb2dnZXIvZXh0ZXJuYWwgXCJleHByZXNzLWh0dHAtY29udGV4dFwiIiwid2VicGFjazovL2xvZ2dlci9leHRlcm5hbCBcIm5vZGUtdXVpZFwiIiwid2VicGFjazovL2xvZ2dlci9leHRlcm5hbCBcInJlZmxlY3QtbWV0YWRhdGFcIiIsIndlYnBhY2s6Ly9sb2dnZXIvZXh0ZXJuYWwgXCJ0eXBlZGlcIiIsIndlYnBhY2s6Ly9sb2dnZXIvZXh0ZXJuYWwgXCJ3aW5zdG9uXCIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsTztRQ2RBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBOzs7UUFHQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0EsMENBQTBDLGdDQUFnQztRQUMxRTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBLHdEQUF3RCxrQkFBa0I7UUFDMUU7UUFDQSxpREFBaUQsY0FBYztRQUMvRDs7UUFFQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0EseUNBQXlDLGlDQUFpQztRQUMxRSxnSEFBZ0gsbUJBQW1CLEVBQUU7UUFDckk7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQSwyQkFBMkIsMEJBQTBCLEVBQUU7UUFDdkQsaUNBQWlDLGVBQWU7UUFDaEQ7UUFDQTtRQUNBOztRQUVBO1FBQ0Esc0RBQXNELCtEQUErRDs7UUFFckg7UUFDQTs7O1FBR0E7UUFDQTs7Ozs7Ozs7Ozs7Ozs7OztBQ2xGQSw4RkFBZ0Q7QUFLdkMsc0JBTEYsZ0JBQVcsQ0FLRTtBQUpwQiw0R0FBb0Q7QUFJcEIscUJBSnpCLG9CQUFVLENBSXlCO0FBSDFDLDRHQUFvRDtBQUdSLHFCQUhyQyxvQkFBVSxDQUdxQztBQUZ0RCxvR0FBK0M7QUFFekIsbUJBRmYsa0JBQVEsQ0FFZTs7Ozs7Ozs7Ozs7Ozs7O0FDTDlCLE1BQU0sVUFBVTs7QUFDRSxlQUFJLEdBQVksTUFBTSxDQUFDO0FBQ3ZCLGdCQUFLLEdBQVksT0FBTyxDQUFDO0FBQ3pCLGdCQUFLLEdBQVcsT0FBTyxDQUFDO0FBQ3hCLGVBQUksR0FBVyxNQUFNLENBQUM7QUFHeEMsa0JBQWUsVUFBVSxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7QUNQMUIsTUFBTSxVQUFVOztBQUNFLGtCQUFPLEdBQVksU0FBUyxDQUFDO0FBQzdCLG1CQUFRLEdBQVksVUFBVSxDQUFDO0FBQy9CLGtCQUFPLEdBQVcsU0FBUyxDQUFDO0FBRzlDLGtCQUFlLFVBQVUsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7O0FDTjFCLE1BQU0sVUFBVTs7QUFDRSxlQUFJLEdBQVksTUFBTSxDQUFDO0FBQ3ZCLGNBQUcsR0FBWSxLQUFLLENBQUM7QUFDckIsaUJBQU0sR0FBWSxRQUFRLENBQUM7QUFDM0IsZ0JBQUssR0FBWSxPQUFPLENBQUM7QUFDekIsY0FBRyxHQUFZLEtBQUssQ0FBQztBQUNyQixrQkFBTyxHQUFZLFNBQVMsQ0FBQztBQUcvQyxrQkFBZSxVQUFVLENBQUM7Ozs7Ozs7Ozs7Ozs7OztBQ1QxQixNQUFNLFVBQVU7O0FBQ0UsbUJBQVEsR0FBWSxVQUFVLENBQUM7QUFDL0IsbUJBQVEsR0FBWSxVQUFVLENBQUM7QUFHakQsa0JBQWUsVUFBVSxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7QUNMMUIsd0ZBQW9DO0FBQ3BDLHNGQUErQztBQUUvQyxNQUFNLGFBQWMsU0FBUSxtQkFBUztJQUFyQzs7UUFDRSx5QkFBb0IsR0FBRyxDQUFDLElBQVMsRUFBRSxFQUFFO1lBQ25DLE1BQU0sS0FBSyxHQUFHLDJCQUEyQixDQUFDO1lBRTFDLElBQUksT0FBTyxHQUFHLE9BQU8sQ0FBQyxFQUFFLEVBQUUsQ0FBQztZQUMzQixJQUFJLE9BQU8sR0FBSSxPQUFPO2dCQUNwQixDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLElBQUksQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLElBQUksSUFBSSxDQUFDLEtBQUssTUFBTSxJQUFJLENBQUMsT0FBTyxFQUFFO2dCQUM1RyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLEtBQUssTUFBTSxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7WUFFekgsSUFBSSxJQUFJLENBQUMsS0FBSyxLQUFLLEtBQUssRUFBRTtnQkFDeEIsT0FBTyxJQUFJLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUM7YUFDL0o7aUJBQU07Z0JBQ0wsT0FBTyxJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2FBQ3hDO1lBQ0QsT0FBTyxPQUFPLENBQUM7UUFDakIsQ0FBQyxDQUFDO1FBRU0scUJBQWdCLEdBQUcsQ0FBQyxTQUFpQixFQUFVLEVBQUU7WUFDdkQsT0FBTyxjQUFjLFNBQVMsYUFBYSxDQUFDO1FBQzlDLENBQUMsQ0FBQztRQUVNLG1CQUFjLEdBQUcsQ0FBQyxPQUF5QixFQUFVLEVBQUU7WUFDN0QsT0FBTyxPQUFPLENBQUMsQ0FBQyxDQUFDLHFCQUFxQixHQUFHLE9BQU8sR0FBRyxhQUFhLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztRQUN4RSxDQUFDLENBQUM7UUFFTSxnQkFBVyxHQUFHLENBQUMsSUFBWSxFQUFVLEVBQUU7WUFDN0MsT0FBTyxJQUFJLENBQUMsQ0FBQyxDQUFDLHdCQUF3QixJQUFJLGFBQWEsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO1FBQy9ELENBQUMsQ0FBQztRQUVNLGdCQUFXLEdBQUcsQ0FBQyxJQUFZLEVBQVUsRUFBRTtZQUM3QyxPQUFPLElBQUksQ0FBQyxDQUFDLENBQUMsbUJBQW1CLElBQUksYUFBYSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7UUFDMUQsQ0FBQyxDQUFDO1FBRU0saUJBQVksR0FBRyxDQUFDLEtBQWEsRUFBVSxFQUFFO1lBQy9DLE9BQU8sS0FBSyxDQUFDLENBQUMsQ0FBQyx3QkFBd0IsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztRQUN2RCxDQUFDLENBQUM7UUFFTSxzQkFBaUIsR0FBRyxDQUFDLFVBQWtCLEVBQVUsRUFBRTtZQUN6RCxPQUFPLFVBQVUsQ0FBQyxDQUFDLENBQUMseUJBQXlCLFVBQVUsYUFBYSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7UUFDNUUsQ0FBQyxDQUFDO1FBRU0sZ0JBQVcsR0FBRyxDQUFDLElBQVksRUFBVSxFQUFFO1lBQzdDLE9BQU8sSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7UUFDMUMsQ0FBQyxDQUFDO0lBQ0osQ0FBQztDQUFBO0FBRUQsa0JBQWUsYUFBYSxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7QUNqRDdCLE1BQU0sV0FBVyxHQUFHLG1CQUFPLENBQUMsa0RBQXNCLENBQUMsQ0FBQztBQUlwRCxNQUFNLFNBQVM7SUFBZjtRQUNFLGVBQVUsR0FBRyxHQUFXLEVBQUU7WUFDeEIsSUFBSSxXQUFXLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxFQUFFO2dCQUM5QixPQUFPLFdBQVcsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUM7YUFDbkM7aUJBQU07Z0JBQ0wsSUFBSSxNQUFNLEdBQUcsSUFBSSxNQUFNLEVBQUUsQ0FBQztnQkFDMUIsT0FBTyxPQUFPLENBQUMsV0FBVyxDQUFDLGFBQWEsRUFBRSxNQUFNLEVBQUUsVUFBVSxDQUFDLENBQUM7YUFDL0Q7UUFDSCxDQUFDLENBQUM7SUFDSixDQUFDO0NBQUE7QUFFRCxrQkFBZSxTQUFTLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2Z6QixzRkFBK0M7QUFFL0MsNEdBQW9EO0FBQ3BELDZEQUFpQztBQUdqQyxJQUFlLGdCQUFnQixHQUEvQixNQUFlLGdCQUFnQjtJQUUzQjtRQWVRLFlBQU8sR0FBRyxDQUFDLE9BQWdCLEVBQVUsRUFBRTtZQUMzQyxRQUFRLE9BQU8sQ0FBQyxJQUFJLEVBQUU7Z0JBQ2xCLEtBQUssb0JBQVUsQ0FBQyxPQUFPO29CQUNuQixPQUFPLFNBQVMsb0JBQVUsQ0FBQyxPQUFPLGtCQUFrQixPQUFPLENBQUMsVUFBVSxhQUFhLElBQUksQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxjQUFjLE9BQU8sQ0FBQyxNQUFNLGNBQWMsT0FBTyxDQUFDLE1BQU0sZ0JBQWdCLE9BQU8sQ0FBQyxRQUFRLGVBQWUsT0FBTyxDQUFDLE9BQU8sR0FBRyxDQUFDO2dCQUNqUCxLQUFLLG9CQUFVLENBQUMsUUFBUTtvQkFDcEIsT0FBTyxTQUFTLG9CQUFVLENBQUMsUUFBUSxrQkFBa0IsT0FBTyxDQUFDLFVBQVUsYUFBYSxJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsa0JBQWtCLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLGVBQWUsT0FBTyxDQUFDLE9BQU8sRUFBRSxDQUFDO2dCQUNyTixLQUFLLG9CQUFVLENBQUMsT0FBTyxDQUFDO2dCQUN4QjtvQkFDSSxPQUFPLFNBQVMsb0JBQVUsQ0FBQyxPQUFPLGFBQWEsSUFBSSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLGVBQWUsT0FBTyxDQUFDLE9BQU8sRUFBRSxDQUFDO2FBQ3ZIO1FBQ0wsQ0FBQztRQUVPLHFCQUFnQixHQUFHLENBQUMsU0FBaUIsRUFBVSxFQUFFO1lBQ3ZELE9BQU8sY0FBYyxTQUFTLGFBQWEsQ0FBQztRQUM5QyxDQUFDO1FBRU8sbUJBQWMsR0FBRyxDQUFDLE9BQXlCLEVBQVUsRUFBRTtZQUMzRCxPQUFPLE9BQU8sQ0FBQyxDQUFDLENBQUMsc0JBQXNCLE9BQU8sYUFBYSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7UUFDckUsQ0FBQztRQUVPLGVBQVUsR0FBRyxHQUFXLEVBQUU7WUFDOUIsT0FBTyxjQUFjLE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUSxhQUFhLENBQUM7UUFDM0QsQ0FBQztRQUVPLHNCQUFpQixHQUFHLENBQUMsVUFBa0IsRUFBVSxFQUFFO1lBQ3ZELE9BQU8sY0FBYyxVQUFVLENBQUMsUUFBUSxFQUFFLGFBQWEsQ0FBQztRQUM1RCxDQUFDO1FBRU8saUJBQVksR0FBRyxDQUFDLEtBQWEsRUFBVSxFQUFFO1lBQzdDLFFBQVEsS0FBSyxDQUFDLFdBQVcsRUFBRSxFQUFDO2dCQUV4QixLQUFLLE9BQU87b0JBQ1IsT0FBTyxjQUFjLEtBQUssYUFBYSxDQUFDO2dCQUU1QyxLQUFLLE1BQU07b0JBQ1AsT0FBTyxjQUFjLEtBQUssYUFBYSxDQUFDO2dCQUU1QyxLQUFLLE1BQU07b0JBQ1AsT0FBTyxjQUFjLEtBQUssYUFBYSxDQUFDO2dCQUU1QyxLQUFLLE9BQU87b0JBQ1IsT0FBTyxjQUFjLEtBQUssYUFBYSxDQUFDO2dCQUU1QztvQkFDSSxPQUFPLGNBQWMsS0FBSyxhQUFhLENBQUM7YUFDL0M7UUFFTCxDQUFDO0lBN0RHLENBQUM7SUFFRSxVQUFVO1FBQ2IsT0FBTyxPQUFPLENBQUMsRUFBRSxFQUFFLENBQUM7SUFDeEIsQ0FBQztJQUVTLG9CQUFvQixDQUFDLE9BQWdCO1FBQzNDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDakMsSUFBSSxNQUFNLEdBQUcsRUFBRSxDQUFDO1FBQ2hCLE1BQU0sSUFBSSxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxVQUFVLEVBQUUsSUFBSSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxXQUFXLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxNQUFNLElBQUksRUFBRTtZQUN4SixDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsVUFBVSxFQUFFLElBQUksSUFBSSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFFLENBQUMsTUFBTSxJQUFJLEVBQUUsQ0FBQztRQUMzRixPQUFPLE1BQU0sQ0FBQztJQUNsQixDQUFDO0NBbURKO0FBbEVjLGdCQUFnQjtJQUQ5QixnQkFBTyxFQUFFOztHQUNLLGdCQUFnQixDQWtFOUI7QUFFRCxrQkFBZSxnQkFBZ0IsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7O0FDMUVoQyxpSUFBa0Q7QUFDbEQsNEdBQW9EO0FBQ3BELHlHQUFrRDtBQUVsRCxzRkFBK0M7QUFFL0MsTUFBTSx1QkFBd0IsU0FBUSwwQkFBZ0I7SUFFbEQsSUFBSSxDQUFDLE9BQWU7UUFDaEIsSUFBSSxHQUFHLEdBQVk7WUFDZixPQUFPLEVBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxRQUFRO1lBQzlCLFVBQVUsRUFBRyxJQUFJO1lBQ2pCLE9BQU8sRUFBRyxPQUFPLENBQUMsRUFBRSxFQUFFO1lBQ3RCLEtBQUssRUFBRyxtQkFBUyxDQUFDLElBQUk7WUFDdEIsSUFBSSxFQUFHLG9CQUFVLENBQUMsT0FBTztZQUN6QixNQUFNLEVBQUcsSUFBSTtZQUNiLFVBQVUsRUFBRyxJQUFJO1lBQ2pCLE1BQU0sRUFBRyxJQUFJO1lBQ2IsUUFBUSxFQUFHLElBQUk7WUFDZixHQUFHLEVBQUcsSUFBSTtZQUNWLE9BQU8sRUFBRyxPQUFPO1lBQ2pCLEtBQUssRUFBRSxJQUFJLElBQUksRUFBRTtTQUNwQixDQUFDO1FBQ0YsT0FBTyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDakQsQ0FBQztJQUVELEtBQUssQ0FBQyxPQUFlO1FBQ2pCLElBQUksR0FBRyxHQUFZO1lBQ2YsT0FBTyxFQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUTtZQUM5QixVQUFVLEVBQUcsSUFBSTtZQUNqQixPQUFPLEVBQUcsT0FBTyxDQUFDLEVBQUUsRUFBRTtZQUN0QixLQUFLLEVBQUcsbUJBQVMsQ0FBQyxLQUFLO1lBQ3ZCLElBQUksRUFBRyxvQkFBVSxDQUFDLE9BQU87WUFDekIsTUFBTSxFQUFHLElBQUk7WUFDYixVQUFVLEVBQUcsSUFBSTtZQUNqQixNQUFNLEVBQUcsSUFBSTtZQUNiLFFBQVEsRUFBRyxJQUFJO1lBQ2YsR0FBRyxFQUFHLElBQUk7WUFDVixPQUFPLEVBQUcsT0FBTztZQUNqQixLQUFLLEVBQUUsSUFBSSxJQUFJLEVBQUU7U0FDcEIsQ0FBQztRQUNGLE9BQU8sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLG9CQUFvQixDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2pELENBQUM7SUFFRCxLQUFLLENBQUMsT0FBZTtRQUNqQixJQUFJLEdBQUcsR0FBWTtZQUNmLE9BQU8sRUFBRyxPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVE7WUFDOUIsVUFBVSxFQUFHLElBQUk7WUFDakIsT0FBTyxFQUFHLE9BQU8sQ0FBQyxFQUFFLEVBQUU7WUFDdEIsS0FBSyxFQUFHLG1CQUFTLENBQUMsS0FBSztZQUN2QixJQUFJLEVBQUcsb0JBQVUsQ0FBQyxPQUFPO1lBQ3pCLE1BQU0sRUFBRyxJQUFJO1lBQ2IsVUFBVSxFQUFHLElBQUk7WUFDakIsTUFBTSxFQUFHLElBQUk7WUFDYixRQUFRLEVBQUcsSUFBSTtZQUNmLEdBQUcsRUFBRyxJQUFJO1lBQ1YsT0FBTyxFQUFHLE9BQU87WUFDakIsS0FBSyxFQUFFLElBQUksSUFBSSxFQUFFO1NBQ3BCLENBQUM7UUFDRixJQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsWUFBWSxJQUFJLE1BQU0sRUFBQztZQUNsQyxPQUFPLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUNoRDtRQUFBLENBQUM7SUFFTixDQUFDO0lBRUQsSUFBSSxDQUFDLE9BQWU7UUFDaEIsSUFBSSxHQUFHLEdBQVk7WUFDZixPQUFPLEVBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxRQUFRO1lBQzlCLFVBQVUsRUFBRyxJQUFJO1lBQ2pCLE9BQU8sRUFBRyxPQUFPLENBQUMsRUFBRSxFQUFFO1lBQ3RCLEtBQUssRUFBRyxtQkFBUyxDQUFDLElBQUk7WUFDdEIsSUFBSSxFQUFHLG9CQUFVLENBQUMsT0FBTztZQUN6QixNQUFNLEVBQUcsSUFBSTtZQUNiLFVBQVUsRUFBRyxJQUFJO1lBQ2pCLE1BQU0sRUFBRyxJQUFJO1lBQ2IsUUFBUSxFQUFHLElBQUk7WUFDZixHQUFHLEVBQUcsSUFBSTtZQUNWLE9BQU8sRUFBRyxPQUFPO1lBQ2pCLEtBQUssRUFBRSxJQUFJLElBQUksRUFBRTtTQUNwQixDQUFDO1FBQ0YsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDaEQsQ0FBQztDQUNKO0FBRUQsa0JBQWUsdUJBQXVCLENBQUM7Ozs7Ozs7Ozs7Ozs7OztBQ3BGdkMsaUlBQWtEO0FBQ2xELDRHQUFvRDtBQUVwRCx5R0FBa0Q7QUFFbEQsTUFBTSx1QkFBd0IsU0FBUSwwQkFBZ0I7SUFFbEQsSUFBSSxDQUFDLE1BQWMsRUFBRSxNQUFjLEVBQUUsTUFBYyxFQUFFLFFBQWdCLEVBQUUsSUFBWSxFQUFFLE1BQWM7UUFDL0YsSUFBSSxPQUFPLEdBQVk7WUFDbkIsT0FBTyxFQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUTtZQUM5QixVQUFVLEVBQUcsTUFBTTtZQUNuQixPQUFPLEVBQUcsSUFBSSxDQUFDLFVBQVUsRUFBRTtZQUMzQixLQUFLLEVBQUcsbUJBQVMsQ0FBQyxJQUFJO1lBQ3RCLElBQUksRUFBRyxvQkFBVSxDQUFDLE9BQU87WUFDekIsTUFBTSxFQUFHLE1BQU07WUFDZixVQUFVLEVBQUcsSUFBSTtZQUNqQixNQUFNLEVBQUcsTUFBTTtZQUNmLFFBQVEsRUFBRyxRQUFRO1lBQ25CLEdBQUcsRUFBRyxHQUFHLE1BQU0sR0FBRyxRQUFRLEVBQUU7WUFDNUIsT0FBTyxFQUFHLFlBQVksTUFBTSxVQUFVLElBQUksRUFBRTtZQUM1QyxLQUFLLEVBQUUsSUFBSSxJQUFJLEVBQUU7U0FDcEIsQ0FBQztRQUNGLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLG9CQUFvQixDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3BELENBQUM7SUFFRCxLQUFLLENBQUMsTUFBYyxFQUFFLE1BQWMsRUFBRSxNQUFjLEVBQUUsUUFBZ0IsRUFBRSxJQUFZLEVBQUUsTUFBYztRQUNoRyxJQUFJLE9BQU8sR0FBWTtZQUNuQixPQUFPLEVBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxRQUFRO1lBQzlCLFVBQVUsRUFBRyxNQUFNO1lBQ25CLE9BQU8sRUFBRyxJQUFJLENBQUMsVUFBVSxFQUFFO1lBQzNCLEtBQUssRUFBRyxtQkFBUyxDQUFDLEtBQUs7WUFDdkIsSUFBSSxFQUFHLG9CQUFVLENBQUMsT0FBTztZQUN6QixNQUFNLEVBQUcsTUFBTTtZQUNmLFVBQVUsRUFBRyxJQUFJO1lBQ2pCLE1BQU0sRUFBRyxNQUFNO1lBQ2YsUUFBUSxFQUFHLFFBQVE7WUFDbkIsR0FBRyxFQUFHLEdBQUcsTUFBTSxHQUFHLFFBQVEsRUFBRTtZQUM1QixPQUFPLEVBQUcsWUFBWSxNQUFNLFVBQVUsSUFBSSxFQUFFO1lBQzVDLEtBQUssRUFBRSxJQUFJLElBQUksRUFBRTtTQUNwQixDQUFDO1FBQ0YsT0FBTyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDckQsQ0FBQztDQUNKO0FBRUQsa0JBQWUsdUJBQXVCLENBQUM7Ozs7Ozs7Ozs7Ozs7OztBQzVDdkMsaUlBQWtEO0FBQ2xELDRHQUFvRDtBQUVwRCx5R0FBa0Q7QUFFbEQsTUFBTSx3QkFBeUIsU0FBUSwwQkFBZ0I7SUFFbkQsSUFBSSxDQUFDLE1BQWMsRUFBRSxVQUFrQixFQUFFLElBQVksRUFBRSxNQUFjO1FBQ2pFLElBQUksT0FBTyxHQUFZO1lBQ25CLE9BQU8sRUFBRyxPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVE7WUFDOUIsVUFBVSxFQUFHLE1BQU07WUFDbkIsT0FBTyxFQUFHLElBQUksQ0FBQyxVQUFVLEVBQUU7WUFDM0IsS0FBSyxFQUFHLG1CQUFTLENBQUMsSUFBSTtZQUN0QixJQUFJLEVBQUcsb0JBQVUsQ0FBQyxRQUFRO1lBQzFCLE1BQU0sRUFBRyxJQUFJO1lBQ2IsVUFBVSxFQUFHLFVBQVU7WUFDdkIsTUFBTSxFQUFHLElBQUk7WUFDYixRQUFRLEVBQUcsSUFBSTtZQUNmLEdBQUcsRUFBRyxJQUFJO1lBQ1YsT0FBTyxFQUFHLFlBQVksTUFBTSxVQUFVLElBQUksRUFBRTtZQUM1QyxLQUFLLEVBQUUsSUFBSSxJQUFJLEVBQUU7U0FDcEIsQ0FBQztRQUNGLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLG9CQUFvQixDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3BELENBQUM7SUFFRCxLQUFLLENBQUMsTUFBYyxFQUFFLFVBQWtCLEVBQUUsSUFBWSxFQUFFLE1BQWM7UUFDbEUsSUFBSSxPQUFPLEdBQVk7WUFDbkIsT0FBTyxFQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUTtZQUM5QixVQUFVLEVBQUcsTUFBTTtZQUNuQixPQUFPLEVBQUcsSUFBSSxDQUFDLFVBQVUsRUFBRTtZQUMzQixLQUFLLEVBQUcsbUJBQVMsQ0FBQyxLQUFLO1lBQ3ZCLElBQUksRUFBRyxvQkFBVSxDQUFDLFFBQVE7WUFDMUIsTUFBTSxFQUFHLElBQUk7WUFDYixVQUFVLEVBQUcsVUFBVTtZQUN2QixNQUFNLEVBQUcsSUFBSTtZQUNiLFFBQVEsRUFBRyxJQUFJO1lBQ2YsR0FBRyxFQUFHLElBQUk7WUFDVixPQUFPLEVBQUcsWUFBWSxNQUFNLFVBQVUsSUFBSSxFQUFFO1lBQzVDLEtBQUssRUFBRSxJQUFJLElBQUksRUFBRTtTQUNwQixDQUFDO1FBQ0YsT0FBTyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDckQsQ0FBQztDQUNKO0FBRUQsa0JBQWUsd0JBQXdCLENBQUM7Ozs7Ozs7Ozs7Ozs7OztBQzVDeEMsZ0VBQTJEO0FBQzNELGdFQUEwQjtBQUMxQixxSEFBdUQ7QUFDdkQsTUFBTSxJQUFJLEdBQUcsbUJBQU8sQ0FBQyw0QkFBVyxDQUFDLENBQUM7QUFFbEMsTUFBcUIsV0FBVztJQVc5QixNQUFNLENBQUMsWUFBWTtRQUNqQixJQUFJLGdCQUFnQixHQUFHLElBQUksMEJBQWEsRUFBRSxDQUFDO1FBQzNDLE9BQU8sc0JBQVksQ0FBQztZQUNsQixVQUFVLEVBQUU7Z0JBQ1YsSUFBSSxvQkFBVSxDQUFDLE9BQU8sQ0FBQztvQkFDckIsS0FBSyxFQUFFLE9BQU87b0JBQ2QsTUFBTSxFQUFFLGdCQUFNLENBQUMsT0FBTyxDQUNwQixnQkFBTSxDQUFDLFFBQVEsRUFBRSxFQUNqQixnQkFBTSxDQUFDLElBQUksRUFBRSxFQUNiLGdCQUFNLENBQUMsU0FBUyxDQUFDLEVBQUMsTUFBTSxFQUFFLDBCQUEwQixFQUFDLENBQUMsRUFDdEQsZ0JBQU0sQ0FBQyxNQUFNLENBQUMsZ0JBQWdCLENBQUMsb0JBQW9CLENBQUMsQ0FDckQ7aUJBQ0YsQ0FBQzthQUNIO1NBQ0YsQ0FBQyxDQUFDO0lBQ0wsQ0FBQzs7QUExQkgsOEJBMkJDO0FBMUJRLHNCQUFVLEdBQUcsR0FBRyxFQUFFO0lBQ3ZCLE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQztJQUMxQixPQUFPLENBQUMsY0FBYyxDQUNwQixhQUFhLEVBQ2IsT0FBTyxFQUNQLE1BQU0sQ0FBQyxTQUFTLEVBQ2hCLFVBQVUsQ0FDWCxDQUFDO0FBQ0osQ0FBQyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNkSix3S0FBa0Y7QUFDbEYsMktBQW9GO0FBQ3BGLHdLQUFrRjtBQUNsRiw2REFBNEM7QUFHNUMsSUFBTSxRQUFRLEdBQWQsTUFBTSxRQUFRO0lBTVY7UUFKQSxZQUFPLEdBQTRCLGtCQUFTLENBQUMsR0FBRyxDQUEwQixpQ0FBdUIsQ0FBQyxDQUFDO1FBQ25HLGFBQVEsR0FBNkIsa0JBQVMsQ0FBQyxHQUFHLENBQTJCLGtDQUF3QixDQUFDLENBQUM7UUFDdkcsWUFBTyxHQUE0QixrQkFBUyxDQUFDLEdBQUcsQ0FBMEIsaUNBQXVCLENBQUMsQ0FBQztRQUcvRixJQUFJLENBQUMsb0JBQW9CLEVBQUUsQ0FBQztJQUNoQyxDQUFDO0lBRUQsVUFBVTtRQUNOLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLEVBQUUsQ0FBQztJQUNyQyxDQUFDO0lBRUQsb0JBQW9CO1FBQ2hCLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRTtZQUN2QixPQUFPLENBQUMsSUFBSSxDQUFDLHNEQUFzRCxDQUFDLENBQUM7U0FDeEU7SUFDTCxDQUFDO0NBQ0o7QUFuQkssUUFBUTtJQURiLGdCQUFPLEVBQUU7O0dBQ0osUUFBUSxDQW1CYjtBQUVELGtCQUFlLFFBQVEsQ0FBQzs7Ozs7Ozs7Ozs7O0FDM0J4QixnRDs7Ozs7Ozs7Ozs7QUNBQSxpRDs7Ozs7Ozs7Ozs7QUNBQSxzQzs7Ozs7Ozs7Ozs7QUNBQSw2Qzs7Ozs7Ozs7Ozs7QUNBQSxtQzs7Ozs7Ozs7Ozs7QUNBQSxvQyIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdC8vTG9nZ2VyIFRlc3Rcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHQvL0xvZ2dlciBUZXN0XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XG5cdC8vTG9nZ2VyIFRlc3Rcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcImxvZ2dlclwiXSA9IGZhY3RvcnkoKTtcblx0Ly9Mb2dnZXIgVGVzdFxuXHRlbHNlXG5cdFx0cm9vdFtcImxvZ2dlclwiXSA9IGZhY3RvcnkoKTtcbn0pKGdsb2JhbCwgZnVuY3Rpb24oKSB7XG5yZXR1cm4gIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IFwiLi9pbmRleC50c1wiKTtcbiIsImltcG9ydCBMb2dnZXJDbGFzcyBmcm9tIFwiLi9zcmMvc2VydmljZXMvTG9nZ2VyXCI7XG5pbXBvcnQgTWV0aG9kVHlwZSBmcm9tICcuL3NyYy9jb25zdGFudHMvTWV0aG9kVHlwZSc7XG5pbXBvcnQgT3JpZ2luVHlwZSBmcm9tICcuL3NyYy9jb25zdGFudHMvT3JpZ2luVHlwZSc7XG5pbXBvcnQgTG9nZ2VyVjIgZnJvbSAnLi9zcmMvc2VydmljZXMvTG9nZ2VyVjInO1xuXG5leHBvcnQgeyBMb2dnZXJDbGFzcywgTG9nZ2VyVjIsIE1ldGhvZFR5cGUsIE9yaWdpblR5cGUgfTsiLCJjbGFzcyBMb2dnZXJUeXBlIHtcbiAgICBwdWJsaWMgc3RhdGljIGluZm8gOiBzdHJpbmcgPSBcImluZm9cIjtcbiAgICBwdWJsaWMgc3RhdGljIGVycm9yIDogc3RyaW5nID0gXCJlcnJvclwiO1xuICAgIHB1YmxpYyBzdGF0aWMgZGVidWc6IHN0cmluZyA9IFwiZGVidWdcIjtcbiAgICBwdWJsaWMgc3RhdGljIHdhcm46IHN0cmluZyA9IFwid2FyblwiO1xufVxuXG5leHBvcnQgZGVmYXVsdCBMb2dnZXJUeXBlOyIsImNsYXNzIExvZ2dlclR5cGUge1xuICAgIHB1YmxpYyBzdGF0aWMgUkVRVUVTVCA6IHN0cmluZyA9IFwiUmVxdWVzdFwiO1xuICAgIHB1YmxpYyBzdGF0aWMgUkVTUE9OU0UgOiBzdHJpbmcgPSBcIlJlc3BvbnNlXCI7XG4gICAgcHVibGljIHN0YXRpYyBNRVNTQUdFOiBzdHJpbmcgPSBcIk1lc3NhZ2VcIjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgTG9nZ2VyVHlwZTsiLCJjbGFzcyBNZXRob2RUeXBlIHtcbiAgICBwdWJsaWMgc3RhdGljIFBPU1QgOiBzdHJpbmcgPSBcIlBPU1RcIjtcbiAgICBwdWJsaWMgc3RhdGljIFBVVCA6IHN0cmluZyA9IFwiUFVUXCI7XG4gICAgcHVibGljIHN0YXRpYyBERUxFVEUgOiBzdHJpbmcgPSBcIkRFTEVURVwiO1xuICAgIHB1YmxpYyBzdGF0aWMgUEFUQ0ggOiBzdHJpbmcgPSBcIlBBVENIXCI7XG4gICAgcHVibGljIHN0YXRpYyBHRVQgOiBzdHJpbmcgPSBcIkdFVFwiO1xuICAgIHB1YmxpYyBzdGF0aWMgT1BUSU9OUyA6IHN0cmluZyA9IFwiT1BUSU9OU1wiO1xufVxuXG5leHBvcnQgZGVmYXVsdCBNZXRob2RUeXBlOyIsImNsYXNzIE9yaWdpblR5cGUge1xuICAgIHB1YmxpYyBzdGF0aWMgaW50ZXJuYWwgOiBzdHJpbmcgPSBcImludGVybmFsXCI7XG4gICAgcHVibGljIHN0YXRpYyBleHRlcm5hbCA6IHN0cmluZyA9IFwiZXh0ZXJuYWxcIjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgT3JpZ2luVHlwZTsiLCJpbXBvcnQgRm9ybWF0dGVyIGZyb20gXCIuL0Zvcm1hdHRlclwiO1xuaW1wb3J0ICogYXMgclRyYWNlciBmcm9tIFwiQHBpY2tpdC9jbHMtcnRyYWNlclwiO1xuXG5jbGFzcyBDb25zb2xlRm9ybWF0IGV4dGVuZHMgRm9ybWF0dGVyIHtcbiAgZm9ybWF0TWVzc2FnZUNvbnNvbGUgPSAoaW5mbzogYW55KSA9PiB7XG4gICAgY29uc3QgRVJST1IgPSBcIlxcdTAwMWJbMzFtZXJyb3JcXHUwMDFiWzM5bVwiO1xuICAgIC8vbGV0IHRyYWNlSWQgPSB0aGlzLmdldFRyYWNlSWQoKTtcbiAgICBsZXQgdHJhY2VJZCA9IHJUcmFjZXIuaWQoKTtcbiAgICBsZXQgbWVzc2FnZSA9ICB0cmFjZUlkXG4gICAgICA/IGAke3RoaXMuZGlzcGxheVRpbWVzdGFtcChpbmZvLnRpbWVzdGFtcCl9ICR7dGhpcy5kaXNwbGF5VHJhY2VJZCh0cmFjZUlkKX0gJHtpbmZvLmxldmVsfSA6ICR7aW5mby5tZXNzYWdlfWAgXG4gICAgICA6IGAke3RoaXMuZGlzcGxheVRpbWVzdGFtcChpbmZvLnRpbWVzdGFtcCl9ICR7dGhpcy5kaXNwbGF5VHJhY2VJZCh0aGlzLmdldFRyYWNlSWQoKSl9ICR7aW5mby5sZXZlbH0gOiAke2luZm8ubWVzc2FnZX1gO1xuXG4gICAgaWYgKGluZm8ubGV2ZWwgPT09IEVSUk9SKSB7XG4gICAgICBtZXNzYWdlICs9IGAke3RoaXMuZGlzcGxheU5hbWUoaW5mby5uYW1lKX0gJHt0aGlzLmRpc3BsYXlIdHRwU3RhdHVzKGluZm8uZGlzcGxheUh0dHBTdGF0dXMpfSAke3RoaXMuZGlzcGxheUNvZGUoaW5mby5jb2RlKX0gJHt0aGlzLmRpc3BsYXlTdGFjayhpbmZvLnN0YWNrKX1gO1xuICAgIH0gZWxzZSB7XG4gICAgICBtZXNzYWdlICs9IHRoaXMuZGlzcGxheURhdGEoaW5mby5kYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH07XG5cbiAgcHJpdmF0ZSBkaXNwbGF5VGltZXN0YW1wID0gKHRpbWVzdGFtcDogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICByZXR1cm4gYFtcXHUwMDFiWzM2bSR7dGltZXN0YW1wfVxcdTAwMWJbMzltXWA7XG4gIH07XG5cbiAgcHJpdmF0ZSBkaXNwbGF5VHJhY2VJZCA9ICh0cmFjZUlkOiBzdHJpbmcgfCB1bmtub3duKTogc3RyaW5nID0+IHtcbiAgICByZXR1cm4gdHJhY2VJZCA/IFwiW1xcdTAwMWJbMzZtdHJhY2VJZDpcIiArIHRyYWNlSWQgKyBcIlxcdTAwMWJbMzltXVwiIDogXCJcIjtcbiAgfTtcblxuICBwcml2YXRlIGRpc3BsYXlOYW1lID0gKG5hbWU6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gICAgcmV0dXJuIG5hbWUgPyBgW1xcdTAwMWJbMzVtdHlwZUVycm9yOiR7bmFtZX1cXHUwMDFiWzM5bV1gIDogXCJcIjtcbiAgfTtcblxuICBwcml2YXRlIGRpc3BsYXlDb2RlID0gKGNvZGU6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gICAgcmV0dXJuIGNvZGUgPyBgW1xcdTAwMWJbMzVtY29kZToke2NvZGV9XFx1MDAxYlszOW1dYCA6IFwiXCI7XG4gIH07XG5cbiAgcHJpdmF0ZSBkaXNwbGF5U3RhY2sgPSAoc3RhY2s6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gICAgcmV0dXJuIHN0YWNrID8gYCAtIFtzdGFjay10cmFjZSAtLS0+ICR7c3RhY2t9XWAgOiBcIlwiO1xuICB9O1xuXG4gIHByaXZhdGUgZGlzcGxheUh0dHBTdGF0dXMgPSAoaHR0cFN0YXR1czogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICByZXR1cm4gaHR0cFN0YXR1cyA/IGBbXFx1MDAxYlszNW1odHRwU3RhdHVzOiR7aHR0cFN0YXR1c31cXHUwMDFiWzM5bV1gIDogXCJcIjtcbiAgfTtcblxuICBwcml2YXRlIGRpc3BsYXlEYXRhID0gKGRhdGE6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gICAgcmV0dXJuIGRhdGEgPyBKU09OLnN0cmluZ2lmeShkYXRhKSA6IFwiXCI7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbnNvbGVGb3JtYXQ7XG4iLCJjb25zdCBodHRwQ29udGV4dCA9IHJlcXVpcmUoXCJleHByZXNzLWh0dHAtY29udGV4dFwiKTtcbmludGVyZmFjZSBJRm9ybWF0dGVyIHtcbiAgZ2V0VHJhY2VJZCgpOiBzdHJpbmc7XG59XG5jbGFzcyBGb3JtYXR0ZXIgaW1wbGVtZW50cyBJRm9ybWF0dGVyIHtcbiAgZ2V0VHJhY2VJZCA9ICgpOiBzdHJpbmcgPT4ge1xuICAgIGlmIChodHRwQ29udGV4dC5nZXQoXCJ0cmFjZUlkXCIpKSB7XG4gICAgICByZXR1cm4gaHR0cENvbnRleHQuZ2V0KFwidHJhY2VJZFwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IHJlc3VsdCA9IG5ldyBTdHJpbmcoKTtcbiAgICAgIHJldHVybiBSZWZsZWN0LmdldE1ldGFkYXRhKFwidHJhY2VJRGNyb25cIiwgcmVzdWx0LCBcInRvU3RyaW5nXCIpO1xuICAgIH1cbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgRm9ybWF0dGVyO1xuIiwiaW1wb3J0ICogYXMgclRyYWNlciBmcm9tIFwiQHBpY2tpdC9jbHMtcnRyYWNlclwiO1xuaW1wb3J0IE1lc3NhZ2UgZnJvbSAnLi4vLi4vbW9kZWxzL01lc3NhZ2UnO1xuaW1wb3J0IExvZ2dlclR5cGUgZnJvbSBcIi4uLy4uL2NvbnN0YW50cy9Mb2dnZXJUeXBlXCI7XG5pbXBvcnQgeyBTZXJ2aWNlIH0gZnJvbSAndHlwZWRpJztcblxuQFNlcnZpY2UoKVxuYWJzdHJhY3QgY2xhc3MgTGV2ZWxlZExvZ01ldGhvZCB7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICApIHsgfVxuXG4gICAgcHVibGljIGdldFRyYWNlSWQoKSB7XG4gICAgICAgIHJldHVybiByVHJhY2VyLmlkKCk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGZvcm1hdE1lc3NhZ2VDb25zb2xlKG1lc3NhZ2U6IE1lc3NhZ2UpIHtcbiAgICAgICAgbGV0IGluZm8gPSB0aGlzLmdldEluZm8obWVzc2FnZSk7XG4gICAgICAgIGxldCBvdXRwdXQgPSBgYDtcbiAgICAgICAgb3V0cHV0ICs9IG1lc3NhZ2UudHJhY2VJZCA/IGAke3RoaXMuZ2V0QXBwTmFtZSgpfSAke3RoaXMuZGlzcGxheVRpbWVzdGFtcChtZXNzYWdlLnRzTG9nLnRvSVNPU3RyaW5nKCkpfSAke3RoaXMuZGlzcGxheVRyYWNlSWQobWVzc2FnZS50cmFjZUlkKX0gfCAke2luZm99YFxuICAgICAgICAgIDogYCR7dGhpcy5nZXRBcHBOYW1lKCl9ICR7dGhpcy5kaXNwbGF5VGltZXN0YW1wKG1lc3NhZ2UudHNMb2cudG9JU09TdHJpbmcoKSl9IHwgJHtpbmZvfWA7XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRJbmZvID0gKG1lc3NhZ2U6IE1lc3NhZ2UpOiBzdHJpbmcgPT4ge1xuICAgICAgICBzd2l0Y2ggKG1lc3NhZ2UudHlwZSkge1xuICAgICAgICAgICAgY2FzZSBMb2dnZXJUeXBlLlJFUVVFU1Q6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBUeXBlOiAke0xvZ2dlclR5cGUuUkVRVUVTVH0gfCBPcmlnaW5UeXBlOiAke21lc3NhZ2Uub3JpZ2luVHlwZX0gfCBMZXZlbDogJHt0aGlzLmRpc3BsYXlMZXZlbChtZXNzYWdlLmxldmVsKX0gfCBNZXRob2Q6ICR7bWVzc2FnZS5tZXRob2R9IHwgRG9tYWluOiAke21lc3NhZ2UuZG9tYWlufSB8IEVuZHBvaW50OiAke21lc3NhZ2UuZW5kcG9pbnR9IHwgQ29udGVudDogJHttZXNzYWdlLmNvbnRlbnR9IGA7XG4gICAgICAgICAgICBjYXNlIExvZ2dlclR5cGUuUkVTUE9OU0U6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBUeXBlOiAke0xvZ2dlclR5cGUuUkVTUE9OU0V9IHwgT3JpZ2luVHlwZTogJHttZXNzYWdlLm9yaWdpblR5cGV9IHwgTGV2ZWw6ICR7dGhpcy5kaXNwbGF5TGV2ZWwobWVzc2FnZS5sZXZlbCl9IHwgU3RhdHVzQ29kZTogJHt0aGlzLmRpc3BsYXlTdGF0dXNDb2RlKG1lc3NhZ2Uuc3RhdHVzQ29kZSl9IHwgQ29udGVudDogJHttZXNzYWdlLmNvbnRlbnR9YDtcbiAgICAgICAgICAgIGNhc2UgTG9nZ2VyVHlwZS5NRVNTQUdFOlxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFR5cGU6ICR7TG9nZ2VyVHlwZS5NRVNTQUdFfSB8IExldmVsOiAke3RoaXMuZGlzcGxheUxldmVsKG1lc3NhZ2UubGV2ZWwpfSB8IENvbnRlbnQ6ICR7bWVzc2FnZS5jb250ZW50fWA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGRpc3BsYXlUaW1lc3RhbXAgPSAodGltZXN0YW1wOiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICAgICAgcmV0dXJuIGBbXFx1MDAxYlszNm0ke3RpbWVzdGFtcH1cXHUwMDFiWzM5bV1gO1xuICAgIH1cblxuICAgIHByaXZhdGUgZGlzcGxheVRyYWNlSWQgPSAodHJhY2VJZDogc3RyaW5nIHwgdW5rbm93bik6IHN0cmluZyA9PiB7XG4gICAgICAgIHJldHVybiB0cmFjZUlkID8gYFtcXHUwMDFiWzM2bXRyYWNlSWQ6JHt0cmFjZUlkfVxcdTAwMWJbMzltXWAgOiBcIlwiO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0QXBwTmFtZSA9ICgpOiBzdHJpbmcgPT4ge1xuICAgICAgICByZXR1cm4gYFtcXHUwMDFiWzM1bSR7cHJvY2Vzcy5lbnYuQVBQX05BTUV9XFx1MDAxYlszOW1dYDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGRpc3BsYXlTdGF0dXNDb2RlID0gKHN0YXR1c0NvZGU6IG51bWJlcik6IHN0cmluZyA9PiB7XG4gICAgICAgIHJldHVybiBgW1xcdTAwMWJbMzVtJHtzdGF0dXNDb2RlLnRvU3RyaW5nKCl9XFx1MDAxYlszOW1dYDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGRpc3BsYXlMZXZlbCA9IChsZXZlbDogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICAgICAgc3dpdGNoIChsZXZlbC50b0xvd2VyQ2FzZSgpKXtcbiAgICAgICAgICAgIC8vUkVEXG4gICAgICAgICAgICBjYXNlIFwiZXJyb3JcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFtcXHUwMDFiWzMxbSR7bGV2ZWx9XFx1MDAxYlszOW1dYDtcbiAgICAgICAgICAgIC8vR1JFRU5cbiAgICAgICAgICAgIGNhc2UgXCJpbmZvXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBbXFx1MDAxYlszMm0ke2xldmVsfVxcdTAwMWJbMzltXWA7XG4gICAgICAgICAgICAvL1lFTExPV1xuICAgICAgICAgICAgY2FzZSBcIndhcm5cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFtcXHUwMDFiWzMzbSR7bGV2ZWx9XFx1MDAxYlszOW1dYDtcbiAgICAgICAgICAgIC8vQkxVRSAgICBcbiAgICAgICAgICAgIGNhc2UgXCJkZWJ1Z1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgW1xcdTAwMWJbMzRtJHtsZXZlbH1cXHUwMDFiWzM5bV1gO1xuICAgICAgICAgICAgLy9HUkVFTlxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFtcXHUwMDFiWzMybSR7bGV2ZWx9XFx1MDAxYlszOW1dYDsgICAgIFxuICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgTGV2ZWxlZExvZ01ldGhvZDsiLCJpbXBvcnQgTGV2ZWxlZExvZ01ldGhvZCBmcm9tICcuL0xldmVsZWRMb2dNZXRob2QnO1xuaW1wb3J0IExvZ2dlclR5cGUgZnJvbSBcIi4uLy4uL2NvbnN0YW50cy9Mb2dnZXJUeXBlXCI7XG5pbXBvcnQgTGV2ZWxUeXBlIGZyb20gJy4uLy4uL2NvbnN0YW50cy9MZXZlbFR5cGUnO1xuaW1wb3J0IE1lc3NhZ2UgZnJvbSAnLi4vLi4vbW9kZWxzL01lc3NhZ2UnO1xuaW1wb3J0ICogYXMgclRyYWNlciBmcm9tIFwiQHBpY2tpdC9jbHMtcnRyYWNlclwiO1xuXG5jbGFzcyBMZXZlbGVkTWVzc2FnZUxvZ01ldGhvZCBleHRlbmRzIExldmVsZWRMb2dNZXRob2Qge1xuXG4gICAgaW5mbyhtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICAgICAgbGV0IG1zZzogTWVzc2FnZSA9IHtcbiAgICAgICAgICAgIG5hbWVBcHAgOiBwcm9jZXNzLmVudi5BUFBfTkFNRSxcbiAgICAgICAgICAgIG9yaWdpblR5cGUgOiBudWxsLFxuICAgICAgICAgICAgdHJhY2VJZCA6IHJUcmFjZXIuaWQoKSxcbiAgICAgICAgICAgIGxldmVsIDogTGV2ZWxUeXBlLmluZm8sXG4gICAgICAgICAgICB0eXBlIDogTG9nZ2VyVHlwZS5NRVNTQUdFLFxuICAgICAgICAgICAgbWV0aG9kIDogbnVsbCxcbiAgICAgICAgICAgIHN0YXR1c0NvZGUgOiBudWxsLFxuICAgICAgICAgICAgZG9tYWluIDogbnVsbCxcbiAgICAgICAgICAgIGVuZHBvaW50IDogbnVsbCxcbiAgICAgICAgICAgIHVybCA6IG51bGwsXG4gICAgICAgICAgICBjb250ZW50IDogbWVzc2FnZSxcbiAgICAgICAgICAgIHRzTG9nOiBuZXcgRGF0ZSgpXG4gICAgICAgIH07XG4gICAgICAgIGNvbnNvbGUuZXJyb3IodGhpcy5mb3JtYXRNZXNzYWdlQ29uc29sZShtc2cpKVxuICAgIH1cblxuICAgIGVycm9yKG1lc3NhZ2U6IHN0cmluZykge1xuICAgICAgICBsZXQgbXNnOiBNZXNzYWdlID0ge1xuICAgICAgICAgICAgbmFtZUFwcCA6IHByb2Nlc3MuZW52LkFQUF9OQU1FLFxuICAgICAgICAgICAgb3JpZ2luVHlwZSA6IG51bGwsXG4gICAgICAgICAgICB0cmFjZUlkIDogclRyYWNlci5pZCgpLFxuICAgICAgICAgICAgbGV2ZWwgOiBMZXZlbFR5cGUuZXJyb3IsXG4gICAgICAgICAgICB0eXBlIDogTG9nZ2VyVHlwZS5NRVNTQUdFLFxuICAgICAgICAgICAgbWV0aG9kIDogbnVsbCxcbiAgICAgICAgICAgIHN0YXR1c0NvZGUgOiBudWxsLFxuICAgICAgICAgICAgZG9tYWluIDogbnVsbCxcbiAgICAgICAgICAgIGVuZHBvaW50IDogbnVsbCxcbiAgICAgICAgICAgIHVybCA6IG51bGwsXG4gICAgICAgICAgICBjb250ZW50IDogbWVzc2FnZSxcbiAgICAgICAgICAgIHRzTG9nOiBuZXcgRGF0ZSgpXG4gICAgICAgIH07XG4gICAgICAgIGNvbnNvbGUuZXJyb3IodGhpcy5mb3JtYXRNZXNzYWdlQ29uc29sZShtc2cpKVxuICAgIH1cblxuICAgIGRlYnVnKG1lc3NhZ2U6IHN0cmluZykge1xuICAgICAgICBsZXQgbXNnOiBNZXNzYWdlID0ge1xuICAgICAgICAgICAgbmFtZUFwcCA6IHByb2Nlc3MuZW52LkFQUF9OQU1FLFxuICAgICAgICAgICAgb3JpZ2luVHlwZSA6IG51bGwsXG4gICAgICAgICAgICB0cmFjZUlkIDogclRyYWNlci5pZCgpLFxuICAgICAgICAgICAgbGV2ZWwgOiBMZXZlbFR5cGUuZGVidWcsXG4gICAgICAgICAgICB0eXBlIDogTG9nZ2VyVHlwZS5NRVNTQUdFLFxuICAgICAgICAgICAgbWV0aG9kIDogbnVsbCxcbiAgICAgICAgICAgIHN0YXR1c0NvZGUgOiBudWxsLFxuICAgICAgICAgICAgZG9tYWluIDogbnVsbCxcbiAgICAgICAgICAgIGVuZHBvaW50IDogbnVsbCxcbiAgICAgICAgICAgIHVybCA6IG51bGwsXG4gICAgICAgICAgICBjb250ZW50IDogbWVzc2FnZSxcbiAgICAgICAgICAgIHRzTG9nOiBuZXcgRGF0ZSgpXG4gICAgICAgIH07XG4gICAgICAgIGlmKHByb2Nlc3MuZW52LlBJQ0tJVF9ERUJVRyA9PSAndHJ1ZScpe1xuICAgICAgICAgICAgY29uc29sZS5kZWJ1Zyh0aGlzLmZvcm1hdE1lc3NhZ2VDb25zb2xlKG1zZykpXG4gICAgICAgIH07XG4gICAgICAgIFxuICAgIH1cblxuICAgIHdhcm4obWVzc2FnZTogc3RyaW5nKSB7XG4gICAgICAgIGxldCBtc2c6IE1lc3NhZ2UgPSB7XG4gICAgICAgICAgICBuYW1lQXBwIDogcHJvY2Vzcy5lbnYuQVBQX05BTUUsXG4gICAgICAgICAgICBvcmlnaW5UeXBlIDogbnVsbCxcbiAgICAgICAgICAgIHRyYWNlSWQgOiByVHJhY2VyLmlkKCksXG4gICAgICAgICAgICBsZXZlbCA6IExldmVsVHlwZS53YXJuLFxuICAgICAgICAgICAgdHlwZSA6IExvZ2dlclR5cGUuTUVTU0FHRSxcbiAgICAgICAgICAgIG1ldGhvZCA6IG51bGwsXG4gICAgICAgICAgICBzdGF0dXNDb2RlIDogbnVsbCxcbiAgICAgICAgICAgIGRvbWFpbiA6IG51bGwsXG4gICAgICAgICAgICBlbmRwb2ludCA6IG51bGwsXG4gICAgICAgICAgICB1cmwgOiBudWxsLFxuICAgICAgICAgICAgY29udGVudCA6IG1lc3NhZ2UsXG4gICAgICAgICAgICB0c0xvZzogbmV3IERhdGUoKVxuICAgICAgICB9O1xuICAgICAgICBjb25zb2xlLndhcm4odGhpcy5mb3JtYXRNZXNzYWdlQ29uc29sZShtc2cpKVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTGV2ZWxlZE1lc3NhZ2VMb2dNZXRob2Q7IiwiaW1wb3J0IExldmVsZWRMb2dNZXRob2QgZnJvbSAnLi9MZXZlbGVkTG9nTWV0aG9kJztcbmltcG9ydCBMb2dnZXJUeXBlIGZyb20gXCIuLi8uLi9jb25zdGFudHMvTG9nZ2VyVHlwZVwiO1xuaW1wb3J0IE1lc3NhZ2UgZnJvbSAnLi4vLi4vbW9kZWxzL01lc3NhZ2UnO1xuaW1wb3J0IExldmVsVHlwZSBmcm9tICcuLi8uLi9jb25zdGFudHMvTGV2ZWxUeXBlJztcblxuY2xhc3MgTGV2ZWxlZFJlcXVlc3RMb2dNZXRob2QgZXh0ZW5kcyBMZXZlbGVkTG9nTWV0aG9kIHtcblxuICAgIGluZm8ob3JpZ2luOiBzdHJpbmcsIG1ldGhvZDogc3RyaW5nLCBkb21haW46IHN0cmluZywgZW5kcG9pbnQ6IHN0cmluZywgYm9keTogc3RyaW5nLCBoZWFkZXI6IHN0cmluZykge1xuICAgICAgICBsZXQgbWVzc2FnZTogTWVzc2FnZSA9IHtcbiAgICAgICAgICAgIG5hbWVBcHAgOiBwcm9jZXNzLmVudi5BUFBfTkFNRSxcbiAgICAgICAgICAgIG9yaWdpblR5cGUgOiBvcmlnaW4sXG4gICAgICAgICAgICB0cmFjZUlkIDogdGhpcy5nZXRUcmFjZUlkKCksXG4gICAgICAgICAgICBsZXZlbCA6IExldmVsVHlwZS5pbmZvLFxuICAgICAgICAgICAgdHlwZSA6IExvZ2dlclR5cGUuUkVRVUVTVCxcbiAgICAgICAgICAgIG1ldGhvZCA6IG1ldGhvZCxcbiAgICAgICAgICAgIHN0YXR1c0NvZGUgOiBudWxsLFxuICAgICAgICAgICAgZG9tYWluIDogZG9tYWluLFxuICAgICAgICAgICAgZW5kcG9pbnQgOiBlbmRwb2ludCxcbiAgICAgICAgICAgIHVybCA6IGAke2RvbWFpbn0ke2VuZHBvaW50fWAsXG4gICAgICAgICAgICBjb250ZW50IDogYEhlYWRlcnM6ICR7aGVhZGVyfSBCb2R5OiAke2JvZHl9YCxcbiAgICAgICAgICAgIHRzTG9nOiBuZXcgRGF0ZSgpXG4gICAgICAgIH07XG4gICAgICAgIGNvbnNvbGUuaW5mbyh0aGlzLmZvcm1hdE1lc3NhZ2VDb25zb2xlKG1lc3NhZ2UpKVxuICAgIH1cblxuICAgIGVycm9yKG9yaWdpbjogc3RyaW5nLCBtZXRob2Q6IHN0cmluZywgZG9tYWluOiBzdHJpbmcsIGVuZHBvaW50OiBzdHJpbmcsIGJvZHk6IHN0cmluZywgaGVhZGVyOiBzdHJpbmcpIHtcbiAgICAgICAgbGV0IG1lc3NhZ2U6IE1lc3NhZ2UgPSB7XG4gICAgICAgICAgICBuYW1lQXBwIDogcHJvY2Vzcy5lbnYuQVBQX05BTUUsXG4gICAgICAgICAgICBvcmlnaW5UeXBlIDogb3JpZ2luLFxuICAgICAgICAgICAgdHJhY2VJZCA6IHRoaXMuZ2V0VHJhY2VJZCgpLFxuICAgICAgICAgICAgbGV2ZWwgOiBMZXZlbFR5cGUuZXJyb3IsXG4gICAgICAgICAgICB0eXBlIDogTG9nZ2VyVHlwZS5SRVFVRVNULFxuICAgICAgICAgICAgbWV0aG9kIDogbWV0aG9kLFxuICAgICAgICAgICAgc3RhdHVzQ29kZSA6IG51bGwsXG4gICAgICAgICAgICBkb21haW4gOiBkb21haW4sXG4gICAgICAgICAgICBlbmRwb2ludCA6IGVuZHBvaW50LFxuICAgICAgICAgICAgdXJsIDogYCR7ZG9tYWlufSR7ZW5kcG9pbnR9YCxcbiAgICAgICAgICAgIGNvbnRlbnQgOiBgSGVhZGVyczogJHtoZWFkZXJ9IEJvZHk6ICR7Ym9keX1gLFxuICAgICAgICAgICAgdHNMb2c6IG5ldyBEYXRlKClcbiAgICAgICAgfTtcbiAgICAgICAgY29uc29sZS5lcnJvcih0aGlzLmZvcm1hdE1lc3NhZ2VDb25zb2xlKG1lc3NhZ2UpKVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTGV2ZWxlZFJlcXVlc3RMb2dNZXRob2Q7IiwiaW1wb3J0IExldmVsZWRMb2dNZXRob2QgZnJvbSBcIi4vTGV2ZWxlZExvZ01ldGhvZFwiO1xuaW1wb3J0IExvZ2dlclR5cGUgZnJvbSBcIi4uLy4uL2NvbnN0YW50cy9Mb2dnZXJUeXBlXCI7XG5pbXBvcnQgTWVzc2FnZSBmcm9tICcuLi8uLi9tb2RlbHMvTWVzc2FnZSc7XG5pbXBvcnQgTGV2ZWxUeXBlIGZyb20gXCIuLi8uLi9jb25zdGFudHMvTGV2ZWxUeXBlXCI7XG5cbmNsYXNzIExldmVsZWRSZXNwb25zZUxvZ01ldGhvZCBleHRlbmRzIExldmVsZWRMb2dNZXRob2Qge1xuICAgIFxuICAgIGluZm8ob3JpZ2luOiBzdHJpbmcsIHN0YXR1c0NvZGU6IG51bWJlciwgYm9keTogc3RyaW5nLCBoZWFkZXI6IHN0cmluZykge1xuICAgICAgICBsZXQgbWVzc2FnZTogTWVzc2FnZSA9IHtcbiAgICAgICAgICAgIG5hbWVBcHAgOiBwcm9jZXNzLmVudi5BUFBfTkFNRSxcbiAgICAgICAgICAgIG9yaWdpblR5cGUgOiBvcmlnaW4sXG4gICAgICAgICAgICB0cmFjZUlkIDogdGhpcy5nZXRUcmFjZUlkKCksXG4gICAgICAgICAgICBsZXZlbCA6IExldmVsVHlwZS5pbmZvLFxuICAgICAgICAgICAgdHlwZSA6IExvZ2dlclR5cGUuUkVTUE9OU0UsXG4gICAgICAgICAgICBtZXRob2QgOiBudWxsLFxuICAgICAgICAgICAgc3RhdHVzQ29kZSA6IHN0YXR1c0NvZGUsXG4gICAgICAgICAgICBkb21haW4gOiBudWxsLFxuICAgICAgICAgICAgZW5kcG9pbnQgOiBudWxsLFxuICAgICAgICAgICAgdXJsIDogbnVsbCxcbiAgICAgICAgICAgIGNvbnRlbnQgOiBgSGVhZGVyczogJHtoZWFkZXJ9IEJvZHk6ICR7Ym9keX1gLFxuICAgICAgICAgICAgdHNMb2c6IG5ldyBEYXRlKClcbiAgICAgICAgfTtcbiAgICAgICAgY29uc29sZS5pbmZvKHRoaXMuZm9ybWF0TWVzc2FnZUNvbnNvbGUobWVzc2FnZSkpXG4gICAgfVxuXG4gICAgZXJyb3Iob3JpZ2luOiBzdHJpbmcsIHN0YXR1c0NvZGU6IG51bWJlciwgYm9keTogc3RyaW5nLCBoZWFkZXI6IHN0cmluZykge1xuICAgICAgICBsZXQgbWVzc2FnZTogTWVzc2FnZSA9IHtcbiAgICAgICAgICAgIG5hbWVBcHAgOiBwcm9jZXNzLmVudi5BUFBfTkFNRSxcbiAgICAgICAgICAgIG9yaWdpblR5cGUgOiBvcmlnaW4sXG4gICAgICAgICAgICB0cmFjZUlkIDogdGhpcy5nZXRUcmFjZUlkKCksXG4gICAgICAgICAgICBsZXZlbCA6IExldmVsVHlwZS5lcnJvcixcbiAgICAgICAgICAgIHR5cGUgOiBMb2dnZXJUeXBlLlJFU1BPTlNFLFxuICAgICAgICAgICAgbWV0aG9kIDogbnVsbCxcbiAgICAgICAgICAgIHN0YXR1c0NvZGUgOiBzdGF0dXNDb2RlLFxuICAgICAgICAgICAgZG9tYWluIDogbnVsbCxcbiAgICAgICAgICAgIGVuZHBvaW50IDogbnVsbCxcbiAgICAgICAgICAgIHVybCA6IG51bGwsXG4gICAgICAgICAgICBjb250ZW50IDogYEhlYWRlcnM6ICR7aGVhZGVyfSBCb2R5OiAke2JvZHl9YCxcbiAgICAgICAgICAgIHRzTG9nOiBuZXcgRGF0ZSgpXG4gICAgICAgIH07XG4gICAgICAgIGNvbnNvbGUuZXJyb3IodGhpcy5mb3JtYXRNZXNzYWdlQ29uc29sZShtZXNzYWdlKSlcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IExldmVsZWRSZXNwb25zZUxvZ01ldGhvZDsiLCJpbXBvcnQgeyBjcmVhdGVMb2dnZXIsIGZvcm1hdCwgdHJhbnNwb3J0cyB9IGZyb20gXCJ3aW5zdG9uXCI7XG5pbXBvcnQgXCJyZWZsZWN0LW1ldGFkYXRhXCI7XG5pbXBvcnQgQ29uc29sZUZvcm1hdCBmcm9tIFwiLi4vbW9kZWxzL0NvbnNvbGVGb3JtYXR0ZXJcIjtcbmNvbnN0IHV1aWQgPSByZXF1aXJlKFwibm9kZS11dWlkXCIpO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMb2dnZXJDbGFzcyB7XG4gIHN0YXRpYyBzZXRUcmFjZUlkID0gKCkgPT4ge1xuICAgIGNvbnN0IHRyYWNlSUQgPSB1dWlkLnY0KCk7XG4gICAgUmVmbGVjdC5kZWZpbmVNZXRhZGF0YShcbiAgICAgIFwidHJhY2VJRGNyb25cIixcbiAgICAgIHRyYWNlSUQsXG4gICAgICBTdHJpbmcucHJvdG90eXBlLFxuICAgICAgXCJ0b1N0cmluZ1wiXG4gICAgKTtcbiAgfTtcblxuICBzdGF0aWMgY3JlYXRlTG9nZ2VyKCkge1xuICAgIGxldCBjb25zb2xlRm9ybWF0dGVyID0gbmV3IENvbnNvbGVGb3JtYXQoKTtcbiAgICByZXR1cm4gY3JlYXRlTG9nZ2VyKHtcbiAgICAgIHRyYW5zcG9ydHM6IFtcbiAgICAgICAgbmV3IHRyYW5zcG9ydHMuQ29uc29sZSh7XG4gICAgICAgICAgbGV2ZWw6IFwiZGVidWdcIixcbiAgICAgICAgICBmb3JtYXQ6IGZvcm1hdC5jb21iaW5lKFxuICAgICAgICAgICAgZm9ybWF0LmNvbG9yaXplKCksXG4gICAgICAgICAgICBmb3JtYXQuanNvbigpLFxuICAgICAgICAgICAgZm9ybWF0LnRpbWVzdGFtcCh7Zm9ybWF0OiAnWVlZWS1NTS1ERFRISDptbTpzcy5TU1NaJ30pLFxuICAgICAgICAgICAgZm9ybWF0LnByaW50Zihjb25zb2xlRm9ybWF0dGVyLmZvcm1hdE1lc3NhZ2VDb25zb2xlKVxuICAgICAgICAgICksXG4gICAgICAgIH0pLFxuICAgICAgXSxcbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IExldmVsZWRSZXF1ZXN0TG9nTWV0aG9kIGZyb20gJy4vTGV2ZWxlZExvZ01ldGhvZHMvTGV2ZWxlZFJlcXVlc3RMb2dNZXRob2QnO1xuaW1wb3J0IExldmVsZWRSZXNwb25zZUxvZ01ldGhvZCBmcm9tICcuL0xldmVsZWRMb2dNZXRob2RzL0xldmVsZWRSZXNwb25zZUxvZ01ldGhvZCc7XG5pbXBvcnQgTGV2ZWxlZE1lc3NhZ2VMb2dNZXRob2QgZnJvbSAnLi9MZXZlbGVkTG9nTWV0aG9kcy9MZXZlbGVkTWVzc2FnZUxvZ01ldGhvZCc7XG5pbXBvcnQgeyBTZXJ2aWNlLCBDb250YWluZXIgfSBmcm9tICd0eXBlZGknO1xuXG5AU2VydmljZSgpXG5jbGFzcyBMb2dnZXJWMiB7XG5cbiAgICByZXF1ZXN0OiBMZXZlbGVkUmVxdWVzdExvZ01ldGhvZCA9IENvbnRhaW5lci5nZXQ8TGV2ZWxlZFJlcXVlc3RMb2dNZXRob2Q+KExldmVsZWRSZXF1ZXN0TG9nTWV0aG9kKTtcbiAgICByZXNwb25zZTogTGV2ZWxlZFJlc3BvbnNlTG9nTWV0aG9kID0gQ29udGFpbmVyLmdldDxMZXZlbGVkUmVzcG9uc2VMb2dNZXRob2Q+KExldmVsZWRSZXNwb25zZUxvZ01ldGhvZCk7XG4gICAgbWVzc2FnZTogTGV2ZWxlZE1lc3NhZ2VMb2dNZXRob2QgPSBDb250YWluZXIuZ2V0PExldmVsZWRNZXNzYWdlTG9nTWV0aG9kPihMZXZlbGVkTWVzc2FnZUxvZ01ldGhvZCk7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy52YWxpZGF0ZUVudmlyb25tZW50cygpO1xuICAgIH1cblxuICAgIGdldFRyYWNlSWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1lc3NhZ2UuZ2V0VHJhY2VJZCgpO1xuICAgIH1cblxuICAgIHZhbGlkYXRlRW52aXJvbm1lbnRzKCkge1xuICAgICAgICBpZiAoIXByb2Nlc3MuZW52LkFQUF9OQU1FKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJFcnJvciBMb2dnZXI6IFRoZSBlbnZpcm9ubWVudCAnQVBQX05BTUUnIGlzIHJlcXVpcmVkXCIpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBMb2dnZXJWMjsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJAcGlja2l0L2Nscy1ydHJhY2VyXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImV4cHJlc3MtaHR0cC1jb250ZXh0XCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIm5vZGUtdXVpZFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWZsZWN0LW1ldGFkYXRhXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInR5cGVkaVwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJ3aW5zdG9uXCIpOyJdLCJzb3VyY2VSb290IjoiIn0=